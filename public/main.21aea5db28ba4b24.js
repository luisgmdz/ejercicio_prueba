(self.webpackChunkejercicio=self.webpackChunkejercicio||[]).push([[179],{2011:(st,Ce,F)=>{"use strict";F.d(Ce,{hO:()=>Ue,xv:()=>de,Dh:()=>ae,GT:()=>me,cc:()=>xe,on:()=>H,pX:()=>se});var u=F(5e3),J=F(127),N=F(5813);st=F.hmd(st);const ce=["ngOnDestroy"],se=(K,ue,De,_e={})=>new Proxy(K,{get:($e,Me)=>De.runOutsideAngular(()=>{var ze;if(K[Me])return(null===(ze=null==_e?void 0:_e.spy)||void 0===ze?void 0:ze.get)&&_e.spy.get(Me,K[Me]),K[Me];if(ce.indexOf(Me)>-1)return()=>{};const Ze=ue.toPromise().then(dt=>{const te=dt&&dt[Me];return"function"==typeof te?te.bind(dt):te&&te.then?te.then(he=>De.run(()=>he)):De.run(()=>te)});return new Proxy(()=>{},{get:(dt,te)=>Ze[te],apply:(dt,te,he)=>Ze.then(ve=>{var Ee;const Pe=ve&&ve(...he);return(null===(Ee=null==_e?void 0:_e.spy)||void 0===Ee?void 0:Ee.apply)&&_e.spy.apply(Me,he,Pe),Pe})})})}),me=(K,ue)=>{ue.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(_e=>{Object.defineProperty(K.prototype,_e,Object.getOwnPropertyDescriptor(De.prototype||De,_e))})})};class ne{constructor(ue){return ue}}const ae=new u.OlP("angularfire2.app.options"),de=new u.OlP("angularfire2.app.name");function H(K,ue,De){const $e="object"==typeof De&&De||{};$e.name=$e.name||"string"==typeof De&&De||"[DEFAULT]";const ze=J.Z.apps.filter(Ze=>Ze&&Ze.name===$e.name)[0]||ue.runOutsideAngular(()=>J.Z.initializeApp(K,$e));try{JSON.stringify(K)!==JSON.stringify(ze.options)&&G("error",`${ze.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return new ne(ze)}const G=(K,...ue)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[K](...ue)},X={provide:ne,useFactory:H,deps:[ae,u.R0b,[new u.FiY,de]]};let Ue=(()=>{class K{constructor(De){J.Z.registerVersion("angularfire",N.q4.full,"core"),J.Z.registerVersion("angularfire",N.q4.full,"app-compat"),J.Z.registerVersion("angular",u.q4F.full,De.toString())}static initializeApp(De,_e){return{ngModule:K,providers:[{provide:ae,useValue:De},{provide:de,useValue:_e}]}}}return K.\u0275fac=function(De){return new(De||K)(u.LFG(u.Lbi))},K.\u0275mod=u.oAB({type:K}),K.\u0275inj=u.cJS({providers:[X]}),K})();function xe(K,ue,De,_e,$e){const[,Me,ze]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===K)||[];if(Me)return function(K,ue){try{return K.toString()===ue.toString()}catch(De){return K===ue}}($e,ze)||(le("error",`${ue} was already initialized on the ${De} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:$e,was:ze})),Me;{const Ze=_e();return globalThis.\u0275AngularfireInstanceCache.push([K,Ze,$e]),Ze}}const Be=!!st.hot,le=(K,...ue)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[K](...ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(st,Ce,F)=>{"use strict";F.d(Ce,{q4:()=>Qc,iC:()=>Yi,HU:()=>zu,vb:()=>Xc,JM:()=>Lh});var u=F(5e3),J=F(5867),N=F(5861),ce=F(9681),se=F(2090),me=F(4859),ne=F(1877),ae=F(2940);const de="@firebase/installations",H="0.5.4",X=`w:${H}`,Ue="FIS_v2",ue=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function De(D){return D instanceof se.ZR&&D.code.includes("request-failed")}function _e({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function $e(D){return{token:D.token,requestStatus:2,expiresIn:ve(D.expiresIn),creationTime:Date.now()}}function Me(D,x){return ze.apply(this,arguments)}function ze(){return(ze=(0,N.Z)(function*(D,x){const V=(yield x.json()).error;return ue.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Ze({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function dt(D,{refreshToken:x}){const O=Ze(D);return O.append("Authorization",function(D){return`${Ue} ${D}`}(x)),O}function te(D){return he.apply(this,arguments)}function he(){return(he=(0,N.Z)(function*(D){const x=yield D();return x.status>=500&&x.status<600?D():x})).apply(this,arguments)}function ve(D){return Number(D.replace("s","000"))}function Pe(D,x){return fe.apply(this,arguments)}function fe(){return(fe=(0,N.Z)(function*(D,{fid:x}){const O=_e(D),ie={method:"POST",headers:Ze(D),body:JSON.stringify({fid:x,authVersion:Ue,appId:D.appId,sdkVersion:X})},Te=yield te(()=>fetch(O,ie));if(Te.ok){const Ye=yield Te.json();return{fid:Ye.fid||x,registrationStatus:2,refreshToken:Ye.refreshToken,authToken:$e(Ye.authToken)}}throw yield Me("Create Installation",Te)})).apply(this,arguments)}function At(D){return new Promise(x=>{setTimeout(x,D)})}const zn=/^[cdef][\w-]{21}$/;function wt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return zn.test(O)?O:""}catch(D){return""}}function an(D){return`${D.appName}!${D.appId}`}const Ar=new Map;function Ur(D,x){const O=an(D);Sn(O,x),function(D,x){const O=(!Ut&&"BroadcastChannel"in self&&(Ut=new BroadcastChannel("[Firebase] FID Change"),Ut.onmessage=D=>{Sn(D.data.key,D.data.fid)}),Ut);O&&O.postMessage({key:D,fid:x}),0===Ar.size&&Ut&&(Ut.close(),Ut=null)}(O,x)}function Sn(D,x){const O=Ar.get(D);if(O)for(const V of O)V(x)}let Ut=null;const Ie="firebase-installations-store";let Qn=null;function Bn(){return Qn||(Qn=(0,ae.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Ie)})),Qn}function gt(D,x){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,N.Z)(function*(D,x){const O=an(D),Y=(yield Bn()).transaction(Ie,"readwrite"),ie=Y.objectStore(Ie),Te=yield ie.get(O);return yield ie.put(x,O),yield Y.complete,(!Te||Te.fid!==x.fid)&&Ur(D,x.fid),x})).apply(this,arguments)}function mi(D){return jr.apply(this,arguments)}function jr(){return(jr=(0,N.Z)(function*(D){const x=an(D),V=(yield Bn()).transaction(Ie,"readwrite");yield V.objectStore(Ie).delete(x),yield V.complete})).apply(this,arguments)}function ct(D,x){return mt.apply(this,arguments)}function mt(){return(mt=(0,N.Z)(function*(D,x){const O=an(D),Y=(yield Bn()).transaction(Ie,"readwrite"),ie=Y.objectStore(Ie),Te=yield ie.get(O),Ye=x(Te);return void 0===Ye?yield ie.delete(O):yield ie.put(Ye,O),yield Y.complete,Ye&&(!Te||Te.fid!==Ye.fid)&&Ur(D,Ye.fid),Ye})).apply(this,arguments)}function Ft(D){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,N.Z)(function*(D){let x;const O=yield ct(D,V=>{const Y=Gr(V),ie=Wt(D,Y);return x=ie.registrationPromise,ie.installationEntry});return""===O.fid?{installationEntry:yield x}:{installationEntry:O,registrationPromise:x}})).apply(this,arguments)}function Gr(D){return Et(D||{fid:wt(),registrationStatus:0})}function Wt(D,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(ue.create("app-offline"))};const O={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},V=function(D,x){return at.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:V}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Du(D)}:{installationEntry:x}}function at(){return(at=(0,N.Z)(function*(D,x){try{return gt(D,yield Pe(D,x))}catch(O){throw De(O)&&409===O.customData.serverCode?yield mi(D):yield gt(D,{fid:x.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Du(D){return Os.apply(this,arguments)}function Os(){return(Os=(0,N.Z)(function*(D){let x=yield Kt(D);for(;1===x.registrationStatus;)yield At(100),x=yield Kt(D);if(0===x.registrationStatus){const{installationEntry:O,registrationPromise:V}=yield Ft(D);return V||O}return x})).apply(this,arguments)}function Kt(D){return ct(D,x=>{if(!x)throw ue.create("installation-not-found");return Et(x)})}function Et(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function xu(D,x){return z.apply(this,arguments)}function z(){return(z=(0,N.Z)(function*({appConfig:D,platformLoggerProvider:x},O){const V=U(D,O),Y=dt(D,O),ie=x.getImmediate({optional:!0});ie&&Y.append("x-firebase-client",ie.getPlatformInfoString());const Ye={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:X}})},We=yield te(()=>fetch(V,Ye));if(We.ok)return $e(yield We.json());throw yield Me("Generate Auth Token",We)})).apply(this,arguments)}function U(D,{fid:x}){return`${_e(D)}/${x}/authTokens:generate`}function q(D){return be.apply(this,arguments)}function be(){return(be=(0,N.Z)(function*(D,x=!1){let O;const V=yield ct(D.appConfig,ie=>{if(!Cn(ie))throw ue.create("not-registered");const Te=ie.authToken;if(!x&&Hr(Te))return ie;if(1===Te.requestStatus)return O=re(D,x),ie;{if(!navigator.onLine)throw ue.create("app-offline");const Ye=ur(ie);return O=Yt(D,Ye),Ye}});return O?yield O:V.authToken})).apply(this,arguments)}function re(D,x){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,N.Z)(function*(D,x){let O=yield ht(D.appConfig);for(;1===O.authToken.requestStatus;)yield At(100),O=yield ht(D.appConfig);const V=O.authToken;return 0===V.requestStatus?q(D,x):V})).apply(this,arguments)}function ht(D){return ct(D,x=>{if(!Cn(x))throw ue.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function Yt(D,x){return lr.apply(this,arguments)}function lr(){return(lr=(0,N.Z)(function*(D,x){try{const O=yield xu(D,x),V=Object.assign(Object.assign({},x),{authToken:O});return yield gt(D.appConfig,V),O}catch(O){if(!De(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const V=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield gt(D.appConfig,V)}else yield mi(D.appConfig);throw O}})).apply(this,arguments)}function Cn(D){return void 0!==D&&2===D.registrationStatus}function Hr(D){return 2===D.requestStatus&&!function(D){const x=Date.now();return x<D.creationTime||D.creationTime+D.expiresIn<x+36e5}(D)}function ur(D){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:x})}function ba(){return(ba=(0,N.Z)(function*(D){const x=D,{installationEntry:O,registrationPromise:V}=yield Ft(x.appConfig);return V?V.catch(console.error):q(x).catch(console.error),O.fid})).apply(this,arguments)}function uo(){return(uo=(0,N.Z)(function*(D,x=!1){const O=D;return yield Au(O.appConfig),(yield q(O,x)).token})).apply(this,arguments)}function Au(D){return un.apply(this,arguments)}function un(){return(un=(0,N.Z)(function*(D){const{registrationPromise:x}=yield Ft(D);x&&(yield x)})).apply(this,arguments)}function Rn(D){return ue.create("missing-app-config-values",{valueName:D})}const Oc="installations";(0,ce._registerComponent)(new me.wA(Oc,D=>{const x=D.getProvider("app").getImmediate(),O=function(D){if(!D||!D.options)throw Rn("App Configuration");if(!D.name)throw Rn("App Name");const x=["projectId","apiKey","appId"];for(const O of x)if(!D.options[O])throw Rn(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(x);return{app:x,appConfig:O,platformLoggerProvider:(0,ce._getProvider)(x,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new me.wA("installations-internal",D=>{const x=D.getProvider("app").getImmediate(),O=(0,ce._getProvider)(x,Oc).getImmediate();return{getId:()=>function(D){return ba.apply(this,arguments)}(O),getToken:Y=>function(D){return uo.apply(this,arguments)}(O,Y)}},"PRIVATE")),(0,ce.registerVersion)(de,H),(0,ce.registerVersion)(de,H,"esm2017");const In="@firebase/remote-config",Un=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wh{constructor(x,O,V,Y){this.client=x,this.storage=O,this.storageCache=V,this.logger=Y}isCachedDataFresh(x,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-O,Y=V<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${Y}.`),Y}fetch(x){var O=this;return(0,N.Z)(function*(){const[V,Y]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Y&&O.isCachedDataFresh(x.cacheMaxAgeMillis,V))return Y;x.eTag=Y&&Y.eTag;const ie=yield O.client.fetch(x),Te=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Te.push(O.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Te),ie})()}}function Ip(D=navigator){return D.languages&&D.languages[0]||D.language}class bi{constructor(x,O,V,Y,ie,Te){this.firebaseInstallations=x,this.sdkVersion=O,this.namespace=V,this.projectId=Y,this.apiKey=ie,this.appId=Te}fetch(x){var O=this;return(0,N.Z)(function*(){const[V,Y]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},We={sdk_version:O.sdkVersion,app_instance_id:V,app_instance_id_token:Y,app_id:O.appId,language_code:Ip()},Ot={method:"POST",headers:Ye,body:JSON.stringify(We)},Jt=fetch(Te,Ot),br=new Promise((Wr,Qi)=>{x.signal.addEventListener(()=>{const Ja=new Error("The operation was aborted.");Ja.name="AbortError",Qi(Ja)})});let Rr;try{yield Promise.race([Jt,br]),Rr=yield Jt}catch(Wr){let Qi="fetch-client-network";throw"AbortError"===Wr.name&&(Qi="fetch-timeout"),Un.create(Qi,{originalErrorMessage:Wr.message})}let xn=Rr.status;const ii=Rr.headers.get("ETag")||void 0;let Ws,qr;if(200===Rr.status){let Wr;try{Wr=yield Rr.json()}catch(Qi){throw Un.create("fetch-client-parse",{originalErrorMessage:Qi.message})}Ws=Wr.entries,qr=Wr.state}if("INSTANCE_STATE_UNSPECIFIED"===qr?xn=500:"NO_CHANGE"===qr?xn=304:("NO_TEMPLATE"===qr||"EMPTY_CONFIG"===qr)&&(Ws={}),304!==xn&&200!==xn)throw Un.create("fetch-status",{httpStatus:xn});return{status:xn,eTag:ii,config:Ws}})()}}class Fc{constructor(x,O){this.client=x,this.storage=O}fetch(x){var O=this;return(0,N.Z)(function*(){const V=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(x,V)})()}attemptFetch(x,{throttleEndTimeMillis:O,backoffCount:V}){var Y=this;return(0,N.Z)(function*(){yield function(D,x){return new Promise((O,V)=>{const Y=Math.max(x-Date.now(),0),ie=setTimeout(O,Y);D.addEventListener(()=>{clearTimeout(ie),V(Un.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,O);try{const ie=yield Y.client.fetch(x);return yield Y.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function(D){if(!(D instanceof se.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ie))throw ie;const Te={throttleEndTimeMillis:Date.now()+(0,se.$s)(V),backoffCount:V+1};return yield Y.storage.setThrottleMetadata(Te),Y.attemptFetch(x,Te)}})()}}class Tp{constructor(x,O,V,Y,ie){this.app=x,this._client=O,this._storageCache=V,this._storage=Y,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ea(D,x){const O=D.target.error||void 0;return Un.create(x,{originalErrorMessage:O&&O.message})}const Uo="app_namespace_store";class Mp{constructor(x,O,V,Y=function(){return new Promise((D,x)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=V=>{x(Ea(V,"storage-open"))},O.onsuccess=V=>{D(V.target.result)},O.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Uo,{keyPath:"compositeKey"})}}catch(O){x(Un.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=x,this.appName=O,this.namespace=V,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var O=this;return(0,N.Z)(function*(){const V=yield O.openDbPromise;return new Promise((Y,ie)=>{const Ye=V.transaction([Uo],"readonly").objectStore(Uo),We=O.createCompositeKey(x);try{const Ot=Ye.get(We);Ot.onerror=Jt=>{ie(Ea(Jt,"storage-get"))},Ot.onsuccess=Jt=>{const br=Jt.target.result;Y(br?br.value:void 0)}}catch(Ot){ie(Un.create("storage-get",{originalErrorMessage:Ot&&Ot.message}))}})})()}set(x,O){var V=this;return(0,N.Z)(function*(){const Y=yield V.openDbPromise;return new Promise((ie,Te)=>{const We=Y.transaction([Uo],"readwrite").objectStore(Uo),Ot=V.createCompositeKey(x);try{const Jt=We.put({compositeKey:Ot,value:O});Jt.onerror=br=>{Te(Ea(br,"storage-set"))},Jt.onsuccess=()=>{ie()}}catch(Jt){Te(Un.create("storage-set",{originalErrorMessage:Jt&&Jt.message}))}})})()}delete(x){var O=this;return(0,N.Z)(function*(){const V=yield O.openDbPromise;return new Promise((Y,ie)=>{const Ye=V.transaction([Uo],"readwrite").objectStore(Uo),We=O.createCompositeKey(x);try{const Ot=Ye.delete(We);Ot.onerror=Jt=>{ie(Ea(Jt,"storage-delete"))},Ot.onsuccess=()=>{Y()}}catch(Ot){ie(Un.create("storage-delete",{originalErrorMessage:Ot&&Ot.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Vc{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,N.Z)(function*(){const O=x.storage.getLastFetchStatus(),V=x.storage.getLastSuccessfulFetchTimestampMillis(),Y=x.storage.getActiveConfig(),ie=yield O;ie&&(x.lastFetchStatus=ie);const Te=yield V;Te&&(x.lastSuccessfulFetchTimestampMillis=Te);const Ye=yield Y;Ye&&(x.activeConfig=Ye)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Ca(){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,N.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new me.wA("remote-config",function(x,{instanceIdentifier:O}){const V=x.getProvider("app").getImmediate(),Y=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Un.create("registration-window");if(!(0,se.hl)())throw Un.create("indexed-db-unavailable");const{projectId:ie,apiKey:Te,appId:Ye}=V.options;if(!ie)throw Un.create("registration-project-id");if(!Te)throw Un.create("registration-api-key");if(!Ye)throw Un.create("registration-app-id");const We=new Mp(Ye,V.name,O=O||"firebase"),Ot=new Vc(We),Jt=new ne.Yd(In);Jt.logLevel=ne.in.ERROR;const br=new bi(Y,ce.SDK_VERSION,O,ie,Te,Ye),Rr=new Fc(br,We),xn=new wh(Rr,We,Ot,Jt),ii=new Tp(V,xn,Ot,We,Jt);return function(D){const x=(0,se.m9)(D);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(ii),ii},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(In,"0.3.3"),(0,ce.registerVersion)(In,"0.3.3","esm2017");const Bc="/firebase-messaging-sw.js",kp="/firebase-cloud-messaging-push-scope",qi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ps="google.c.a.c_id",jo="google.c.a.c_l",Ls="google.c.a.ts",Il="google.c.a.e";var dr=(()=>{return(D=dr||(dr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",dr;var D})();function ds(D){const x=new Uint8Array(D);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Da(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(O),Y=new Uint8Array(V.length);for(let ie=0;ie<V.length;++ie)Y[ie]=V.charCodeAt(ie);return Y}const hs="fcm_token_details_db",jc="fcm_token_object_Store";function ku(D){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(hs))return null;let x=null;return(yield(0,ae.openDb)(hs,5,function(){var V=(0,N.Z)(function*(Y){var ie;if(Y.oldVersion<2||!Y.objectStoreNames.contains(jc))return;const Te=Y.transaction.objectStore(jc),Ye=yield Te.index("fcmSenderId").get(D);if(yield Te.clear(),Ye)if(2===Y.oldVersion){const We=Ye;if(!We.auth||!We.p256dh||!We.endpoint)return;x={token:We.fcmToken,createTime:null!==(ie=We.createTime)&&void 0!==ie?ie:Date.now(),subscriptionOptions:{auth:We.auth,p256dh:We.p256dh,endpoint:We.endpoint,swScope:We.swScope,vapidKey:"string"==typeof We.vapidKey?We.vapidKey:ds(We.vapidKey)}}}else if(3===Y.oldVersion){const We=Ye;x={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:ds(We.auth),p256dh:ds(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:ds(We.vapidKey)}}}else if(4===Y.oldVersion){const We=Ye;x={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:ds(We.auth),p256dh:ds(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:ds(We.vapidKey)}}}});return function(Y){return V.apply(this,arguments)}}())).close(),yield(0,ae.deleteDb)(hs),yield(0,ae.deleteDb)("fcm_vapid_details_db"),yield(0,ae.deleteDb)("undefined"),Dh(x)?x:null}),Tl.apply(this,arguments)}function Dh(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:x}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Xt="firebase-messaging-store";let Ou=null;function Vs(){return Ou||(Ou=(0,ae.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Xt)})),Ou}function kn(D){return go.apply(this,arguments)}function go(){return(go=(0,N.Z)(function*(D){const x=mo(D),V=yield(yield Vs()).transaction(Xt).objectStore(Xt).get(x);if(V)return V;{const Y=yield ku(D.appConfig.senderId);if(Y)return yield Tr(D,Y),Y}})).apply(this,arguments)}function Tr(D,x){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,N.Z)(function*(D,x){const O=mo(D),Y=(yield Vs()).transaction(Xt,"readwrite");return yield Y.objectStore(Xt).put(x,O),yield Y.complete,x})).apply(this,arguments)}function On(D){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,N.Z)(function*(D){const x=mo(D),V=(yield Vs()).transaction(Xt,"readwrite");yield V.objectStore(Xt).delete(x),yield V.complete})).apply(this,arguments)}function mo({appConfig:D}){return D.appId}const Qt=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fs(D,x){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,N.Z)(function*(D,x){const O=yield Rl(D),V=Go(x),Y={method:"POST",headers:O,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(Xe(D.appConfig),Y)).json()}catch(Te){throw Qt.create("token-subscribe-failed",{errorInfo:Te})}if(ie.error)throw Qt.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw Qt.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function _o(D,x){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,N.Z)(function*(D,x){const O=yield Rl(D),V=Go(x.subscriptionOptions),Y={method:"PATCH",headers:O,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(`${Xe(D.appConfig)}/${x.token}`,Y)).json()}catch(Te){throw Qt.create("token-update-failed",{errorInfo:Te})}if(ie.error)throw Qt.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw Qt.create("token-update-no-token");return ie.token})).apply(this,arguments)}function Sa(D,x){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,N.Z)(function*(D,x){const V={method:"DELETE",headers:yield Rl(D)};try{const ie=yield(yield fetch(`${Xe(D.appConfig)}/${x}`,V)).json();if(ie.error)throw Qt.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Y){throw Qt.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Xe({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Rl(D){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,N.Z)(function*({appConfig:D,installations:x}){const O=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Go({p256dh:D,auth:x,endpoint:O,vapidKey:V}){const Y={web:{endpoint:O,auth:x,p256dh:D}};return V!==qi&&(Y.web.applicationPubKey=V),Y}const Ta=6048e5;function kl(D){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,N.Z)(function*(D){const x=yield gs(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:x.endpoint,auth:ds(x.getKey("auth")),p256dh:ds(x.getKey("p256dh"))},V=yield kn(D.firebaseDependencies);if(V){if(Fl(V.subscriptionOptions,O))return Date.now()>=V.createTime+Ta?Nt(D,{token:V.token,createTime:Date.now(),subscriptionOptions:O}):V.token;try{yield Sa(D.firebaseDependencies,V.token)}catch(Y){console.warn(Y)}return yn(D.firebaseDependencies,O)}return yn(D.firebaseDependencies,O)})).apply(this,arguments)}function Gc(D){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,N.Z)(function*(D){const x=yield kn(D.firebaseDependencies);x&&(yield Sa(D.firebaseDependencies,x.token),yield On(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Nt(D,x){return ps.apply(this,arguments)}function ps(){return(ps=(0,N.Z)(function*(D,x){try{const O=yield _o(D.firebaseDependencies,x),V=Object.assign(Object.assign({},x),{token:O,createTime:Date.now()});return yield Tr(D.firebaseDependencies,V),O}catch(O){throw yield Gc(D),O}})).apply(this,arguments)}function yn(D,x){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,N.Z)(function*(D,x){const V={token:yield fs(D,x),createTime:Date.now(),subscriptionOptions:x};return yield Tr(D,V),V.token})).apply(this,arguments)}function gs(D,x){return hr.apply(this,arguments)}function hr(){return(hr=(0,N.Z)(function*(D,x){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Da(x)})})).apply(this,arguments)}function Fl(D,x){return x.vapidKey===D.vapidKey&&x.endpoint===D.endpoint&&x.auth===D.auth&&x.p256dh===D.p256dh}function vo(D){const x={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,x){if(!x.notification)return;D.notification={};const O=x.notification.title;O&&(D.notification.title=O);const V=x.notification.body;V&&(D.notification.body=V);const Y=x.notification.image;Y&&(D.notification.image=Y)}(x,D),function(D,x){!x.data||(D.data=x.data)}(x,D),function(D,x){if(!x.fcmOptions)return;D.fcmOptions={};const O=x.fcmOptions.link;O&&(D.fcmOptions.link=O);const V=x.fcmOptions.analytics_label;V&&(D.fcmOptions.analyticsLabel=V)}(x,D),x}function wo(D){return"object"==typeof D&&!!D&&Ps in D}function Xn(D,x){const O=[];for(let V=0;V<D.length;V++)O.push(D.charAt(V)),V<x.length&&O.push(x.charAt(V));return O.join("")}function ka(D){return Qt.create("missing-app-config-values",{valueName:D})}Xn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Us{constructor(x,O,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function(D){if(!D||!D.options)throw ka("App Configuration Object");if(!D.name)throw ka("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const V of x)if(!O[V])throw ka(V);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:Y,installations:O,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Wi(D){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,N.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Bc,{scope:kp}),D.swRegistration.update().catch(()=>{})}catch(x){throw Qt.create("failed-service-worker-registration",{browserErrorMessage:x.message})}})).apply(this,arguments)}function Fa(D,x){return Na.apply(this,arguments)}function Na(){return(Na=(0,N.Z)(function*(D,x){if(!x&&!D.swRegistration&&(yield Wi(D)),x||!D.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Qt.create("invalid-sw-registration");D.swRegistration=x}})).apply(this,arguments)}function Nl(D,x){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,N.Z)(function*(D,x){x?D.vapidKey=x:D.vapidKey||(D.vapidKey=qi)})).apply(this,arguments)}function Pl(){return(Pl=(0,N.Z)(function*(D,x){if(!navigator)throw Qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qt.create("permission-blocked");return yield Nl(D,null==x?void 0:x.vapidKey),yield Fa(D,null==x?void 0:x.serviceWorkerRegistration),kl(D)})).apply(this,arguments)}function $o(D,x,O){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,N.Z)(function*(D,x,O){const V=Ll(x);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:O[Ps],message_name:O[jo],message_time:O[Ls],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ll(D){switch(D){case dr.NOTIFICATION_CLICKED:return"notification_open";case dr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function La(){return(La=(0,N.Z)(function*(D,x){const O=x.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===dr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(vo(O)):D.onMessageHandler.next(vo(O)));const V=O.data;wo(V)&&"1"===V[Il]&&(yield $o(D,O.messageType,V))})).apply(this,arguments)}const Pu="@firebase/messaging";function Lu(){return cn.apply(this,arguments)}function cn(){return(cn=(0,N.Z)(function*(){return"undefined"!=typeof window&&(0,se.hl)()&&(yield(0,se.eu)())&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new me.wA("messaging",D=>{const x=new Us(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function(D,x){return La.apply(this,arguments)}(x,O)),x},"PUBLIC")),(0,ce._registerComponent)(new me.wA("messaging-internal",D=>{const x=D.getProvider("messaging").getImmediate();return{getToken:V=>function(D,x){return Pl.apply(this,arguments)}(x,V)}},"PRIVATE")),(0,ce.registerVersion)(Pu,"0.9.4"),(0,ce.registerVersion)(Pu,"0.9.4","esm2017");const Gs="analytics",Bl="firebase_id",Vu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wc="https://www.googletagmanager.com/gtag/js",fn=new ne.Yd("@firebase/analytics");function Ga(D){return Promise.all(D.map(x=>x.catch(O=>O)))}function Np(D,x){const O=document.createElement("script");O.src=`${Wc}?l=${D}&id=${x}`,O.async=!0,document.head.appendChild(O)}function zo(D,x,O,V,Y,ie){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,N.Z)(function*(D,x,O,V,Y,ie){const Te=V[Y];try{if(Te)yield x[Te];else{const We=(yield Ga(O)).find(Ot=>Ot.measurementId===Y);We&&(yield x[We.appId])}}catch(Ye){fn.error(Ye)}D("config",Y,ie)})).apply(this,arguments)}function bo(D,x,O,V,Y){return jl.apply(this,arguments)}function jl(){return(jl=(0,N.Z)(function*(D,x,O,V,Y){try{let ie=[];if(Y&&Y.send_to){let Te=Y.send_to;Array.isArray(Te)||(Te=[Te]);const Ye=yield Ga(O);for(const We of Te){const Ot=Ye.find(br=>br.measurementId===We),Jt=Ot&&x[Ot.appId];if(!Jt){ie=[];break}ie.push(Jt)}}0===ie.length&&(ie=Object.values(x)),yield Promise.all(ie),D("event",V,Y||{})}catch(ie){fn.error(ie)}})).apply(this,arguments)}function ms(){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(Wc))return x;return null}const Je=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xi=new class{constructor(x={},O=1e3){this.throttleMetadata=x,this.intervalMillis=O}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,O){this.throttleMetadata[x]=O}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function _r(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Dn(D){return tr.apply(this,arguments)}function tr(){return(tr=(0,N.Z)(function*(D){var x;const{appId:O,apiKey:V}=D,Y={method:"GET",headers:_r(V)},ie=Vu.replace("{app-id}",O),Te=yield fetch(ie,Y);if(200!==Te.status&&304!==Te.status){let Ye="";try{const We=yield Te.json();(null===(x=We.error)||void 0===x?void 0:x.message)&&(Ye=We.error.message)}catch(We){}throw Je.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:Ye})}return Te.json()})).apply(this,arguments)}function yt(D){return ys.apply(this,arguments)}function ys(){return(ys=(0,N.Z)(function*(D,x=xi,O){const{appId:V,apiKey:Y,measurementId:ie}=D.options;if(!V)throw Je.create("no-app-id");if(!Y){if(ie)return{measurementId:ie,appId:V};throw Je.create("no-api-key")}const Te=x.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new Ha;return setTimeout((0,N.Z)(function*(){Ye.abort()}),void 0!==O?O:6e4),qo({appId:V,apiKey:Y,measurementId:ie},Te,Ye,x)})).apply(this,arguments)}function qo(D,x,O){return ni.apply(this,arguments)}function ni(){return(ni=(0,N.Z)(function*(D,{throttleEndTimeMillis:x,backoffCount:O},V,Y=xi){const{appId:ie,measurementId:Te}=D;try{yield Mh(V,x)}catch(Ye){if(Te)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Ye.message}]`),{appId:ie,measurementId:Te};throw Ye}try{const Ye=yield Dn(D);return Y.deleteThrottleMetadata(ie),Ye}catch(Ye){if(!Rh(Ye)){if(Y.deleteThrottleMetadata(ie),Te)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Ye.message}]`),{appId:ie,measurementId:Te};throw Ye}const We=503===Number(Ye.customData.httpStatus)?(0,se.$s)(O,Y.intervalMillis,30):(0,se.$s)(O,Y.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+We,backoffCount:O+1};return Y.setThrottleMetadata(ie,Ot),fn.debug(`Calling attemptFetch again in ${We} millis`),qo(D,Ot,V,Y)}})).apply(this,arguments)}function Mh(D,x){return new Promise((O,V)=>{const Y=Math.max(x-Date.now(),0),ie=setTimeout(O,Y);D.addEventListener(()=>{clearTimeout(ie),V(Je.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Rh(D){if(!(D instanceof se.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Ha{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}function $a(){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,N.Z)(function*(){if(!(0,se.hl)())return fn.warn(Je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return fn.warn(Je.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function fr(){return(fr=(0,N.Z)(function*(D,x,O,V,Y,ie,Te){var Ye;const We=yt(D);We.then(xn=>{O[xn.measurementId]=xn.appId,D.options.measurementId&&xn.measurementId!==D.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xn=>fn.error(xn)),x.push(We);const Ot=$a().then(xn=>{if(xn)return V.getId()}),[Jt,br]=yield Promise.all([We,Ot]);ms()||Np(ie,Jt.measurementId),Y("js",new Date);const Rr=null!==(Ye=null==Te?void 0:Te.config)&&void 0!==Ye?Ye:{};return Rr.origin="firebase",Rr.update=!0,null!=br&&(Rr[Bl]=br),Y("config",Jt.measurementId,Rr),Jt.measurementId})).apply(this,arguments)}class kh{constructor(x){this.app=x}_delete(){return delete Zi[this.app.options.appId],Promise.resolve()}}let Zi={},Bu=[];const Gl={};let Oh,jn,qa="dataLayer",dn=!1;function Wa(D,x,O){!function(){const D=[];if((0,se.ru)()&&D.push("This is a browser extension environment."),(0,se.zI)()||D.push("Cookies are not available."),D.length>0){const x=D.map((V,Y)=>`(${Y+1}) ${V}`).join(" "),O=Je.create("invalid-analytics-context",{errorInfo:x});fn.warn(O.message)}}();const V=D.options.appId;if(!V)throw Je.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Je.create("no-api-key");fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zi[V])throw Je.create("already-exists",{id:V});if(!dn){!function(D){let x=[];Array.isArray(window[D])?x=window[D]:window[D]=x}(qa);const{wrappedGtag:ie,gtagCore:Te}=function(D,x,O,V,Y){let ie=function(...Te){window[V].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ie=window[Y]),window[Y]=function(D,x,O,V){function ie(){return(ie=(0,N.Z)(function*(Te,Ye,We){try{"event"===Te?yield bo(D,x,O,Ye,We):"config"===Te?yield zo(D,x,O,V,Ye,We):D("set",Ye)}catch(Ot){fn.error(Ot)}})).apply(this,arguments)}return function(Te,Ye,We){return ie.apply(this,arguments)}}(ie,D,x,O),{gtagCore:ie,wrappedGtag:window[Y]}}(Zi,Bu,Gl,qa,"gtag");jn=ie,Oh=Te,dn=!0}return Zi[V]=function(D,x,O,V,Y,ie,Te){return fr.apply(this,arguments)}(D,Bu,Gl,x,Oh,qa,O),new kh(D)}function Zo(){return(Zo=(0,N.Z)(function*(D,x,O,V,Y){if(Y&&Y.global)D("event",O,V);else{const ie=yield x;D("event",O,Object.assign(Object.assign({},V),{send_to:ie}))}})).apply(this,arguments)}function wn(){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,N.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}const Yc="@firebase/analytics";(0,ce._registerComponent)(new me.wA(Gs,(x,{options:O})=>Wa(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ce._registerComponent)(new me.wA("analytics-internal",function(x){try{const O=x.getProvider(Gs).getImmediate();return{logEvent:(V,Y,ie)=>function(D,x,O,V){D=(0,se.m9)(D),function(D,x,O,V,Y){return Zo.apply(this,arguments)}(jn,Zi[D.app.options.appId],x,O,V).catch(Y=>fn.error(Y))}(O,V,Y,ie)}}catch(O){throw Je.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ce.registerVersion)(Yc,"0.7.4"),(0,ce.registerVersion)(Yc,"0.7.4","esm2017");var nr=F(4408),Ka=F(7565);const Vp=new class extends Ka.v{}(class extends nr.o{constructor(x,O){super(x,O),this.scheduler=x,this.work=O}schedule(x,O=0){return O>0?super.schedule(x,O):(this.delay=O,this.state=x,this.scheduler.flush(this),this)}execute(x,O){return O>0||this.closed?super.execute(x,O):this._execute(x,O)}requestAsyncId(x,O,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(x,O,V):x.flush(this)}});var Ai=F(4986),Hu=F(8505),$r=F(9468),Ya=F(5363);const Qc=new u.GfV("7.2.0"),ql="__angularfire_symbol__analyticsIsSupported",Jc="__angularfire_symbol__remoteConfigIsSupported",vr="__angularfire_symbol__messagingIsSupported";function Lh(D,x,O){if(x){if(1===x.length)return x[0];const ie=x.filter(Te=>Te.app===O);if(1===ie.length)return ie[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[ql]||(globalThis[ql]=wn().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[vr]||(globalThis[vr]=Lu().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[Jc]||(globalThis[Jc]=Ca().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const Xc=(D,x)=>{const O=x?[x]:(0,J.C6)(),V=[];return O.forEach(Y=>{Y.container.getProvider(D).instances.forEach(Te=>{V.includes(Te)||V.push(Te)})}),V};function Si(){}class $u{constructor(x,O=Vp){this.zone=x,this.delegate=O}now(){return this.delegate.now()}schedule(x,O,V){const Y=this.zone;return this.delegate.schedule(function(Te){Y.runGuarded(()=>{x.apply(this,[Te])})},O,V)}}class Qa{constructor(x){this.zone=x,this.task=null}call(x,O){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Si,{},Si,Si)),O.pipe((0,Hu.b)({next:V,complete:V,error:V})).subscribe(x).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zu=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new $u(Zone.current)),this.insideAngular=O.run(()=>new $u(Zone.current,Ai.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function zr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Yi(D){return zr(),function(D){return function(O){return(O=O.lift(new Qa(D.ngZone))).pipe((0,$r.R)(D.outsideAngular),(0,Ya.Q)(D.insideAngular))}}(zr())(D)}},2090:(st,Ce,F)=>{"use strict";F.d(Ce,{BH:()=>Ue,LL:()=>fe,ZR:()=>Pe,zI:()=>he,US:()=>me,tV:()=>de,$s:()=>Kt,r3:()=>ln,Sg:()=>xe,ne:()=>Qn,vZ:()=>Ut,ZB:()=>G,pd:()=>Hi,m9:()=>xu,z$:()=>je,jU:()=>K,ru:()=>ue,d:()=>_e,xb:()=>Sn,w1:()=>$e,hl:()=>dt,uI:()=>Be,UG:()=>le,b$:()=>De,G6:()=>Ze,Mn:()=>Me,xO:()=>Po,zd:()=>gi,eu:()=>te});const ce=function(z){const U=[];let q=0;for(let be=0;be<z.length;be++){let re=z.charCodeAt(be);re<128?U[q++]=re:re<2048?(U[q++]=re>>6|192,U[q++]=63&re|128):55296==(64512&re)&&be+1<z.length&&56320==(64512&z.charCodeAt(be+1))?(re=65536+((1023&re)<<10)+(1023&z.charCodeAt(++be)),U[q++]=re>>18|240,U[q++]=re>>12&63|128,U[q++]=re>>6&63|128,U[q++]=63&re|128):(U[q++]=re>>12|224,U[q++]=re>>6&63|128,U[q++]=63&re|128)}return U},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,U){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let re=0;re<z.length;re+=3){const Qe=z[re],ht=re+1<z.length,Yt=ht?z[re+1]:0,lr=re+2<z.length,Cn=lr?z[re+2]:0;let ur=(15&Yt)<<2|Cn>>6,lo=63&Cn;lr||(lo=64,ht||(ur=64)),be.push(q[Qe>>2],q[(3&Qe)<<4|Yt>>4],q[ur],q[lo])}return be.join("")},encodeString(z,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(z):this.encodeByteArray(ce(z),U)},decodeString(z,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(z):function(z){const U=[];let q=0,be=0;for(;q<z.length;){const re=z[q++];if(re<128)U[be++]=String.fromCharCode(re);else if(re>191&&re<224){const Qe=z[q++];U[be++]=String.fromCharCode((31&re)<<6|63&Qe)}else if(re>239&&re<365){const lr=((7&re)<<18|(63&z[q++])<<12|(63&z[q++])<<6|63&z[q++])-65536;U[be++]=String.fromCharCode(55296+(lr>>10)),U[be++]=String.fromCharCode(56320+(1023&lr))}else{const Qe=z[q++],ht=z[q++];U[be++]=String.fromCharCode((15&re)<<12|(63&Qe)<<6|63&ht)}}return U.join("")}(this.decodeStringToByteArray(z,U))},decodeStringToByteArray(z,U){this.init_();const q=U?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let re=0;re<z.length;){const Qe=q[z.charAt(re++)],Yt=re<z.length?q[z.charAt(re)]:0;++re;const Cn=re<z.length?q[z.charAt(re)]:64;++re;const Bt=re<z.length?q[z.charAt(re)]:64;if(++re,null==Qe||null==Yt||null==Cn||null==Bt)throw Error();be.push(Qe<<2|Yt>>4),64!==Cn&&(be.push(Yt<<4&240|Cn>>2),64!==Bt&&be.push(Cn<<6&192|Bt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},ae=function(z){return function(z){const U=ce(z);return me.encodeByteArray(U,!0)}(z).replace(/\./g,"")},de=function(z){try{return me.decodeString(z,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function G(z,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return U}for(const q in U)!U.hasOwnProperty(q)||!X(q)||(z[q]=G(z[q],U[q]));return z}function X(z){return"__proto__"!==z}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,q)=>{this.resolve=U,this.reject=q})}wrapCallback(U){return(q,be)=>{q?this.reject(q):this.resolve(be),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(q):U(q,be))}}}function xe(z,U){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=U||"demo-project",re=z.iat||0,Qe=z.sub||z.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:re,exp:re+3600,auth_time:re,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},z);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(ht)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function K(){return"object"==typeof self&&self.self===self}function ue(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return je().indexOf("Electron/")>=0}function $e(){const z=je();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Me(){return je().indexOf("MSAppHost/")>=0}function Ze(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dt(){return"object"==typeof indexedDB}function te(){return new Promise((z,U)=>{try{let q=!0;const be="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(be);re.onsuccess=()=>{re.result.close(),q||self.indexedDB.deleteDatabase(be),z(!0)},re.onupgradeneeded=()=>{q=!1},re.onerror=()=>{var Qe;U((null===(Qe=re.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(q){U(q)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor(U,q,be){super(q),this.code=U,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(U,q,be){this.service=U,this.serviceName=q,this.errors=be}create(U,...q){const be=q[0]||{},re=`${this.service}/${U}`,Qe=this.errors[U],ht=Qe?function(z,U){return z.replace($t,(q,be)=>{const re=U[be];return null!=re?String(re):`<${be}?>`})}(Qe,be):"Error";return new Pe(re,`${this.serviceName}: ${ht} (${re}).`,be)}}const $t=/\{\$([^}]+)}/g;function ln(z,U){return Object.prototype.hasOwnProperty.call(z,U)}function Sn(z){for(const U in z)if(Object.prototype.hasOwnProperty.call(z,U))return!1;return!0}function Ut(z,U){if(z===U)return!0;const q=Object.keys(z),be=Object.keys(U);for(const re of q){if(!be.includes(re))return!1;const Qe=z[re],ht=U[re];if(En(Qe)&&En(ht)){if(!Ut(Qe,ht))return!1}else if(Qe!==ht)return!1}for(const re of be)if(!q.includes(re))return!1;return!0}function En(z){return null!==z&&"object"==typeof z}function Po(z){const U=[];for(const[q,be]of Object.entries(z))Array.isArray(be)?be.forEach(re=>{U.push(encodeURIComponent(q)+"="+encodeURIComponent(re))}):U.push(encodeURIComponent(q)+"="+encodeURIComponent(be));return U.length?"&"+U.join("&"):""}function gi(z){const U={};return z.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[re,Qe]=be.split("=");U[decodeURIComponent(re)]=decodeURIComponent(Qe)}}),U}function Hi(z){const U=z.indexOf("?");if(!U)return"";const q=z.indexOf("#",U);return z.substring(U,q>0?q:void 0)}function Qn(z,U){const q=new Bn(z,U);return q.subscribe.bind(q)}class Bn{constructor(U,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{U(this)}).catch(be=>{this.error(be)})}next(U){this.forEachObserver(q=>{q.next(U)})}error(U){this.forEachObserver(q=>{q.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,q,be){let re;if(void 0===U&&void 0===q&&void 0===be)throw new Error("Missing Observer.");re=function(z,U){if("object"!=typeof z||null===z)return!1;for(const q of["next","error","complete"])if(q in z&&"function"==typeof z[q])return!0;return!1}(U)?U:{next:U,error:q,complete:be},void 0===re.next&&(re.next=mi),void 0===re.error&&(re.error=mi),void 0===re.complete&&(re.complete=mi);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(ht){}}),this.observers.push(re),Qe}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,U)}sendOne(U,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{q(this.observers[U])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mi(){}function Kt(z,U=1e3,q=2){const be=U*Math.pow(q,z),re=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+re)}function xu(z){return z&&z._delegate?z._delegate:z}},7155:(st,Ce,F)=>{"use strict";var u=F(5e3);let J=null;function N(){return J}const ne=new u.OlP("DocumentToken");let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.LFG)(G)},providedIn:"platform"}),n})();const H=new u.OlP("Location Initialized");let G=(()=>{class n extends ae{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){X()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){X()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:function(){return new G((0,u.LFG)(ne))},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function je(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function(n){const e=(0,u.LFG)(ne).location;return new De((0,u.LFG)(ae),e&&e.origin||"")}()},providedIn:"root"}),n})();const ue=new u.OlP("appBaseHref");let De=(()=>{class n extends le{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Be(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const d=this.prepareExternalUrl(i+Be(a));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){const d=this.prepareExternalUrl(i+Be(a));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(ue,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n extends le{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let d=this.prepareExternalUrl(i+Be(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){let d=this.prepareExternalUrl(i+Be(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(ue,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=je(Ze(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Be(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Be,n.joinWithSlash=xe,n.stripTrailingSlash=je,n.\u0275fac=function(t){return new(t||n)(u.LFG(le),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(){return new $e((0,u.LFG)(le),(0,u.LFG)(ae))},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))();const Hi=u.kL8;class Jn{}let Un=(()=>{class n extends Jn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Hi(r||this.locale)(t)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Dt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}class fo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _i=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new fo(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const p=r.get(a);r.move(p,d),yr(p,i)}});for(let i=0,a=r.length;i<a;i++){const p=r.get(i).context;p.index=i,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{yr(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function yr(n,e){n.context.$implicit=e.item}let $i=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class vi{constructor(){this.$implicit=null,this.ngIf=null}}function rn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Vo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Su=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),wi=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Vo(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Su,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Il=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Jn,useClass:Un}]}),n})();const Uc="browser";function hs(n){return n===Uc}function Tn(n){return"server"===n}let Dh=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new xa((0,u.LFG)(ne),window)}),n})();class xa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=po(this.window.history)||po(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function po(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Vs{}class go extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new go,J||(J=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Tr=Tr||document.querySelector("base"),Tr?Tr.getAttribute("href"):null);return null==t?null:function(n){On=On||document.createElement("a"),On.setAttribute("href",n);const e=On.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Tr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Dt(document.cookie,e)}}let On,Tr=null;const mo=new u.OlP("TRANSITION_ID"),Qt=[{provide:u.ip1,useFactory:function(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[mo,ne,u.zs3],multi:!0}];class fs{static init(){(0,u.VLi)(new fs)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const p=function(_){d=d||_,a--,0==a&&r(d)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Aa=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const _o=new u.OlP("EventManagerPlugins");let Mr=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_o),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Sa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Bs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Xe=(()=>{class n extends Bs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Rl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Rl))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Rl(n){N().remove(n)}const Ia={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Go=/%COMP%/g;function ps(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ps(n,i,t):(i=i.replace(Go,n),t.push(i))}return t}function yn(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let gs=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new hr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Fu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Nu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ps(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mr),u.LFG(Xe),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class hr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ia[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Ia[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ia[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,yn(r)):this.eventManager.addEventListener(e,t,yn(r))}}class Fu extends hr{constructor(e,t,r,i){super(e),this.component=r;const a=ps(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr="_ngcontent-%COMP%".replace(Go,i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Go,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Nu extends hr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ps(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const p=document.createElement("style");p.textContent=a[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ra=(()=>{class n extends Sa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const wo=["alt","control","meta","shift"],Ci={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ka={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Us={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wi=(()=>{class n extends Sa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="";if(wo.forEach(_=>{const E=r.indexOf(_);E>-1&&(r.splice(E,1),d+=_+".")}),d+=a,0!=r.length||0===a.length)return null;const p={};return p.domEventName=i,p.fullKey=d,p}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ka.hasOwnProperty(e)&&(e=ka[e]))}return Ci[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wo.forEach(a=>{a!=i&&Us[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ho=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Uc},{provide:u.g9A,useValue:function(){go.makeCurrent(),fs.init()},multi:!0},{provide:ne,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Pl=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:_o,useClass:Ra,multi:!0,deps:[ne,u.R0b,u.Lbi]},{provide:_o,useClass:Wi,multi:!0,deps:[ne]},{provide:gs,useClass:gs,deps:[Mr,Xe,u.AFp]},{provide:u.FYo,useExisting:gs},{provide:Bs,useExisting:Xe},{provide:Xe,useClass:Xe,deps:[ne]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Mr,useClass:Mr,deps:[_o,u.R0b]},{provide:Vs,useClass:Aa,deps:[]}];let $o=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:mo,useExisting:u.AFp},Qt]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Pl,imports:[Il,u.hGG]}),n})();"undefined"!=typeof window&&window;var ms=F(3269),vn=F(8996);function Je(...n){const e=(0,ms.yG)(n);return(0,vn.D)(n,e)}var Fn=F(8306),er=F(5577),Di=F(576);function xi(n,e){return(0,Di.m)(e)?(0,er.z)(n,e,1):(0,er.z)(n,1)}var _r=F(4482),Dn=F(5403);function tr(n,e){return(0,_r.e)((t,r)=>{let i=0;t.subscribe(new Dn.Q(r,a=>n.call(e,a,i++)&&r.next(a)))})}var yt=F(4004);class ys{}class qo{}class ni{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ni?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ni;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ni?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(p=>-1===a.indexOf(p)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Mh{encodeKey(e){return Hs(e)}encodeValue(e){return Hs(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ha=/%(\d[a-f0-9])/gi,$a={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Hs(n){return encodeURIComponent(n).replace(Ha,(e,t)=>{var r;return null!==(r=$a[t])&&void 0!==r?r:e})}function za(n){return`${n}`}class fr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Mh,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,p]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(d)||[];_.push(p),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new fr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(za(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(za(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Zi{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Gl(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function qa(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Wo(n){return"undefined"!=typeof FormData&&n instanceof FormData}class jn{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new ni),this.context||(this.context=new Zi),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+d}}else this.params=new fr,this.urlWithParams=t}serializeBody(){return null===this.body?null:Gl(this.body)||qa(this.body)||Wo(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof fr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Wo(this.body)?null:qa(this.body)?this.body.type||null:Gl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,p=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,I=e.params||this.params;const M=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((L,B)=>L.set(B,e.setHeaders[B]),E)),e.setParams&&(I=Object.keys(e.setParams).reduce((L,B)=>L.set(B,e.setParams[B]),I)),new jn(r,i,d,{params:I,headers:E,context:M,reportProgress:_,responseType:a,withCredentials:p})}}var dn=(()=>((dn=dn||{})[dn.Sent=0]="Sent",dn[dn.UploadProgress=1]="UploadProgress",dn[dn.ResponseHeader=2]="ResponseHeader",dn[dn.DownloadProgress=3]="DownloadProgress",dn[dn.Response=4]="Response",dn[dn.User=5]="User",dn))();class Zc{constructor(e,t=200,r="OK"){this.headers=e.headers||new ni,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $s extends Zc{constructor(e={}){super(e),this.type=dn.ResponseHeader}clone(e={}){return new $s({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Wa extends Zc{constructor(e={}){super(e),this.type=dn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Wa({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class pn extends Zc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Zo(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ko=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof jn)a=t;else{let _,E;_=i.headers instanceof ni?i.headers:new ni(i.headers),i.params&&(E=i.params instanceof fr?i.params:new fr({fromObject:i.params})),a=new jn(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=Je(a).pipe(xi(_=>this.handler.handle(_)));if(t instanceof jn||"events"===i.observe)return d;const p=d.pipe(tr(_=>_ instanceof Wa));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe((0,yt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return p.pipe((0,yt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return p.pipe((0,yt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return p.pipe((0,yt.U)(_=>_.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new fr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Zo(i,r))}post(t,r,i={}){return this.request("POST",t,Zo(i,r))}put(t,r,i={}){return this.request("PUT",t,Zo(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ys))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Yo{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const _s=new u.OlP("HTTP_INTERCEPTORS");let zs=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Uu=/^\)\]\}',?\n/;let Nh=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Fn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,W)=>i.setRequestHeader(B,W.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const a=t.serializeBody();let d=null;const p=()=>{if(null!==d)return d;const B=1223===i.status?204:i.status,W=i.statusText||"OK",oe=new ni(i.getAllResponseHeaders()),we=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new $s({headers:oe,status:B,statusText:W,url:we}),d},_=()=>{let{headers:B,status:W,statusText:oe,url:we}=p(),Fe=null;204!==W&&(Fe=void 0===i.response?i.responseText:i.response),0===W&&(W=Fe?200:0);let it=W>=200&&W<300;if("json"===t.responseType&&"string"==typeof Fe){const It=Fe;Fe=Fe.replace(Uu,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(ut){Fe=It,it&&(it=!1,Fe={error:ut,text:Fe})}}it?(r.next(new Wa({body:Fe,headers:B,status:W,statusText:oe,url:we||void 0})),r.complete()):r.error(new pn({error:Fe,headers:B,status:W,statusText:oe,url:we||void 0}))},E=B=>{const{url:W}=p(),oe=new pn({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:W||void 0});r.error(oe)};let I=!1;const M=B=>{I||(r.next(p()),I=!0);let W={type:dn.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(W.total=B.total),"text"===t.responseType&&!!i.responseText&&(W.partialText=i.responseText),r.next(W)},L=B=>{let W={type:dn.UploadProgress,loaded:B.loaded};B.lengthComputable&&(W.total=B.total),r.next(W)};return i.addEventListener("load",_),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",M),null!==a&&i.upload&&i.upload.addEventListener("progress",L)),i.send(a),r.next({type:dn.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",_),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",M),null!==a&&i.upload&&i.upload.removeEventListener("progress",L)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ju=new u.OlP("XSRF_COOKIE_NAME"),Ph=new u.OlP("XSRF_HEADER_NAME");class Gu{}let Yc=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Dt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne),u.LFG(u.Lbi),u.LFG(ju))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),qs=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gu),u.LFG(Ph))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Pp=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(_s,[]);this.chain=r.reduceRight((i,a)=>new Yo(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qo),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ka=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:qs,useClass:zs}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:ju,useValue:t.cookieName}:[],t.headerName?{provide:Ph,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[qs,{provide:_s,useExisting:qs,multi:!0},{provide:Gu,useClass:Yc},{provide:ju,useValue:"XSRF-TOKEN"},{provide:Ph,useValue:"X-XSRF-TOKEN"}]}),n})(),Lp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ko,{provide:ys,useClass:Pp},Nh,{provide:qo,useExisting:Nh}],imports:[[Ka.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();class Ai{}const $r="*";function Ya(n,e){return{type:7,name:n,definitions:e,options:{}}}function Qc(n,e=null){return{type:4,styles:e,timings:n}}function ql(n,e=null){return{type:2,steps:n,options:e}}function Wl(n){return{type:6,styles:n,offset:null}}function Jc(n,e,t){return{type:0,name:n,styles:e,options:t}}function vr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Xc(n){Promise.resolve(null).then(n)}class Si{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $u{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Xc(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++r==a&&this._onDestroy()}),d.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function zu(){return"undefined"!=typeof window&&void 0!==window.document}function zr(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ii(n){switch(n.length){case 0:return new Si;case 1:return n[0];default:return new $u(n)}}function vs(n,e,t,r,i={},a={}){const d=[],p=[];let _=-1,E=null;if(r.forEach(I=>{const M=I.offset,L=M==_,B=L&&E||{};Object.keys(I).forEach(W=>{let oe=W,we=I[W];if("offset"!==W)switch(oe=e.normalizePropertyName(oe,d),we){case"!":we=i[W];break;case $r:we=a[W];break;default:we=e.normalizeStyleValue(W,oe,we,d)}B[oe]=we}),L||p.push(B),E=B,_=M}),d.length){const I="\n - ";throw new Error(`Unable to animate due to the following errors:${I}${d.join(I)}`)}return p}function Jo(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Xo(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Xo(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Xo(t,"destroy",n)))}}function Xo(n,e,t){const r=t.totalTime,a=Yi(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function Yi(n,e,t,r,i="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!d}}function wr(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function ed(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Ql=(n,e)=>!1,D=(n,e,t)=>[];(zr()||"undefined"!=typeof Element)&&(Ql=zu()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),D=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let a=0;a<i.length;a++)r.push(i[a])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let V=null,Y=!1;function ie(n){V||(V=("undefined"!=typeof document?document.body:null)||{},Y=!!V.style&&"WebkitAppearance"in V.style);let e=!0;return V.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in V.style,!e&&Y&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in V.style)),e}const Ye=Ql,We=D;function Ot(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let Jt=(()=>{class n{validateStyleProperty(t){return ie(t)}matchesElement(t,r){return!1}containsElement(t,r){return Ye(t,r)}query(t,r,i){return We(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,d,p=[],_){return new Si(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),br=(()=>{class n{}return n.NOOP=new Jt,n})();const Ws="ng-enter",qr="ng-leave",Wr="ng-trigger",Qi=".ng-trigger",Ja="ng-animating",ea=".ng-animating";function Zs(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qu(parseFloat(e[1]),e[2])}function qu(n,e){return"s"===e?1e3*n:n}function td(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,a=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=qu(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(a=qu(parseFloat(_),p[4]));const E=p[5];E&&(d=E)}else i=n;if(!t){let p=!1,_=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),p=!0),a<0&&(e.push("Delay values below 0 are not allowed for this animation step."),p=!0),p&&e.splice(_,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:a,easing:d}}(n,e,t)}function ws(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function el(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else ws(n,t);return t}function Wu(n,e,t){return t?e+":"+t+";":""}function jp(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Wu(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Wu(0,Jl(t),n.style[t]));n.setAttribute("style",e)}function Eo(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Bh(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),zr()&&jp(n))}function Co(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Bh(t);n.style[r]=""}),zr()&&jp(n))}function Zu(n){return Array.isArray(n)?1==n.length?n[0]:ql(n):n}const ta=new RegExp("{{\\s*(.+?)\\s*}}","g");function nd(n){let e=[];if("string"==typeof n){let t;for(;t=ta.exec(n);)e.push(t[1]);ta.lastIndex=0}return e}function bs(n,e,t){const r=n.toString(),i=r.replace(ta,(a,d)=>{let p=e[d];return e.hasOwnProperty(d)||(t.push(`Please provide a value for the animation param ${d}`),p=""),p.toString()});return i==r?n:i}function tl(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Vh=/-+([a-z0-9])/g;function Bh(n){return n.replace(Vh,(...e)=>e[1].toUpperCase())}function Jl(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rd(n,e){return 0===n||0===e}function id(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],d=[];if(r.forEach(p=>{a.hasOwnProperty(p)||d.push(p),a[p]=t[p]}),d.length)for(var i=1;i<e.length;i++){let p=e[i];d.forEach(function(_){p[_]=Ku(n,_)})}}return e}function Zr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ku(n,e){return window.getComputedStyle(n)[e]}function Gp(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const _=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],a=r[2],d=r[3];e.push(Ji(i,d));"<"==a[0]&&!("*"==i&&"*"==d)&&e.push(Ji(d,i))}(r,t,e)):t.push(n),t}const sd=new Set(["true","1"]),od=new Set(["false","0"]);function Ji(n,e){const t=sd.has(n)||od.has(n),r=sd.has(e)||od.has(e);return(i,a)=>{let d="*"==n||n==i,p="*"==e||e==a;return!d&&t&&"boolean"==typeof i&&(d=i?sd.has(n):od.has(n)),!p&&r&&"boolean"==typeof a&&(p=a?sd.has(e):od.has(e)),d&&p}}const Hp=new RegExp("s*:selfs*,?","g");function ad(n,e,t){return new ld(n).build(e,t)}class ld{constructor(e){this._driver=e}build(e,t){const r=new zp(t);return this._resetContextStyleTimingState(r),Zr(this,Zu(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const _=p,E=_.name;E.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=E}else if(1==p.type){const _=this.visitTransition(p,t);r+=_.queryCount,i+=_.depCount,d.push(_)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,d=i||{};if(r.styles.forEach(p=>{if(ud(p)){const _=p;Object.keys(_).forEach(E=>{nd(_[E]).forEach(I=>{d.hasOwnProperty(I)||a.add(I)})})}}),a.size){const p=tl(a.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${p.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Zr(this,Zu(e.animation),t);return{type:1,matchers:Gp(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Zr(this,r,t)),options:rl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(d=>{t.currentTime=r;const p=Zr(this,d,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:a,options:rl(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return qp(td(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=qp(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||td(r,e),qp(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Wl({});if(5==a.type)i=this.visitKeyframes(a,t);else{let d=e.styles,p=!1;if(!d){p=!0;const E={};r.easing&&(E.easing=r.easing),d=Wl(E)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(d,t);_.isEmptyStep=p,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==$r?r.push(d):t.errors.push(`The provided style string value ${d} is not allowed.`):r.push(d)}):r.push(e.styles);let i=!1,a=null;return r.forEach(d=>{if(ud(d)){const p=d,_=p.easing;if(_&&(a=_,delete p.easing),!i)for(let E in p)if(p[E].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(p=>{if(!this._driver.validateStyleProperty(p))return void t.errors.push(`The provided animation property "${p}" is not a supported CSS property for animations`);const _=t.collectedStyles[t.currentQuerySelector],E=_[p];let I=!0;E&&(a!=i&&a>=E.startTime&&i<=E.endTime&&(t.errors.push(`The CSS property "${p}" that exists between the times of "${E.startTime}ms" and "${E.endTime}ms" is also being animated in a parallel animation between the times of "${a}ms" and "${i}ms"`),I=!1),a=E.startTime),I&&(_[p]={startTime:a,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=nd(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(`Unable to resolve the local animation param ${a} in the given list of values`)})}(d[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let a=0;const d=[];let p=!1,_=!1,E=0;const I=e.steps.map(Fe=>{const it=this._makeStyleAst(Fe,t);let It=null!=it.offset?it.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(ud(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(ud(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(it.styles),ut=0;return null!=It&&(a++,ut=it.offset=It),_=_||ut<0||ut>1,p=p||ut<E,E=ut,d.push(ut),it});_&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),p&&t.errors.push("Please ensure that all keyframe offsets are in order");const M=e.steps.length;let L=0;a>0&&a<M?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(L=1/(M-1));const B=M-1,W=t.currentTime,oe=t.currentAnimateTimings,we=oe.duration;return I.forEach((Fe,it)=>{const It=L>0?it==B?1:L*it:d[it],ut=It*we;t.currentTime=W+oe.delay+ut,oe.duration=ut,this._validateStyleAst(Fe,t),Fe.offset=It,r.styles.push(Fe)}),r}visitReference(e,t){return{type:8,animation:Zr(this,Zu(e.animation),t),options:rl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Hp,"")),n=n.replace(/@\*/g,Qi).replace(/@\w+/g,t=>Qi+"-"+t.substr(1)).replace(/:animating/g,ea),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,wr(t.collectedStyles,t.currentQuerySelector,{});const p=Zr(this,Zu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:p,originalSelector:e.selector,options:rl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:td(e.timings,t.errors,!0);return{type:12,animation:Zr(this,Zu(e.animation),t),timings:r,options:null}}}class zp{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ud(n){return!Array.isArray(n)&&"object"==typeof n}function rl(n){return n?(n=ws(n)).params&&(n.params=function(n){return n?ws(n):null}(n.params)):n={},n}function qp(n,e,t){return{duration:n,delay:e,easing:t}}function Yu(n,e,t,r,i,a,d=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:d,subTimeline:p}}class na{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Qu=new RegExp(":enter","g"),jh=new RegExp(":leave","g");function cd(n,e,t,r,i,a={},d={},p,_,E=[]){return(new Nw).buildKeyframes(n,e,t,r,i,a,d,p,_,E)}class Nw{buildKeyframes(e,t,r,i,a,d,p,_,E,I=[]){E=E||new na;const M=new Kp(e,t,E,i,a,I,[]);M.options=_,M.currentTimeline.setStyles([d],null,M.errors,_),Zr(this,r,M);const L=M.timelines.filter(B=>B.containsAnimation());if(L.length&&Object.keys(p).length){const B=L[L.length-1];B.allowOnlyTimelineStyles()||B.setStyles([p],null,M.errors,_)}return L.length?L.map(B=>B.buildKeyframes()):[Yu(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const d=null!=r.duration?Zs(r.duration):null,p=null!=r.delay?Zs(r.delay):null;return 0!==d&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,d,p);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Zr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Gh);const d=Zs(a.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Zr(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Zs(e.options.delay):0;e.steps.forEach(d=>{const p=t.createSubContext(e.options);a&&p.delayNextStep(a),Zr(this,d,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return td(t.params?bs(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(_=>{p.forwardTime((_.offset||0)*a),p.setStyles(_.styles,_.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Zs(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gh);let d=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let _=null;p.forEach((E,I)=>{t.currentQueryIndex=I;const M=t.createSubContext(e.options,E);a&&M.delayNextStep(a),E===t.element&&(_=M.currentTimeline),Zr(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),p=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=p-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const M=I.currentTime;Zr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const Gh={};class Kp{constructor(e,t,r,i,a,d,p,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new ra(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Zs(r.duration)),null!=r.delay&&(i.delay=Zs(r.delay));const a=r.params;if(a){let d=i.params;d||(d=this.options.params={}),Object.keys(a).forEach(p=>{(!t||!d.hasOwnProperty(p))&&(d[p]=bs(a[p],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Kp(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Gh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new Hh(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,d){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(Qu,"."+this._enterClassName)).replace(jh,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),p.push(...E)}return!a&&0==p.length&&d.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),p}}class ra{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ra(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||$r,this._currentKeyframe[t]=$r}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},d=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=$r})):el(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(p=>{const _=bs(d[p],a,r);this._pendingStyles[p]=_,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:$r),this._updateStyle(p,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,_)=>{const E=el(p,!0);Object.keys(E).forEach(I=>{const M=E[I];"!"==M?e.add(I):M==$r&&t.add(I)}),r||(E.offset=_/this.duration),i.push(E)});const a=e.size?tl(e.values()):[],d=t.size?tl(t.values()):[];if(r){const p=i[0],_=ws(p);p.offset=0,_.offset=1,i=[p,_]}return Yu(this.element,i,a,d,this.duration,this.startTime,this.easing,!1)}}class Hh extends ra{constructor(e,t,r,i,a,d,p=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=r+t,p=t/d,_=el(e[0],!1);_.offset=0,a.push(_);const E=el(e[0],!1);E.offset=Xl(p),a.push(E);const I=e.length-1;for(let M=1;M<=I;M++){let L=el(e[M],!1);L.offset=Xl((t+L.offset*r)/d),a.push(L)}r=d,t=0,i="",e=a}return Yu(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Xl(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class dd{}class xy extends dd{normalizePropertyName(e,t){return Bh(e)}normalizeStyleValue(e,t,r,i){let a="";const d=r.toString().trim();if(Qp[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return d+a}}const Qp=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function $h(n,e,t,r,i,a,d,p,_,E,I,M,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:d,timelines:p,queriedElements:_,preStyleProps:E,postStyleProps:I,totalTime:M,errors:L}}const eu={};class zh{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):d}build(e,t,r,i,a,d,p,_,E,I){const M=[],L=this.ast.options&&this.ast.options.params||eu,W=this.buildStyles(r,p&&p.params||eu,M),oe=_&&_.params||eu,we=this.buildStyles(i,oe,M),Fe=new Set,it=new Map,It=new Map,ut="void"===i,hn={params:Object.assign(Object.assign({},L),oe)},mr=I?[]:cd(e,t,this.ast.animation,a,d,W,we,hn,E,M);let Br=0;if(mr.forEach(Rc=>{Br=Math.max(Rc.duration+Rc.delay,Br)}),M.length)return $h(t,this._triggerName,r,i,ut,W,we,[],[],it,It,Br,M);mr.forEach(Rc=>{const kc=Rc.element,$V=wr(it,kc,{});Rc.preStyleProps.forEach(Ap=>$V[Ap]=!0);const kw=wr(It,kc,{});Rc.postStyleProps.forEach(Ap=>kw[Ap]=!0),kc!==t&&Fe.add(kc)});const Mc=tl(Fe.values());return $h(t,this._triggerName,r,i,ut,W,we,mr,Mc,it,It,Br)}}class il{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=ws(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!=d&&(i[a]=d)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const d=a;Object.keys(d).forEach(p=>{let _=d[p];_.length>1&&(_=bs(_,i,t));const E=this.normalizer.normalizePropertyName(p,t);_=this.normalizer.normalizeStyleValue(p,E,_,t),r[E]=_})}}),r}}class Ay{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new il(i.style,i.options&&i.options.params||{},r)}),hd(this.states,"true","1"),hd(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new zh(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new zh(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function hd(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const fd=new na;class Sy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=ad(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,a=vs(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let d;const p=new Map;if(a?(d=cd(this._driver,t,a,Ws,qr,{},{},r,fd,i),d.forEach(I=>{const M=wr(p,I.element,{});I.postStyleProps.forEach(L=>M[L]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),d=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);p.forEach((I,M)=>{Object.keys(I).forEach(L=>{I[L]=this._driver.computeStyle(M,L,$r)})});const E=Ii(d.map(I=>{const M=p.get(I.element);return this._buildPlayer(I,{},M)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const a=Yi(t,"","","");return Jo(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const eg="ng-animate-queued",Zh="ng-animate-disabled",Ju=[],kr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ti="__ng_removed";class Xu{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const a=ws(e);delete a.value,this.options=a}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Nn="void",sl=new Xu(Nn);class Yh{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xi(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const a=wr(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};a.push(d);const p=wr(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(Xi(e,Wr),Xi(e,Wr+"-"+t),p[t]=sl),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(d);_>=0&&a.splice(_,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),d=new ec(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Xi(e,Wr),Xi(e,Wr+"-"+t),this._engine.statesByElement.set(e,p={}));let _=p[t];const E=new Xu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),p[t]=E,_||(_=sl),E.value!==Nn&&_.value===E.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,E.params)){const oe=[],we=a.matchStyles(_.value,_.params,oe),Fe=a.matchStyles(E.value,E.params,oe);oe.length?this._engine.reportError(oe):this._engine.afterFlush(()=>{Co(e,we),Eo(e,Fe)})}return}const L=wr(this._engine.playersByElement,e,[]);L.forEach(oe=>{oe.namespaceId==this.id&&oe.triggerName==t&&oe.queued&&oe.destroy()});let B=a.matchTransition(_.value,E.value,e,E.params),W=!1;if(!B){if(!i)return;B=a.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:E,player:d,isFallbackTransition:W}),W||(Xi(e,eg),d.onStart(()=>{sa(e,eg)})),d.onDone(()=>{let oe=this.players.indexOf(d);oe>=0&&this.players.splice(oe,1);const we=this._engine.playersByElement.get(e);if(we){let Fe=we.indexOf(d);Fe>=0&&we.splice(Fe,1)}}),this.players.push(d),L.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Qi,!0);r.forEach(i=>{if(i[Ti])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e);if(a){const d=[];if(Object.keys(a).forEach(p=>{if(this._triggers[p]){const _=this.trigger(e,p,Nn,i);_&&d.push(_)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Ii(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const d=a.name;if(i.has(d))return;i.add(d);const _=this._triggers[d].fallbackTransition,E=r[d]||sl,I=new Xu(Nn),M=new ec(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:E,toState:I,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ti];(!a||a===kr)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Xi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,d=this._elementListeners.get(a);d&&d.forEach(p=>{if(p.name==r.triggerName){const _=Yi(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,Jo(r.player,p.phase,_,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Qh{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Yh(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let a=r;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,t)){this._namespaceList.splice(a+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const d=r[i[a]].namespaceId;if(d){const p=this._fetchNamespace(d);p&&t.add(p)}}}return t}trigger(e,t,r,i){if(ia(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ia(t))return;const a=t[Ti];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xi(e,Zh)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sa(e,Zh))}removeNode(e,t,r,i){if(ia(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[Ti]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,a){return ia(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Qi,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ea,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ii(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Ti];if(r&&r.setForRemoval){if(e[Ti]=kr,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Zh))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Xi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ii(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new na,i=[],a=new Map,d=[],p=new Map,_=new Map,E=new Map,I=new Set;this.disabledNodes.forEach(ot=>{I.add(ot);const vt=this.driver.query(ot,".ng-animate-queued",!0);for(let kt=0;kt<vt.length;kt++)I.add(vt[kt])});const M=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=Xh(L,this.collectedEnterElements),W=new Map;let oe=0;B.forEach((ot,vt)=>{const kt=Ws+oe++;W.set(vt,kt),ot.forEach(on=>Xi(on,kt))});const we=[],Fe=new Set,it=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const vt=this.collectedLeaveElements[ot],kt=vt[Ti];kt&&kt.setForRemoval&&(we.push(vt),Fe.add(vt),kt.hasAnimation?this.driver.query(vt,".ng-star-inserted",!0).forEach(on=>Fe.add(on)):it.add(vt))}const It=new Map,ut=Xh(L,Array.from(Fe));ut.forEach((ot,vt)=>{const kt=qr+oe++;It.set(vt,kt),ot.forEach(on=>Xi(on,kt))}),e.push(()=>{B.forEach((ot,vt)=>{const kt=W.get(vt);ot.forEach(on=>sa(on,kt))}),ut.forEach((ot,vt)=>{const kt=It.get(vt);ot.forEach(on=>sa(on,kt))}),we.forEach(ot=>{this.processLeaveNode(ot)})});const hn=[],mr=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(kt=>{const on=kt.player,fi=kt.element;if(hn.push(on),this.collectedEnterElements.length){const _a=fi[Ti];if(_a&&_a.setForMove)return void on.destroy()}const Cu=!M||!this.driver.containsElement(M,fi),No=It.get(fi),vh=W.get(fi),ar=this._buildInstruction(kt,r,vh,No,Cu);if(ar.errors&&ar.errors.length)return void mr.push(ar);if(Cu)return on.onStart(()=>Co(fi,ar.fromStyles)),on.onDestroy(()=>Eo(fi,ar.toStyles)),void i.push(on);if(kt.isFallbackTransition)return on.onStart(()=>Co(fi,ar.fromStyles)),on.onDestroy(()=>Eo(fi,ar.toStyles)),void i.push(on);const WV=[];ar.timelines.forEach(_a=>{_a.stretchStartingKeyframe=!0,this.disabledNodes.has(_a.element)||WV.push(_a)}),ar.timelines=WV,r.append(fi,ar.timelines),d.push({instruction:ar,player:on,element:fi}),ar.queriedElements.forEach(_a=>wr(p,_a,[]).push(on)),ar.preStyleProps.forEach((_a,Ow)=>{const pD=Object.keys(_a);if(pD.length){let Sp=_.get(Ow);Sp||_.set(Ow,Sp=new Set),pD.forEach(SR=>Sp.add(SR))}}),ar.postStyleProps.forEach((_a,Ow)=>{const pD=Object.keys(_a);let Sp=E.get(Ow);Sp||E.set(Ow,Sp=new Set),pD.forEach(SR=>Sp.add(SR))})});if(mr.length){const ot=[];mr.forEach(vt=>{ot.push(`@${vt.triggerName} has failed due to:\n`),vt.errors.forEach(kt=>ot.push(`- ${kt}\n`))}),hn.forEach(vt=>vt.destroy()),this.reportError(ot)}const Br=new Map,Mc=new Map;d.forEach(ot=>{const vt=ot.element;r.has(vt)&&(Mc.set(vt,vt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Br))}),i.forEach(ot=>{const vt=ot.element;this._getPreviousPlayers(vt,!1,ot.namespaceId,ot.triggerName,null).forEach(on=>{wr(Br,vt,[]).push(on),on.destroy()})});const Rc=we.filter(ot=>tf(ot,_,E)),kc=new Map;rg(kc,this.driver,it,E,$r).forEach(ot=>{tf(ot,_,E)&&Rc.push(ot)});const kw=new Map;B.forEach((ot,vt)=>{rg(kw,this.driver,new Set(ot),_,"!")}),Rc.forEach(ot=>{const vt=kc.get(ot),kt=kw.get(ot);kc.set(ot,Object.assign(Object.assign({},vt),kt))});const Ap=[],zV=[],qV={};d.forEach(ot=>{const{element:vt,player:kt,instruction:on}=ot;if(r.has(vt)){if(I.has(vt))return kt.onDestroy(()=>Eo(vt,on.toStyles)),kt.disabled=!0,kt.overrideTotalTime(on.totalTime),void i.push(kt);let fi=qV;if(Mc.size>1){let No=vt;const vh=[];for(;No=No.parentNode;){const ar=Mc.get(No);if(ar){fi=ar;break}vh.push(No)}vh.forEach(ar=>Mc.set(ar,fi))}const Cu=this._buildAnimation(kt.namespaceId,on,Br,a,kw,kc);if(kt.setRealPlayer(Cu),fi===qV)Ap.push(kt);else{const No=this.playersByElement.get(fi);No&&No.length&&(kt.parentPlayer=Ii(No)),i.push(kt)}}else Co(vt,on.fromStyles),kt.onDestroy(()=>Eo(vt,on.toStyles)),zV.push(kt),I.has(vt)&&i.push(kt)}),zV.forEach(ot=>{const vt=a.get(ot.element);if(vt&&vt.length){const kt=Ii(vt);ot.setRealPlayer(kt)}}),i.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<we.length;ot++){const vt=we[ot],kt=vt[Ti];if(sa(vt,qr),kt&&kt.hasAnimation)continue;let on=[];if(p.size){let Cu=p.get(vt);Cu&&Cu.length&&on.push(...Cu);let No=this.driver.query(vt,ea,!0);for(let vh=0;vh<No.length;vh++){let ar=p.get(No[vh]);ar&&ar.length&&on.push(...ar)}}const fi=on.filter(Cu=>!Cu.destroyed);fi.length?Ry(this,vt,fi):this.processLeaveNode(vt)}return we.length=0,Ap.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const vt=this.players.indexOf(ot);this.players.splice(vt,1)}),ot.play()}),Ap}elementContainsData(e,t){let r=!1;const i=t[Ti];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let d=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(d=p)}else{const p=this.playersByElement.get(e);if(p){const _=!a||a==Nn;p.forEach(E=>{E.queued||!_&&E.triggerName!=i||d.push(E)})}}return(r||i)&&(d=d.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),d}_beforeAnimationBuild(e,t,r){const a=t.element,d=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,I=E!==a,M=wr(r,E,[]);this._getPreviousPlayers(E,I,d,p,t.toState).forEach(B=>{const W=B.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),B.destroy(),M.push(B)})}Co(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,d){const p=t.triggerName,_=t.element,E=[],I=new Set,M=new Set,L=t.timelines.map(W=>{const oe=W.element;I.add(oe);const we=oe[Ti];if(we&&we.removedBeforeQueried)return new Si(W.duration,W.delay);const Fe=oe!==_,it=function(n){const e=[];return pd(n,e),e}((r.get(oe)||Ju).map(Br=>Br.getRealPlayer())).filter(Br=>!!Br.element&&Br.element===oe),It=a.get(oe),ut=d.get(oe),hn=vs(0,this._normalizer,0,W.keyframes,It,ut),mr=this._buildPlayer(W,hn,it);if(W.subTimeline&&i&&M.add(oe),Fe){const Br=new ec(e,p,oe);Br.setRealPlayer(mr),E.push(Br)}return mr});E.forEach(W=>{wr(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,W.element,W))}),I.forEach(W=>Xi(W,Ja));const B=Ii(L);return B.onDestroy(()=>{I.forEach(W=>sa(W,Ja)),Eo(_,t.toStyles)}),M.forEach(W=>{wr(i,W,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Si(e.duration,e.delay)}}class ec{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Si,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Jo(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){wr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ia(n){return n&&1===n.nodeType}function Jh(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function rg(n,e,t,r,i){const a=[];t.forEach(_=>a.push(Jh(_)));const d=[];r.forEach((_,E)=>{const I={};_.forEach(M=>{const L=I[M]=e.computeStyle(E,M,i);(!L||0==L.length)&&(E[Ti]=Kh,d.push(E))}),n.set(E,I)});let p=0;return t.forEach(_=>Jh(_,a[p++])),d}function Xh(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),a=new Map;function d(p){if(!p)return 1;let _=a.get(p);if(_)return _;const E=p.parentNode;return _=t.has(E)?E:i.has(E)?1:d(E),a.set(p,_),_}return e.forEach(p=>{const _=d(p);1!==_&&t.get(_).push(p)}),t}function Xi(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function sa(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Ry(n,e,t){Ii(t).onDone(()=>n.processLeaveNode(e))}function pd(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof $u?pd(r.players,e):e.push(r)}}function tf(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class gd{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new Qh(e,t,r),this._timelineEngine=new Sy(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const d=e+"-"+i;let p=this._triggerCache[d];if(!p){const _=[],E=ad(this._driver,a,_);if(_.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);p=function(n,e,t){return new Ay(n,e,t)}(i,E,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,d]=ed(r);this._timelineEngine.command(a,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[d,p]=ed(r);return this._timelineEngine.listen(d,t,p,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function tu(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=nf(e[0]),e.length>1&&(r=nf(e[e.length-1]))):e&&(t=nf(e)),t||r?new Oy(n,t,r):null}let Oy=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Eo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Eo(this._element,this._initialStyles),this._endStyles&&(Eo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Co(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Co(this._element,this._endStyles),this._endStyles=null),Eo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nf(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];ig(i)&&(e=e||{},e[i]=n[i])}return e}function ig(n){return"display"===n||"position"===n}const md="animation",yd="animationend";class sf{constructor(e,t,r,i,a,d,p){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=a,this._fillMode=d,this._onDoneFn=p,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function(n,e){const t=Mi(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),Do(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),_d(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){si(this._element,this._name,"paused")}resume(){si(this._element,this._name,"running")}setPosition(e){const t=sg(this._element,this._name);this._position=e*this._duration,Do(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),_d(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=Mi(n,"").split(","),i=nc(r,e);i>=0&&(r.splice(i,1),Do(n,"",r.join(",")))}(this._element,this._name))}}function si(n,e,t){Do(n,"PlayState",t,sg(n,e))}function sg(n,e){const t=Mi(n,"");return t.indexOf(",")>0?nc(t.split(","),e):nc([t],e)}function nc(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function _d(n,e,t){t?n.removeEventListener(yd,e):n.addEventListener(yd,e)}function Do(n,e,t,r){const i=md+e;if(null!=r){const a=n.style[i];if(a.length){const d=a.split(",");d[r]=t,t=d.join(",")}}n.style[i]=t}function Mi(n,e){return n.style[md+e]||""}class Ny{constructor(e,t,r,i,a,d,p,_){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=a,this._finalStyles=p,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=i+a,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new sf(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:Ku(this.element,r))})}this.currentSnapshot=e}}class Qs extends Si{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Ot(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Kr{constructor(){this._count=0}validateStyleProperty(e){return ie(e)}matchesElement(e,t){return!1}containsElement(e,t){return Ye(e,t)}query(e,t,r){return We(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(p=>Ot(p));let i=`@keyframes ${t} {\n`,a="";r.forEach(p=>{a=" ";const _=parseFloat(p.offset);i+=`${a}${100*_}% {\n`,a+=" ",Object.keys(p).forEach(E=>{const I=p[E];switch(E){case"offset":return;case"easing":return void(I&&(i+=`${a}animation-timing-function: ${I};\n`));default:return void(i+=`${a}${E}: ${I};\n`)}}),i+=`${a}}\n`}),i+="}\n";const d=document.createElement("style");return d.textContent=i,d}animate(e,t,r,i,a,d=[],p){const _=d.filter(we=>we instanceof Ny),E={};rd(r,i)&&_.forEach(we=>{let Fe=we.currentSnapshot;Object.keys(Fe).forEach(it=>E[it]=Fe[it])});const I=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=id(e,t,E));if(0==r)return new Qs(e,I);const M="gen_css_kf_"+this._count++,L=this.buildKeyframeElement(e,M,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(L);const W=tu(e,t),oe=new Ny(e,t,M,r,i,a,I,W);return oe.onDestroy(()=>{var n;(n=L).parentNode.removeChild(n)}),oe}}class ic{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Ku(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class cf{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ll().toString()),this._cssKeyframesDriver=new Kr}validateStyleProperty(e){return ie(e)}matchesElement(e,t){return!1}containsElement(e,t){return Ye(e,t)}query(e,t,r){return We(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,a,d=[],p){if(!p&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,a,d);const I={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(I.easing=a);const M={},L=d.filter(W=>W instanceof ic);rd(r,i)&&L.forEach(W=>{let oe=W.currentSnapshot;Object.keys(oe).forEach(we=>M[we]=oe[we])});const B=tu(e,t=id(e,t=t.map(W=>el(W,!1)),M));return new ic(e,t,I,B)}}function ll(){return zu()&&Element.prototype.animate||{}}let df=(()=>{class n extends Ai{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ql(t):t;return y(this._renderer,null,r,"register",[i]),new lg(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class lg extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Py(this._id,e,t||{},this._renderer)}}class Py{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return y(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function y(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const f="@",g="@.disabled";let w=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,d)=>{const p=null==d?void 0:d.parentNode(a);p&&d.removeChild(p,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new S("",a,this.engine),this._rendererCache.set(a,I)),I}const d=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(d,p,t,I.name,I)};return r.data.animation.forEach(_),new R(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,p]=a;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(gd),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class S{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==f&&t==g?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class R extends S{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==f?"."==t.charAt(1)&&t==g?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==f){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),d="";return a.charAt(0)!=f&&([a,d]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let Ne=(()=>{class n extends gd{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne),u.LFG(br),u.LFG(dd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Mt=new u.OlP("AnimationModuleType"),Wn=[{provide:Ai,useClass:df},{provide:dd,useFactory:function(){return new xy}},{provide:gd,useClass:Ne},{provide:u.FYo,useFactory:function(n,e,t){return new w(n,e,t)},deps:[gs,gd,u.R0b]}],Js=[{provide:br,useFactory:function(){return"function"==typeof ll()?new cf:new Kr}},{provide:Mt,useValue:"BrowserAnimations"},...Wn],Xs=[{provide:br,useClass:Jt},{provide:Mt,useValue:"NoopAnimations"},...Wn];let wd=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Xs:Js}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Js,imports:[$o]}),n})();var Pn=F(7579);class rr extends Pn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:cg}=Array,{getPrototypeOf:hf,prototype:bd,keys:ff}=Object;function Ed(n){if(1===n.length){const e=n[0];if(cg(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&hf(n)===bd}(e)){const t=ff(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var oa=F(4671);const{isArray:dg}=Array;function pf(n){return(0,yt.U)(e=>function(n,e){return dg(e)?n(...e):n(e)}(n,e))}function Ly(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Vy=F(9672);function By(n,e,t){n?(0,Vy.f)(t,n,e):e()}const hg=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var mf=F(8189);function fg(...n){return(0,mf.J)(1)((0,vn.D)(n,(0,ms.yG)(n)))}var Dd=F(8421);function jy(n){return new Fn.y(e=>{(0,Dd.Xf)(n()).subscribe(e)})}var sc=F(515),pg=F(727);function jw(){return(0,_r.e)((n,e)=>{let t=null;n._refCount++;const r=new Dn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class yD extends Fn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,_r.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pg.w0;const t=this.getSubject();e.add(this.source.subscribe(new Dn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pg.w0.EMPTY)}return e}refCount(){return jw()(this)}}function Mn(n,e){return(0,_r.e)((t,r)=>{let i=null,a=0,d=!1;const p=()=>d&&!i&&r.complete();t.subscribe(new Dn.Q(r,_=>{null==i||i.unsubscribe();let E=0;const I=a++;(0,Dd.Xf)(n(_,I)).subscribe(i=new Dn.Q(r,M=>r.next(e?e(_,M,I,E++):M),()=>{i=null,p()}))},()=>{d=!0,p()}))})}var yf=F(5698);function ru(...n){const e=(0,ms.yG)(n);return(0,_r.e)((t,r)=>{(e?fg(n,t,e):fg(n,t)).subscribe(r)})}function _D(n,e,t,r,i){return(a,d)=>{let p=t,_=e,E=0;a.subscribe(new Dn.Q(d,I=>{const M=E++;_=p?n(_,I,M):(p=!0,I),r&&d.next(_)},i&&(()=>{p&&d.next(_),d.complete()})))}}function _f(n,e){return(0,_r.e)(_D(n,e,arguments.length>=2,!0))}function iu(n){return(0,_r.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe(new Dn.Q(t,void 0,void 0,d=>{a=(0,Dd.Xf)(n(d,iu(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Gy(n){return n<=0?()=>sc.E:(0,_r.e)((e,t)=>{let r=[];e.subscribe(new Dn.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Hy(n=vD){return(0,_r.e)((e,t)=>{let r=!1;e.subscribe(new Dn.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function vD(){return new hg}function Gw(n){return(0,_r.e)((e,t)=>{let r=!1;e.subscribe(new Dn.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function bt(n,e){const t=arguments.length>=2;return r=>r.pipe(n?tr((i,a)=>n(i,a,r)):oa.y,(0,yf.q)(1),t?Gw(e):Hy(()=>new hg))}var Ri=F(8505);class aa{constructor(e,t){this.id=e,this.url=t}}class xd extends aa{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ki extends aa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $y extends aa{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bD extends aa{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zy extends aa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ul extends aa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qy extends aa{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $w extends aa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wy extends aa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ED{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zy{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IR{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gg{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mg{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ky{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yg{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class TR{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ad(n){return new TR(n)}const zw="ngNavigationCancelingError";function Yy(n){const e=Error("NavigationCancelingError: "+n);return e[zw]=!0,e}function qw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],p=n[a];if(d.startsWith(":"))i[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function la(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!DD(n[i],e[i]))return!1;return!0}function DD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Qy(n){return Array.prototype.concat.apply([],n)}function Jy(n){return n.length>0?n[n.length-1]:null}function Er(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function cl(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,vn.D)(Promise.resolve(n)):Je(n)}const OR={exact:function SD(n,e,t){if(!su(n.segments,e.segments)||!xo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!SD(n.children[r],e.children[r],t))return!1;return!0},subset:ID},xD={exact:function(n,e){return la(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DD(n[t],e[t]))},ignored:()=>!0};function AD(n,e,t){return OR[t.paths](n.root,e.root,t.matrixParams)&&xD[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ID(n,e,t){return TD(n,e,e.segments,t)}function TD(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!su(i,t)||e.hasChildren()||!xo(i,t,r))}if(n.segments.length===t.length){if(!su(n.segments,t)||!xo(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ID(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(su(n.segments,i)&&xo(n.segments,i,r)&&n.children[Pt])&&TD(n.children[Pt],e,a,r)}}function xo(n,e,t){return e.every((r,i)=>xD[t](n[i].parameters,r.parameters))}class dl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ad(this.queryParams)),this._queryParamMap}toString(){return Zw.serialize(this)}}class Ht{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Er(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _g(this)}}class Sd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ad(this.parameters)),this._parameterMap}toString(){return vg(this)}}function su(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Ww{}class hl{parse(e){const t=new Jw(e);return new dl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${oc(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${vf(t)}=${vf(i)}`).join("&"):`${vf(t)}=${vf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Zw=new hl;function _g(n){return n.segments.map(e=>vg(e)).join("/")}function oc(n,e){if(!n.hasChildren())return _g(n);if(e){const t=n.children[Pt]?oc(n.children[Pt],!1):"",r=[];return Er(n.children,(i,a)=>{a!==Pt&&r.push(`${a}:${oc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Er(n.children,(r,i)=>{i===Pt&&(t=t.concat(e(r,i)))}),Er(n.children,(r,i)=>{i!==Pt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Pt?[oc(n.children[Pt],!1)]:[`${i}:${oc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${_g(n)}/${t[0]}`:`${_g(n)}/(${t.join("//")})`}}function Kw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vf(n){return Kw(n).replace(/%3B/gi,";")}function t_(n){return Kw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ou(n){return decodeURIComponent(n)}function ac(n){return ou(n.replace(/\+/g,"%20"))}function vg(n){return`${t_(n.path)}${function(n){return Object.keys(n).map(e=>`;${t_(e)}=${t_(n[e])}`).join("")}(n.parameters)}`}const Td=/^[^\/()?;=#]+/;function wg(n){const e=n.match(Td);return e?e[0]:""}const Yw=/^[^=?&#]+/,n_=/^[^&#]+/;class Jw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new Ht(e,t)),r}parseSegment(){const e=wg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Sd(ou(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=wg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=wg(this.remaining);i&&(r=i,this.capture(r))}e[ou(t)]=ou(r)}parseQueryParam(e){const t=function(n){const e=n.match(Yw);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function(n){const e=n.match(n_);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=ac(t),a=ac(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=wg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Pt);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[Pt]:new Ht([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class bf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=i_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=i_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bg(e,this._root).map(t=>t.value)}}function i_(n,e){if(n===e.value)return e;for(const t of e.children){const r=i_(n,t);if(r)return r}return null}function bg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=bg(n,t);if(r.length)return r.unshift(e),r}return[]}class au{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function lc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class s_ extends bf{constructor(e,t){super(e),this.snapshot=t,rb(this,e)}toString(){return this.snapshot.toString()}}function Xw(n,e){const t=function(n,e){const d=new Eg([],{},{},"",{},Pt,e,null,n.root,-1,{});return new nb("",new au(d,[]))}(n,e),r=new rr([new Sd("",{})]),i=new rr({}),a=new rr({}),d=new rr({}),p=new rr(""),_=new lu(r,i,d,p,a,Pt,e,t.root);return _.snapshot=t.root,new s_(new au(_,[]),t)}class lu{constructor(e,t,r,i,a,d,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=p,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(e=>Ad(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(e=>Ad(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tb(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Eg{constructor(e,t,r,i,a,d,p,_,E,I,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=p,this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ad(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ad(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nb extends bf{constructor(e,t){super(t),this.url=e,rb(this,t)}toString(){return RD(this._root)}}function rb(n,e){e.value._routerState=n,e.children.forEach(t=>rb(n,t))}function RD(n){const e=n.children.length>0?` { ${n.children.map(RD).join(", ")} } `:"";return`${n.value}${e}`}function Cg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,la(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),la(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!la(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),la(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ib(n,e){const t=la(n.params,e.params)&&function(n,e){return su(n,e)&&n.every((t,r)=>la(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ib(n.parent,e.parent))}function uc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return uc(n,r,i);return uc(n,r)})}(n,e,t);return new au(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(p=>uc(n,p)),d}}const r=function(n){return new lu(new rr(n.url),new rr(n.params),new rr(n.queryParams),new rr(n.fragment),new rr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>uc(n,a));return new au(r,i)}}function Dg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Md(n){return"object"==typeof n&&null!=n&&n.outlets}function o_(n,e,t,r,i){let a={};return r&&Er(r,(d,p)=>{a[p]=Array.isArray(d)?d.map(_=>`${_}`):`${d}`}),new dl(t.root===n?e:a_(t.root,n,e),a,i)}function a_(n,e,t){const r={};return Er(n.children,(i,a)=>{r[a]=i===e?t:a_(i,e,t)}),new Ht(n.segments,r)}class ob{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Dg(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Md);if(i&&i!==Jy(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ag(n,e,t){if(n||(n=new Ht([],{})),0===n.segments.length&&n.hasChildren())return Sg(n,e,t);const r=function(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const d=n.segments[i],p=t[r];if(Md(p))break;const _=`${p}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!db(_,E,d))return a;r+=2}else{if(!db(_,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Ht(n.segments.slice(0,r.pathIndex),{});return a.children[Pt]=new Ht(n.segments.slice(r.pathIndex),n.children),Sg(a,0,i)}return r.match&&0===i.length?new Ht(n.segments,{}):r.match&&!n.hasChildren()?lb(n,e,t):r.match?Sg(n,0,i):lb(n,e,t)}function Sg(n,e,t){if(0===t.length)return new Ht(n.segments,{});{const r=function(n){return Md(n[0])?n[0].outlets:{[Pt]:n}}(t),i={};return Er(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=Ag(n.children[d],e,a))}),Er(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new Ht(n.segments,i)}}function lb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Md(a)){const _=ub(a.outlets);return new Ht(r,_)}if(0===i&&Dg(t[0])){r.push(new Sd(n.segments[e].path,cb(t[0]))),i++;continue}const d=Md(a)?a.outlets[Pt]:`${a}`,p=i<t.length-1?t[i+1]:null;d&&p&&Dg(p)?(r.push(new Sd(d,cb(p))),i+=2):(r.push(new Sd(d,{})),i++)}return new Ht(r,{})}function ub(n){const e={};return Er(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=lb(new Ht([],{}),0,t))}),e}function cb(n){const e={};return Er(n,(t,r)=>e[r]=`${t}`),e}function db(n,e,t){return n==t.path&&la(e,t.parameters)}class l_{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Cg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=lc(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),Er(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=lc(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=lc(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=lc(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Ky(a.value.snapshot))}),e.children.length&&this.forwardEvent(new gg(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Cg(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),Cg(p.route.value),this.activateChildRoutes(e,null,d.children)}else{const p=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=p?p.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=_,d.outlet&&d.outlet.activateWith(i,_),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class u_{constructor(e,t){this.routes=e,this.module=t}}function Ao(n){return"function"==typeof n}function cc(n){return n instanceof dl}const Ef=Symbol("INITIAL_VALUE");function dc(){return Mn(n=>function(...n){const e=(0,ms.yG)(n),t=(0,ms.jO)(n),{args:r,keys:i}=Ed(n);if(0===r.length)return(0,vn.D)([],e);const a=new Fn.y(function(n,e,t=oa.y){return r=>{By(e,()=>{const{length:i}=n,a=new Array(i);let d=i,p=i;for(let _=0;_<i;_++)By(e,()=>{const E=(0,vn.D)(n[_],e);let I=!1;E.subscribe(new Dn.Q(r,M=>{a[_]=M,I||(I=!0,p--),p||r.next(t(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>Ly(i,d):oa.y));return t?a.pipe(pf(t)):a}(n.map(e=>e.pipe((0,yf.q)(1),ru(Ef)))).pipe(_f((e,t)=>{let r=!1;return t.reduce((i,a,d)=>i!==Ef?i:(a===Ef&&(r=!0),r||!1!==a&&d!==t.length-1&&!cc(a)?i:a),e)},Ef),tr(e=>e!==Ef),(0,yt.U)(e=>cc(e)?e:!0===e),(0,yf.q)(1)))}class PR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cf,this.attachRef=null}}class Cf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new PR,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ig=(()=>{class n{constructor(t,r,i,a,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,_=new fb(t,p,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Cf),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class fb{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===lu?this.route:e===Cf?this.childContexts:this.parent.get(e,t)}}let f_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Ig],encapsulation:2}),n})();function p_(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];pb(r,fl(e,r))}}function pb(n,e){n.children&&p_(n.children,e)}function fl(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Rd(n){const e=n.children&&n.children.map(Rd),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=f_),t}function eo(n){return n.outlet||Pt}function gb(n,e){const t=n.filter(r=>eo(r)===e);return t.push(...n.filter(r=>eo(r)!==e)),t}const jD={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function kd(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},jD):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||qw)(t,n,e);if(!a)return Object.assign({},jD);const d={};Er(a.posParams,(_,E)=>{d[E]=_.path});const p=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:p,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Df(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Af(n,e,r)&&eo(r)!==Pt)}(n,t,r)){const d=new Ht(e,function(n,e,t,r){const i={};i[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&eo(a)!==Pt){const d=new Ht([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[eo(a)]=d}return i}(n,e,r,new Ht(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Af(n,e,r))}(n,t,r)){const d=new Ht(n.segments,function(n,e,t,r,i,a){const d={};for(const p of r)if(Af(n,t,p)&&!i[eo(p)]){const _=new Ht([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[eo(p)]=_}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new Ht(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Af(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function y_(n,e,t,r){return!!(eo(n)===r||r!==Pt&&Af(e,t,n))&&("**"===n.path||kd(e,n,t).matched)}function __(n,e,t){return 0===e.length&&!n.children[t]}class Sf{constructor(e){this.segmentGroup=e||null}}class Tg{constructor(e){this.urlTree=e}}function Mg(n){return new Fn.y(e=>e.error(new Sf(n)))}function mb(n){return new Fn.y(e=>e.error(new Tg(n)))}function yb(n){return new Fn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class HD{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Df(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ht(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Pt).pipe((0,yt.U)(a=>this.createUrlTree(uu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(iu(a=>{if(a instanceof Tg)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Sf?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pt).pipe((0,yt.U)(i=>this.createUrlTree(uu(i),e.queryParams,e.fragment))).pipe(iu(i=>{throw i instanceof Sf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ht([],{[Pt]:e}):e;return new dl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,yt.U)(a=>new Ht([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,vn.D)(i).pipe(xi(a=>{const d=r.children[a],p=gb(t,a);return this.expandSegmentGroup(e,p,d,a).pipe((0,yt.U)(_=>({segment:_,outlet:a})))}),_f((a,d)=>(a[d.outlet]=d.segment,a),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?tr((i,a)=>n(i,a,r)):oa.y,Gy(1),t?Gw(e):Hy(()=>new hg))}())}expandSegment(e,t,r,i,a,d){return(0,vn.D)(r).pipe(xi(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,a,d).pipe(iu(E=>{if(E instanceof Sf)return Je(null);throw E}))),bt(p=>!!p),iu((p,_)=>{if(p instanceof hg||"EmptyError"===p.name){if(__(t,i,a))return Je(new Ht([],{}));throw new Sf(t)}throw p}))}expandSegmentAgainstRoute(e,t,r,i,a,d,p){return y_(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d):Mg(t):Mg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mb(a):this.lineralizeSegments(r,a).pipe((0,er.z)(d=>{const p=new Ht(d,{});return this.expandSegment(e,p,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){const{matched:p,consumedSegments:_,lastChild:E,positionalParamSegments:I}=kd(t,i,a);if(!p)return Mg(t);const M=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?mb(M):this.lineralizeSegments(i,M).pipe((0,er.z)(L=>this.expandSegment(e,t,r,L.concat(a.slice(E)),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Je(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,yt.U)(L=>(r._loadedConfig=L,new Ht(i,{})))):Je(new Ht(i,{}));const{matched:d,consumedSegments:p,lastChild:_}=kd(t,r,i);if(!d)return Mg(t);const E=i.slice(_);return this.getChildConfig(e,r,i).pipe((0,er.z)(M=>{const L=M.module,B=M.routes,{segmentGroup:W,slicedSegments:oe}=Df(t,p,E,B),we=new Ht(W.segments,W.children);if(0===oe.length&&we.hasChildren())return this.expandChildren(L,B,we).pipe((0,yt.U)(ut=>new Ht(p,ut)));if(0===B.length&&0===oe.length)return Je(new Ht(p,{}));const Fe=eo(r)===a;return this.expandSegment(L,we,B,oe,Fe?Pt:a,!0).pipe((0,yt.U)(It=>new Ht(p.concat(It.segments),It.children)))}))}getChildConfig(e,t,r){return t.children?Je(new u_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Je(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,er.z)(i=>{return i?this.configLoader.load(e.injector,t).pipe((0,yt.U)(a=>(t._loadedConfig=a,a))):(n=t,new Fn.y(e=>e.error(Yy(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):Je(new u_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Je(i.map(d=>{const p=e.get(d);let _;if((n=p)&&Ao(n.canLoad))_=p.canLoad(t,r);else{if(!Ao(p))throw new Error("Invalid CanLoad guard");_=p(t,r)}var n;return cl(_)})).pipe(dc(),(0,Ri.b)(d=>{if(!cc(d))return;const p=Yy(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw p.url=d,p}),(0,yt.U)(d=>!0===d)):Je(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Je(r);if(i.numberOfChildren>1||!i.children[Pt])return yb(e.redirectTo);i=i.children[Pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new dl(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Er(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[a]=t[p]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let d={};return Er(t.children,(p,_)=>{d[_]=this.createSegmentGroup(e,p,r,i)}),new Ht(a,d)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function uu(n){const e={};for(const r of Object.keys(n.children)){const a=uu(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new Ht(n.segments.concat(e.segments),e.children)}return n}(new Ht(n.segments,e))}class vb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rg{constructor(e,t){this.component=e,this.route=t}}function qD(n,e,t){const r=n._root;return Nd(r,e?e._root:null,t,[r.value])}function Fd(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Nd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=lc(e);return n.children.forEach(d=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const _=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!su(n.url,e.url);case"pathParamsOrQueryParamsChange":return!su(n.url,e.url)||!la(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ib(n,e)||!la(n.queryParams,e.queryParams);default:return!ib(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new vb(r)):(a.data=d.data,a._resolvedData=d._resolvedData),Nd(n,e,a.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Rg(p.outlet.component,d))}else d&&If(e,p,i),i.canActivateChecks.push(new vb(r)),Nd(n,null,a.component?p?p.children:null:t,r,i)})(d,a[d.value.outlet],t,r.concat([d.value]),i),delete a[d.value.outlet]}),Er(a,(d,p)=>If(d,t.getContext(p),i)),i}function If(n,e,t){const r=lc(n),i=n.value;Er(r,(a,d)=>{If(a,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Rg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class VR{}function JD(n){return new Fn.y(e=>e.error(n))}class XD{constructor(e,t,r,i,a,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d}recognize(){const e=Df(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pt);if(null===t)return null;const r=new Eg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new au(r,t),a=new nb(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=tb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const d=t.children[a],p=gb(e,a),_=this.processSegmentGroup(p,d,a);if(null===_)return null;r.push(..._)}const i=no(r);return i.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,r,i){for(const a of e){const d=this.processSegmentAgainstRoute(a,t,r,i);if(null!==d)return d}return __(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!y_(e,t,r,i))return null;let a,d=[],p=[];if("**"===e.path){const B=r.length>0?Jy(r).parameters:{};a=new Eg(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b_(e),eo(e),e.component,e,ex(t),w_(t)+r.length,E_(e))}else{const B=kd(t,e,r);if(!B.matched)return null;d=B.consumedSegments,p=r.slice(B.lastChild),a=new Eg(d,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b_(e),eo(e),e.component,e,ex(t),w_(t)+d.length,E_(e))}const _=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:E,slicedSegments:I}=Df(t,d,p,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);var n;if(0===I.length&&E.hasChildren()){const B=this.processChildren(_,E);return null===B?null:[new au(a,B)]}if(0===_.length&&0===I.length)return[new au(a,[])];const M=eo(e)===i,L=this.processSegment(_,E,I,M?Pt:i);return null===L?null:[new au(a,L)]}}function BR(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function no(n){const e=[],t=new Set;for(const r of n){if(!BR(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=no(r.children);e.push(new au(r.value,i))}return e.filter(r=>!t.has(r))}function ex(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function w_(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function b_(n){return n.data||{}}function E_(n){return n.resolve||{}}function Tf(n){return Mn(e=>{const t=n(e);return t?(0,vn.D)(t).pipe((0,yt.U)(()=>e)):Je(e)})}class sx extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const D_=new u.OlP("ROUTES");class Ib{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,yt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=a.create(e);return new u_(Qy(d.injector.get(D_,void 0,u.XFs.Self|u.XFs.Optional)).map(Rd),d)}),iu(a=>{throw t._loader$=void 0,a}));return t._loader$=new yD(i,()=>new Pn.x).pipe(jw()),t._loader$}loadModuleFactory(e){return cl(e()).pipe((0,er.z)(t=>t instanceof u.YKP?Je(t):(0,vn.D)(this.compiler.compileModuleAsync(t))))}}class kg{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Pd(n){throw n}function ax(n,e,t){return e.parse("/")}function Ld(n,e){return Je(null)}const lx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ux={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cr=(()=>{class n{constructor(t,r,i,a,d,p,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pn.x,this.errorHandler=Pd,this.malformedUriErrorHandler=ax,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ld,afterPreactivation:Ld},this.urlHandlingStrategy=new kg,this.routeReuseStrategy=new sx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const M=d.get(u.R0b);this.isNgZoneEnabled=M instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=new dl(new Ht([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ib(d,p,L=>this.triggerEvent(new ED(L)),L=>this.triggerEvent(new Zy(L))),this.routerState=Xw(this.currentUrlTree,this.rootComponentType),this.transitions=new rr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(tr(i=>0!==i.id),(0,yt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Mn(i=>{let a=!1,d=!1;return Je(i).pipe((0,Ri.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mn(p=>{const _=this.browserUrlTree.toString(),E=!this.navigated||p.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return cu(p.source)&&(this.browserUrlTree=p.extractedUrl),Je(p).pipe(Mn(M=>{const L=this.transitions.getValue();return r.next(new xd(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),L!==this.transitions.getValue()?sc.E:Promise.resolve(M)}),function(n,e,t,r){return Mn(i=>function(n,e,t,r,i){return new HD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,yt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ri.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(n,e,t,r,i){return(0,er.z)(a=>function(n,e,t,r,i="emptyOnly",a="legacy"){try{const d=new XD(n,e,t,r,i,a).recognize();return null===d?JD(new VR):Je(d)}catch(d){return JD(d)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,yt.U)(d=>Object.assign(Object.assign({},a),{targetSnapshot:d}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ri.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const L=new zy(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(L)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:W,restoredState:oe,extras:we}=p,Fe=new xd(L,this.serializeUrl(B),W,oe);r.next(Fe);const it=Xw(B,this.rootComponentType).snapshot;return Je(Object.assign(Object.assign({},p),{targetSnapshot:it,urlAfterRedirects:B,extras:Object.assign(Object.assign({},we),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),sc.E}),Tf(p=>{const{targetSnapshot:_,id:E,extractedUrl:I,rawUrl:M,extras:{skipLocationChange:L,replaceUrl:B}}=p;return this.hooks.beforePreactivation(_,{navigationId:E,appliedUrlTree:I,rawUrlTree:M,skipLocationChange:!!L,replaceUrl:!!B})}),(0,Ri.b)(p=>{const _=new ul(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),(0,yt.U)(p=>Object.assign(Object.assign({},p),{guards:qD(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(n,e){return(0,er.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?Je(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,vn.D)(n).pipe((0,er.z)(i=>function(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Je(a.map(p=>{const _=Fd(p,e,i);let E;if(function(n){return n&&Ao(n.canDeactivate)}(_))E=cl(_.canDeactivate(n,e,t,r));else{if(!Ao(_))throw new Error("Invalid CanDeactivate guard");E=cl(_(n,e,t,r))}return E.pipe(bt())})).pipe(dc()):Je(!0)}(i.component,i.route,t,e,r)),bt(i=>!0!==i,!0))}(d,r,i,n).pipe((0,er.z)(p=>p&&function(n){return"boolean"==typeof n}(p)?function(n,e,t,r){return(0,vn.D)(e).pipe(xi(i=>fg(function(n,e){return null!==n&&e&&e(new IR(n)),Je(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new mg(n)),Je(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>jy(()=>Je(d.guards.map(_=>{const E=Fd(_,d.node,t);let I;if(function(n){return n&&Ao(n.canActivateChild)}(E))I=cl(E.canActivateChild(r,n));else{if(!Ao(E))throw new Error("Invalid CanActivateChild guard");I=cl(E(r,n))}return I.pipe(bt())})).pipe(dc())));return Je(a).pipe(dc())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Je(!0);const i=r.map(a=>jy(()=>{const d=Fd(a,e,t);let p;if(function(n){return n&&Ao(n.canActivate)}(d))p=cl(d.canActivate(e,n));else{if(!Ao(d))throw new Error("Invalid CanActivate guard");p=cl(d(e,n))}return p.pipe(bt())}));return Je(i).pipe(dc())}(n,i.route,t))),bt(i=>!0!==i,!0))}(r,a,n,e):Je(p)),(0,yt.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Ri.b)(p=>{if(cc(p.guardsResult)){const E=Yy(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw E.url=p.guardsResult,E}const _=new qy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(_)}),tr(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),Tf(p=>{if(p.guards.canActivateChecks.length)return Je(p).pipe((0,Ri.b)(_=>{const E=new $w(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),Mn(_=>{let E=!1;return Je(_).pipe(function(n,e){return(0,er.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Je(t);let a=0;return(0,vn.D)(i).pipe(xi(d=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return Je({});const a={};return(0,vn.D)(i).pipe((0,er.z)(d=>function(n,e,t,r){const i=Fd(n,e,r);return cl(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,Ri.b)(p=>{a[d]=p}))),Gy(1),(0,er.z)(()=>Object.keys(a).length===i.length?Je(a):sc.E))}(n._resolve,n,e,r).pipe((0,yt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),tb(n,t).resolve),null)))}(d.route,r,n,e)),(0,Ri.b)(()=>a++),Gy(1),(0,er.z)(d=>a===i.length?Je(t):sc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ri.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Ri.b)(_=>{const E=new Wy(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),Tf(p=>{const{targetSnapshot:_,id:E,extractedUrl:I,rawUrl:M,extras:{skipLocationChange:L,replaceUrl:B}}=p;return this.hooks.afterPreactivation(_,{navigationId:E,appliedUrlTree:I,rawUrlTree:M,skipLocationChange:!!L,replaceUrl:!!B})}),(0,yt.U)(p=>{const _=function(n,e,t){const r=uc(n,e._root,t?t._root:void 0);return new s_(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:_})}),(0,Ri.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,yt.U)(r=>(new l_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Ri.b)({next(){a=!0},complete(){a=!0}}),function(n){return(0,_r.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;a||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),iu(p=>{if(d=!0,function(n){return n&&n[zw]}(p)){const _=cc(p.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const E=new $y(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(E),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cu(i.source)};this.scheduleNavigation(I,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new bD(i.id,this.serializeUrl(i.extractedUrl),p);r.next(_);try{i.resolve(this.errorHandler(p))}catch(E){i.reject(E)}}return sc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){p_(t),this.config=t.map(Rd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:p,preserveFragment:_}=r,E=i||this.routerState.root,I=_?this.currentUrlTree.fragment:d;let M=null;switch(p){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),function(n,e,t,r,i){if(0===t.length)return o_(e.root,e.root,e,r,i);const a=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ob(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Er(a.outlets,(_,E)=>{p[E]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new ob(t,e,r)}(t);if(a.toRoot())return o_(e.root,new Ht([],{}),e,r,i);const d=function(n,e,t){if(n.isAbsolute)return new xg(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new xg(a,a===e.root,0)}const r=Dg(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new xg(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),p=d.processChildren?Sg(d.segmentGroup,d.index,a.commands):Ag(d.segmentGroup,d.index,a.commands);return o_(d.segmentGroup,p,e,r,i)}(E,this.currentUrlTree,t,M,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=cc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},lx):!1===r?Object.assign({},ux):r,cc(t))return AD(this.currentUrlTree,t,i);const a=this.parseUrl(t);return AD(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ki(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,d){var p,_,E;if(this.disposed)return Promise.resolve(!1);const I=this.transitions.value,M=cu(r)&&I&&!cu(I.source),L=I.rawUrl.toString()===t.toString(),B=I.id===(null===(p=this.currentNavigation)||void 0===p?void 0:p.id);if(M&&L&&B)return Promise.resolve(!0);let oe,we,Fe;d?(oe=d.resolve,we=d.reject,Fe=d.promise):Fe=new Promise((ut,hn)=>{oe=ut,we=hn});const it=++this.navigationId;let It;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),It=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):It=0,this.setTransition({id:it,targetPageId:It,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:oe,reject:we,promise:Fe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Fe.catch(ut=>Promise.reject(ut))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new $y(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function cu(n){return"imperative"!==n}class hc{}class fc{preload(e,t){return Je(null)}}let pc=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Ib(i,r,_=>t.triggerEvent(new ED(_)),_=>t.triggerEvent(new Zy(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(tr(t=>t instanceof ki),xi(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const d=a._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,vn.D)(i).pipe((0,mf.J)(),(0,yt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Je(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,er.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Cr),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(hc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),du=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ki&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new yg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const io=new u.OlP("ROUTER_CONFIGURATION"),gc=new u.OlP("ROUTER_FORROOT_GUARD"),Bd=[$e,{provide:Ww,useClass:hl},{provide:Cr,useFactory:function(n,e,t,r,i,a,d={},p,_){const E=new Cr(null,n,e,t,r,i,Qy(a));return p&&(E.urlHandlingStrategy=p),_&&(E.routeReuseStrategy=_),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,E),d.enableTracing&&E.events.subscribe(I=>{var M,L;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(L=console.groupEnd)||void 0===L||L.call(console)}),E},deps:[Ww,Cf,$e,u.zs3,u.Sil,D_,io,[class{},new u.FiY],[class{},new u.FiY]]},Cf,{provide:lu,useFactory:function(n){return n.routerState.root},deps:[Cr]},pc,fc,class{preload(e,t){return t().pipe(iu(()=>Je(null)))}},{provide:io,useValue:{enableTracing:!1}}];function Tb(){return new u.PXZ("Router",Cr)}let A_=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Bd,S_(t),{provide:gc,useFactory:kb,deps:[[Cr,new u.FiY,new u.tp0]]},{provide:io,useValue:r||{}},{provide:le,useFactory:Rb,deps:[ae,[new u.tBr(ue),new u.FiY],io]},{provide:du,useFactory:Mb,deps:[Cr,Dh,io]},{provide:hc,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:fc},{provide:u.PXZ,multi:!0,useFactory:Tb},[I_,{provide:u.ip1,multi:!0,useFactory:Pb,deps:[I_]},{provide:Lb,useFactory:cx,deps:[I_]},{provide:u.tb,multi:!0,useExisting:Lb}]]}}static forChild(t){return{ngModule:n,providers:[S_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gc,8),u.LFG(Cr,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Mb(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new du(n,e,t)}function Rb(n,e,t={}){return t.useHash?new _e(n,e):new De(n,e)}function kb(n){return"guarded"}function S_(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:D_,multi:!0,useValue:n}]}let I_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Pn.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),a=this.injector.get(Cr),d=this.injector.get(io);return"disabled"===d.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?Je(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(io),i=this.injector.get(pc),a=this.injector.get(du),d=this.injector.get(Cr),p=this.injector.get(u.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),a.init(),d.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Pb(n){return n.appInitializer.bind(n)}function cx(n){return n.bootstrapListener.bind(n)}const Lb=new u.OlP("Router Initializer");var ge=F(5861);let Og=(()=>{class n{constructor(t){this.httpClient=t,this.urlSwapi="https://www.swapi.tech/api/"}getFilms(){var t=this;return(0,ge.Z)(function*(){return t.httpClient.get(t.urlSwapi+"films").toPromise().then(r=>r)})()}getVehiclesFromMovie(t){var r=this;return(0,ge.Z)(function*(){return r.httpClient.get(r.urlSwapi+"films/"+t).toPromise().then(i=>i)})()}getAllVehiclesInf(t){var r=this;return(0,ge.Z)(function*(){return r.httpClient.get(t).toPromise().then(i=>i)})()}getVehicle(t){var r=this;return(0,ge.Z)(function*(){return r.httpClient.get(r.urlSwapi+"vehicles/"+t).toPromise().then(i=>i)})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ko))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dx=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,u.f3M)(ne)}}),hx=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let T_=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?hx.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dx,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Ud=F(6451);function Ub(n){for(let e in n){let t=n[e]||"";switch(e){case"display":n.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":t=t||"row",n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t}}return n}const jb="inline",M_=["row","column","row-reverse","column-reverse"];function px(n){let[e,t,r]=Gb(n);return function(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}(e,t,r)}function Gb(n){n=n?n.toLowerCase():"";let[e,t,r]=n.split(" ");return M_.find(i=>i===e)||(e=M_[0]),t===jb&&(t=r!==jb?r:"",r=jb),[e,HR(t),!!r]}function jd(n){let[e]=Gb(n);return e.indexOf("row")>-1}function HR(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function es(n,...e){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}const Hb={provide:u.tb,useFactory:function(n,e){return()=>{if(hs(e)){const t=Array.from(n.querySelectorAll(`[class*=${$b}]`)),r=/\bflex-layout-.+?\b/g;t.forEach(i=>{i.classList.contains(`${$b}ssr`)&&i.parentNode?i.parentNode.removeChild(i):i.className.replace(r,"")})}}},deps:[ne,u.Lbi],multi:!0},$b="flex-layout-";let Fg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Hb]}),n})();class da{constructor(e=!1,t="all",r="",i="",a=0){this.matches=e,this.mediaQuery=t,this.mqAlias=r,this.suffix=i,this.priority=a,this.property=""}clone(){return new da(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let yx=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,r,i){const a=this.stylesheet.get(t);a?a.set(r,i):this.stylesheet.set(t,new Map([[r,i]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,r){const i=this.stylesheet.get(t);let a="";if(i){const d=i.get(r);("number"==typeof d||"string"==typeof d)&&(a=d+"")}return a}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ng={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},hu=new u.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Ng}),Gd=new u.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),R_=new u.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function zb(n,e){return n=n?n.clone():new da,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}class Zn{constructor(){this.shouldCache=!0}sideEffect(e,t,r){}}let An=(()=>{class n{constructor(t,r,i,a){this._serverStylesheet=t,this._serverModuleLoaded=r,this._platformId=i,this.layoutConfig=a}applyStyleToElement(t,r,i=null){let a={};"string"==typeof r&&(a[r]=i,r=a),a=this.layoutConfig.disableVendorPrefixes?r:Ub(r),this._applyMultiValueStyleToElement(a,t)}applyStyleToElements(t,r=[]){const i=this.layoutConfig.disableVendorPrefixes?t:Ub(t);r.forEach(a=>{this._applyMultiValueStyleToElement(i,a)})}getFlowDirection(t){const r="flex-direction";let i=this.lookupStyle(t,r);return[i||"row",this.lookupInlineStyle(t,r)||Tn(this._platformId)&&this._serverModuleLoaded?i:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,r){return t.getAttribute(r)||""}lookupInlineStyle(t,r){return hs(this._platformId)?t.style.getPropertyValue(r):this._getServerStyle(t,r)}lookupStyle(t,r,i=!1){let a="";return t&&((a=this.lookupInlineStyle(t,r))||(hs(this._platformId)?i||(a=getComputedStyle(t).getPropertyValue(r)):this._serverModuleLoaded&&(a=this._serverStylesheet.getStyleForElement(t,r)))),a?a.trim():""}_applyMultiValueStyleToElement(t,r){Object.keys(t).sort().forEach(i=>{const a=t[i],d=Array.isArray(a)?a:[a];d.sort();for(let p of d)p=p?p+"":"",hs(this._platformId)||!this._serverModuleLoaded?hs(this._platformId)?r.style.setProperty(i,p):this._setServerStyle(r,i,p):this._serverStylesheet.addStyleToElement(r,i,p)})}_setServerStyle(t,r,i){r=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const a=this._readStyleAttribute(t);a[r]=i||"",this._writeStyleAttribute(t,a)}_getServerStyle(t,r){return this._readStyleAttribute(t)[r]||""}_readStyleAttribute(t){const r={},i=t.getAttribute("style");if(i){const a=i.split(/;+/g);for(let d=0;d<a.length;d++){const p=a[d].trim();if(p.length>0){const _=p.indexOf(":");if(-1===_)throw new Error(`Invalid CSS style: ${p}`);r[p.substr(0,_).trim()]=p.substr(_+1).trim()}}}return r}_writeStyleAttribute(t,r){let i="";for(const a in r)r[a]&&(i+=a+":"+r[a]+";");t.setAttribute("style",i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yx),u.LFG(Gd),u.LFG(u.Lbi),u.LFG(hu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rf(n,e){return(e&&e.priority||0)-(n&&n.priority||0)}function qb(n,e){return(n.priority||0)-(e.priority||0)}let Pg=(()=>{class n{constructor(t,r,i){this._zone=t,this._platformId=r,this._document=i,this.source=new rr(new da(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((r,i)=>{r.matches&&t.push(i)}),t}isActive(t){const r=this.registry.get(t);return r?r.matches:this.registerQuery(t).some(i=>i.matches)}observe(t,r=!1){if(t&&t.length){const i=this._observable$.pipe(tr(d=>!r||t.indexOf(d.mediaQuery)>-1)),a=new Fn.y(d=>{const p=this.registerQuery(t);if(p.length){const _=p.pop();p.forEach(E=>{d.next(E)}),this.source.next(_)}d.complete()});return(0,Ud.T)(a,i)}return this._observable$}registerQuery(t){const r=Array.isArray(t)?t:[t],i=[];return function(n,e){const t=n.filter(r=>!Lg[r]);if(t.length>0){const r=t.join(", ");try{const i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${r} {.fx-query-test{ }}\n`)),e.head.appendChild(i),t.forEach(a=>Lg[a]=i)}catch(i){console.error(i)}}}(r,this._document),r.forEach(a=>{const d=_=>{this._zone.run(()=>this.source.next(new da(_.matches,a)))};let p=this.registry.get(a);p||(p=this.buildMQL(a),p.addListener(d),this.pendingRemoveListenerFns.push(()=>p.removeListener(d)),this.registry.set(a,p)),p.matches&&i.push(new da(!0,a))}),i}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function(n,e){return e&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,hs(this._platformId))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(u.Lbi),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lg={},_x=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],vx="(orientation: portrait) and (max-width: 599.98px)",Hd="(orientation: landscape) and (max-width: 959.98px)",O_="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Vg="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Bg="(orientation: portrait) and (min-width: 840px)",Wb="(orientation: landscape) and (min-width: 1280px)",So={HANDSET:`${vx}, ${Hd}`,TABLET:`${O_} , ${Vg}`,WEB:`${Bg}, ${Wb} `,HANDSET_PORTRAIT:`${vx}`,TABLET_PORTRAIT:`${O_} `,WEB_PORTRAIT:`${Bg}`,HANDSET_LANDSCAPE:`${Hd}`,TABLET_LANDSCAPE:`${Vg}`,WEB_LANDSCAPE:`${Wb}`},F_=[{alias:"handset",priority:2e3,mediaQuery:So.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:So.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:So.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:So.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:So.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:So.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:So.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:So.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:So.WEB_PORTRAIT,overlapping:!0}],Zb=/(\.|-|_)/g;function zR(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}const Kb=new u.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,u.f3M)(R_),e=(0,u.f3M)(hu),t=[].concat.apply([],(n||[]).map(i=>Array.isArray(i)?i:[i]));return function(n,e=[]){const t={};return n.forEach(r=>{t[r.alias]=r}),e.forEach(r=>{t[r.alias]?es(t[r.alias],r):t[r.alias]=r}),function(n){return n.forEach(e=>{e.suffix||(e.suffix=function(n){return n.replace(Zb,"|").split("|").map(zR).join("")}(e.alias),e.overlapping=!!e.overlapping)}),n}(Object.keys(t).map(r=>t[r]))}((e.disableDefaultBps?[]:_x).concat(e.addOrientationBps?F_:[]),t)}});let Ug=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(qb)}findByAlias(t){return t?this.findWithPredicate(t,r=>r.alias==t):null}findByQuery(t){return this.findWithPredicate(t,r=>r.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,r){let i=this.findByMap.get(t);return i||(i=this.items.find(r)||null,this.findByMap.set(t,i)),i||null}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Kb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fu="print",Yb={alias:fu,mediaQuery:fu,priority:1e3};let Qb=(()=>{class n{constructor(t,r,i){this.breakpoints=t,this.layoutConfig=r,this._document=i,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new L_,this.deactivations=[]}withPrintQuery(t){return[...t,fu]}isPrintEvent(t){return t.mediaQuery.startsWith(fu)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const r=this.breakpoints.findByQuery(t);return(r?[...this.printBreakPoints,r]:this.printBreakPoints).sort(Rf)}updateEvent(t){let r=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(r=this.getEventBreakpoints(t)[0],t.mediaQuery=r?r.mediaQuery:""),zb(t,r)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const r=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new da(!0,fu))),t.updateStyles())},i=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",r),this._document.defaultView.addEventListener("afterprint",i),this.beforePrintEventListeners.push(r),this.afterPrintEventListeners.push(i)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),r=>{this.isPrintEvent(r)?r.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(r)),t.updateStyles()):!r.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(r)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,r){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const r=this.breakpoints.findByQuery(t.mediaQuery);r&&(this.deactivations.push(r),this.deactivations.sort(Rf))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ug),u.LFG(hu),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class L_{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(Yb),e.sort(Rf),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){var n;e&&void 0===this.printBreakpoints.find(r=>r.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=(n=e)&&n.mediaQuery.startsWith(fu)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let Ln=(()=>{class n{constructor(t,r,i){this.matchMedia=t,this.breakpoints=r,this.hook=i,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Pn.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const r=this.findByQuery(t.mediaQuery);r&&((t=zb(t,r)).matches&&-1===this.activatedBreakpoints.indexOf(r)?(this.activatedBreakpoints.push(r),this.activatedBreakpoints.sort(Rf),this.updateStyles()):!t.matches&&-1!==this.activatedBreakpoints.indexOf(r)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(r),1),this.activatedBreakpoints.sort(Rf),this.updateStyles()))}init(t,r,i,a,d=[]){V_(this.updateMap,t,r,i),V_(this.clearMap,t,r,a),this.buildElementKeyMap(t,r),this.watchExtraTriggers(t,r,d)}getValue(t,r,i){const a=this.elementMap.get(t);if(a){const d=void 0!==i?a.get(i):this.getActivatedValues(a,r);if(d)return d.get(r)}}hasValue(t,r){const i=this.elementMap.get(t);if(i){const a=this.getActivatedValues(i,r);if(a)return void 0!==a.get(r)||!1}return!1}setValue(t,r,i,a){let d=this.elementMap.get(t);if(d){const _=(d.get(a)||new Map).set(r,i);d.set(a,_),this.elementMap.set(t,d)}else d=(new Map).set(a,(new Map).set(r,i)),this.elementMap.set(t,d);const p=this.getValue(t,r);void 0!==p&&this.updateElement(t,r,p)}trackValue(t,r){return this.subject.asObservable().pipe(tr(i=>i.element===t&&i.key===r))}updateStyles(){this.elementMap.forEach((t,r)=>{const i=new Set(this.elementKeyMap.get(r));let a=this.getActivatedValues(t);a&&a.forEach((d,p)=>{this.updateElement(r,p,d),i.delete(p)}),i.forEach(d=>{if(a=this.getActivatedValues(t,d),a){const p=a.get(d);this.updateElement(r,d,p)}else this.clearElement(r,d)})})}clearElement(t,r){const i=this.clearMap.get(t);if(i){const a=i.get(r);a&&(a(),this.subject.next({element:t,key:r,value:""}))}}updateElement(t,r,i){const a=this.updateMap.get(t);if(a){const d=a.get(r);d&&(d(i),this.subject.next({element:t,key:r,value:i}))}}releaseElement(t){const r=this.watcherMap.get(t);r&&(r.forEach(a=>a.unsubscribe()),this.watcherMap.delete(t));const i=this.elementMap.get(t);i&&(i.forEach((a,d)=>i.delete(d)),this.elementMap.delete(t))}triggerUpdate(t,r){const i=this.elementMap.get(t);if(i){const a=this.getActivatedValues(i,r);a&&(r?this.updateElement(t,r,a.get(r)):a.forEach((d,p)=>this.updateElement(t,p,d)))}}buildElementKeyMap(t,r){let i=this.elementKeyMap.get(t);i||(i=new Set,this.elementKeyMap.set(t,i)),i.add(r)}watchExtraTriggers(t,r,i){if(i&&i.length){let a=this.watcherMap.get(t);if(a||(a=new Map,this.watcherMap.set(t,a)),!a.get(r)){const p=(0,Ud.T)(...i).subscribe(()=>{const _=this.getValue(t,r);this.updateElement(t,r,_)});a.set(r,p)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,r){for(let a=0;a<this.activatedBreakpoints.length;a++){const p=t.get(this.activatedBreakpoints[a].alias);if(p&&(void 0===r||p.has(r)&&null!=p.get(r)))return p}const i=t.get("");return void 0===r||i&&i.has(r)?i:void 0}observeActivations(){const r=this.breakpoints.items.map(i=>i.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(r)).pipe((0,Ri.b)(this.hook.interceptEvents(this)),tr(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Pg),u.LFG(Ug),u.LFG(Qb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V_(n,e,t,r){if(void 0!==r){let i=n.get(e);i||(i=new Map,n.set(e,i)),i.set(t,r)}}let Vn=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.styleBuilder=r,this.styler=i,this.marshal=a,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Pn.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const i=r.split(".").slice(1).join(".");this.setValue(t[r].currentValue,i)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,r){const i=this.styleBuilder,a=i.shouldCache;let d=this.styleCache.get(t);(!d||!a)&&(d=i.buildStyles(t,r),a&&this.styleCache.set(t,d)),this.mru=Object.assign({},d),this.applyStyleToElement(d),i.sideEffect(t,d,r)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,r=!1){if(t){const[i,a]=this.styler.getFlowDirection(t);if(!a&&r){const d=px(i);this.styler.applyStyleToElements(d,[t])}return i.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,r,i=this.nativeElement){this.styler.applyStyleToElement(i,t,r)}setValue(t,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,r)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Zn),u.Y36(An),u.Y36(Ln))},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();function U_(n,e="1",t="1"){let r=[e,t,n],i=n.indexOf("calc");if(i>0){r[2]=j_(n.substring(i).trim());let a=n.substr(0,i).trim().split(" ");2==a.length&&(r[0]=a[0],r[1]=a[1])}else if(0==i)r[2]=j_(n.trim());else{let a=n.split(" ");r=3===a.length?a:[e,t,n]}return r}function j_(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}var t0=F(5032);function Oi(n){return(0,_r.e)((e,t)=>{(0,Dd.Xf)(n).subscribe(new Dn.Q(t,()=>t.complete(),t0.Z)),!t.closed&&e.subscribe(t)})}let n0=(()=>{class n extends Zn{buildStyles(t){return px(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const r0=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let WR=(()=>{class n extends Vn{constructor(t,r,i,a){super(t,i,r,a),this.DIRECTIVE_KEY="layout",this.styleCache=Ax,this.init()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(An),u.Y36(n0),u.Y36(Ln))},n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})(),kf=(()=>{class n extends WR{constructor(){super(...arguments),this.inputs=r0}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[u.qOj]}),n})();const Ax=new Map;let l0=(()=>{class n extends Zn{constructor(t){super(),this.layoutConfig=t}buildStyles(t,r){let[i,a,...d]=t.split(" "),p=d.join(" ");const _=r.direction.indexOf("column")>-1?"column":"row",E=jd(_)?"max-width":"max-height",I=jd(_)?"min-width":"min-height",M=String(p).indexOf("calc")>-1,L=M||"auto"===p,B=String(p).indexOf("%")>-1&&!M,W=String(p).indexOf("px")>-1||String(p).indexOf("rem")>-1||String(p).indexOf("em")>-1||String(p).indexOf("vw")>-1||String(p).indexOf("vh")>-1;let oe=M||W;i="0"==i?0:i,a="0"==a?0:a;const we=!i&&!a;let Fe={};const it={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(p||""){case"":const It=!1!==this.layoutConfig.useColumnBasisZero;p="row"===_?"0%":It?"0.000000001px":"auto";break;case"initial":case"nogrow":i=0,p="auto";break;case"grow":p="100%";break;case"noshrink":a=0,p="auto";break;case"auto":break;case"none":i=0,a=0,p="auto";break;default:!oe&&!B&&!isNaN(p)&&(p+="%"),"0%"===p&&(oe=!0),"0px"===p&&(p="0%"),Fe=es(it,M?{"flex-grow":i,"flex-shrink":a,"flex-basis":oe?p:"100%"}:{flex:`${i} ${a} ${oe?p:"100%"}`})}return Fe.flex||Fe["flex-grow"]||(Fe=es(it,M?{"flex-grow":i,"flex-shrink":a,"flex-basis":p}:{flex:`${i} ${a} ${p}`})),"0%"!==p&&"0px"!==p&&"0.000000001px"!==p&&"auto"!==p&&(Fe[I]=we||oe&&i?p:null,Fe[E]=we||!L&&a?p:null),Fe[I]||Fe[E]?r.hasWrap&&(Fe[M?"flex-basis":"flex"]=Fe[E]?M?Fe[E]:`${i} ${a} ${Fe[E]}`:M?Fe[I]:`${i} ${a} ${Fe[I]}`):Fe=es(it,M?{"flex-grow":i,"flex-shrink":a,"flex-basis":p}:{flex:`${i} ${a} ${p}`}),es(Fe,{"box-sizing":"border-box"})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZR=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let $_=(()=>{class n extends Vn{constructor(t,r,i,a,d){super(t,a,r,d),this.layoutConfig=i,this.marshal=d,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Oi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Oi(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const i=t.value.split(" ");this.direction=i[0],this.wrap=void 0!==i[1]&&"wrap"===i[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const i=this.direction,a=i.startsWith("row"),d=this.wrap;a&&d?this.styleCache=ha:a&&!d?this.styleCache=Nx:!a&&d?this.styleCache=Io:!a&&!d&&(this.styleCache=Px);const _=U_(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(_.join(" "),{direction:i,hasWrap:d})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const r=U_(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,r.join(" "))}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(An),u.Y36(hu),u.Y36(l0),u.Y36(Ln))},n.\u0275dir=u.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[u.qOj]}),n})(),ts=(()=>{class n extends $_{constructor(){super(...arguments),this.inputs=ZR}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[u.qOj]}),n})();const Nx=new Map,Px=new Map,ha=new Map,Io=new Map;let w0=(()=>{class n extends Zn{buildStyles(t,r){const i={},[a,d]=t.split(" ");switch(a){case"center":i["justify-content"]="center";break;case"space-around":i["justify-content"]="space-around";break;case"space-between":i["justify-content"]="space-between";break;case"space-evenly":i["justify-content"]="space-evenly";break;case"end":case"flex-end":i["justify-content"]="flex-end";break;default:i["justify-content"]="flex-start"}switch(d){case"start":case"flex-start":i["align-items"]=i["align-content"]="flex-start";break;case"center":i["align-items"]=i["align-content"]="center";break;case"end":case"flex-end":i["align-items"]=i["align-content"]="flex-end";break;case"space-between":i["align-content"]="space-between",i["align-items"]="stretch";break;case"space-around":i["align-content"]="space-around",i["align-items"]="stretch";break;case"baseline":i["align-content"]="stretch",i["align-items"]="baseline";break;default:i["align-items"]=i["align-content"]="stretch"}return es(i,{display:r.inline?"inline-flex":"flex","flex-direction":r.layout,"box-sizing":"border-box","max-width":"stretch"===d?jd(r.layout)?null:"100%":null,"max-height":"stretch"===d&&jd(r.layout)?"100%":null})}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b0=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Wx=(()=>{class n extends Vn{constructor(t,r,i,a){super(t,i,r,a),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Oi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const r=this.layout||"row",i=this.inline;"row"===r&&i?this.styleCache=Jx:"row"!==r||i?"row-reverse"===r&&i?this.styleCache=eA:"row-reverse"!==r||i?"column"===r&&i?this.styleCache=Xx:"column"!==r||i?"column-reverse"===r&&i?this.styleCache=tA:"column-reverse"===r&&!i&&(this.styleCache=Qx):this.styleCache=Kx:this.styleCache=Yx:this.styleCache=Zx,this.addStyles(t,{layout:r,inline:i})}onLayoutChange(t){const r=t.value.split(" ");this.layout=r[0],this.inline=t.value.includes("inline"),M_.find(i=>i===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(An),u.Y36(w0),u.Y36(Ln))},n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})(),Of=(()=>{class n extends Wx{constructor(){super(...arguments),this.inputs=b0}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[u.qOj]}),n})();const Zx=new Map,Kx=new Map,Yx=new Map,Qx=new Map,Jx=new Map,Xx=new Map,eA=new Map,tA=new Map;let $g,E0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fg,mc]]}),n})();function ir(n){return null!=n&&"false"!=`${n}`}function pu(n){return n instanceof u.SBq?n.nativeElement:n}try{$g="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){$g=!1}let yc,Mo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?hs(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$g)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Z_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function K_(){if(yc)return yc;if("object"!=typeof document||!document)return yc=new Set(Z_),yc;let n=document.createElement("input");return yc=new Set(Z_.filter(e=>(n.setAttribute("type",e),n.type===e))),yc}let $d,C0;function Ff(n){return function(){if(null==$d&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$d=!0}))}finally{$d=$d||!1}return $d}()?n:!!n.capture}function zd(n){return n.composedPath?n.composedPath()[0]:n.target}function em(n,e=oa.y){return n=null!=n?n:tm,(0,_r.e)((t,r)=>{let i,a=!0;t.subscribe(new Dn.Q(r,d=>{const p=e(d);(a||!n(i,p))&&(a=!1,i=p,r.next(d))}))})}function tm(n,e){return n===e}function iv(n){return 0===n.offsetX&&0===n.offsetY}function O0(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const YA=new u.OlP("cdk-input-modality-detector-options"),QA={ignoreKeys:[18,17,224,91,16]},Wd=Ff({passive:!0,capture:!0});let JA=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new rr(null),this._lastTouchMs=0,this._onKeydown=d=>{var p,_;(null===(_=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===_?void 0:_.some(E=>E===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=zd(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(iv(d)?"keyboard":"mouse"),this._mostRecentTarget=zd(d))},this._onTouchstart=d=>{O0(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zd(d))},this._options=Object.assign(Object.assign({},QA),a),this.modalityDetected=this._modality.pipe(tr((e,t)=>1<=t)),this.modalityChanged=this.modalityDetected.pipe(em()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Wd),i.addEventListener("mousedown",this._onMousedown,Wd),i.addEventListener("touchstart",this._onTouchstart,Wd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wd),document.removeEventListener("mousedown",this._onMousedown,Wd),document.removeEventListener("touchstart",this._onTouchstart,Wd))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mo),u.LFG(u.R0b),u.LFG(ne),u.LFG(YA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XA=new u.OlP("cdk-focus-monitor-default-options"),Zd=Ff({passive:!0,capture:!0});let jf=(()=>{class n{constructor(t,r,i,a,d){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pn.x,this._rootNodeFocusAndBlurListener=p=>{const _=zd(p),E="focus"===p.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)E.call(this,p,I)},this._document=a,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,r=!1){const i=pu(t);if(!this._platform.isBrowser||1!==i.nodeType)return Je(null);const a=function(n){if(function(){if(null==C0){const n="undefined"!=typeof document?document.head:null;C0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return C0}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const p={checkChildren:r,subject:new Pn.x,rootNode:a};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=pu(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=pu(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([p,_])=>this._originChanged(p,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=zd(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Zd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Zd)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Oi(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Zd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Zd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Mo),u.LFG(JA),u.LFG(ne,8),u.LFG(XA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P0="cdk-high-contrast-black-on-white",L0="cdk-high-contrast-white-on-black",Kd="cdk-high-contrast-active";let rm=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Kd),t.remove(P0),t.remove(L0),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Kd),t.add(P0)):2===r&&(t.add(Kd),t.add(L0))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mo),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B0=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Yr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!("undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rm),u.LFG(B0,8),u.LFG(ne))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mc],mc]}),n})();function rS(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ir(e)}}}function ov(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function j0(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ir(e)}}}function H0(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Pn.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let z0=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uS{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const av={enterDuration:225,exitDuration:150},lv=Ff({passive:!0}),om=["mousedown","touchstart"],uv=["mouseup","mouseleave","touchend","touchcancel"];class W0{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=pu(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},av),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const d=r.radius||function(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),p=e-i.left,_=t-i.top,E=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=p-d+"px",I.style.top=_-d+"px",I.style.height=2*d+"px",I.style.width=2*d+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(I),window.getComputedStyle(I).getPropertyValue("opacity"),I.style.transform="scale(1)";const M=new uS(this,I,r);return M.state=0,this._activeRipples.add(M),r.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const L=M===this._mostRecentTransientRipple;M.state=1,!r.persistent&&(!L||!this._isPointerDown)&&M.fadeOut()},E),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},av),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=pu(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(om))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(uv),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=iv(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!O0(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,lv)})})}_removeTriggerEvents(){this._triggerElement&&(om.forEach(e=>{this._triggerElement.removeEventListener(e,this,lv)}),this._pointerUpEventsRegistered&&uv.forEach(e=>{this._triggerElement.removeEventListener(e,this,lv)}))}}const FO=new u.OlP("mat-ripple-global-options");let dv=(()=>{class n{constructor(t,r,i,a,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new W0(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Mo),u.Y36(FO,8),u.Y36(Mt,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),dS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Yr,zg],Yr]}),n})(),Y0=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=ir(t)}get inset(){return this._inset}set inset(t){this._inset=ir(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),u.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),Q0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Yr],Yr]}),n})();function _S(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",3),u.TgZ(1,"div",8),u._uU(2),u.qZA(),u.TgZ(3,"div",9),u._uU(4),u.qZA(),u.TgZ(5,"div",9),u._uU(6),u.qZA(),u.TgZ(7,"div",9),u.TgZ(8,"div",10),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().getNaves(a.episode_id)}),u.TgZ(9,"b"),u._uU(10,"Naves"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&n){const t=e.$implicit;u.xp6(2),u.hij(" ",t.title," "),u.xp6(2),u.hij(" ",t.episode_id," "),u.xp6(2),u.hij(" ",t.release_date," ")}}let J0=(()=>{class n{constructor(t,r){this.swapiSrv=t,this.router=r,this.films=[],this.films2=["1","2","3","4","5","6"],this.films3=[{nombre:"Star Wars: Episodio I - La amenaza fantasma",duracion:"1:45",numNaves:8},{nombre:"Star Wars: Episodio II - El ataque de los clones",duracion:"2:10",numNaves:4},{nombre:"Star Wars: Episodio III - La venganza de los Sith",duracion:"1:50",numNaves:5},{nombre:"Star Wars: Episodio IV - Una nueva esperanza",duracion:"1:32",numNaves:2},{nombre:"Star Wars: Episodio V - El Imperio contraataca",duracion:"3:03",numNaves:13},{nombre:"Star Wars: Episode VI - Return of the Jedi",duracion:"2:20",numNaves:7},{nombre:"Star Wars: Episodio VII - El despertar de la Fuerza",duracion:"2:20",numNaves:9},{nombre:"Star Wars: Episode VII - Los \xfaltimos Jedi",duracion:"2:20",numNaves:6},{nombre:"Star Wars: Episodio IX - El ascenso de Skywalker",duracion:"2:20",numNaves:8}],this.displayedColumns=["nombre","duracion","numNaves","verNaves"],this.dataSource=this.films3}ngOnInit(){this.swapiSrv.getFilms().then(t=>{t.result.forEach(r=>{this.films.push(r.properties)}),console.log("FILMS"),console.log(this.films)})}getNaves(t){this.router.navigate(["peliculas/"+t+"/naves"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Og),u.Y36(Cr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-peliculas"]],decls:21,vars:1,consts:[["fxLayoutAlign","center center",1,"seccion"],[2,"margin","5%"],["fxLayout","column","fxFlex","100"],["fxLayout","row","fxFlex","100"],["fxFlex","40"],["fxFlex","20","fxLayoutAlign","center center"],[2,"background-color","black"],["fxLayout","row","fxFlex","100",4,"ngFor","ngForOf"],["fxLayout","row","fxFlex","40","fxLayoutAlign","start center",1,"data"],["fxFlex","20","fxLayoutAlign","center center",1,"data"],[1,"buttons",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"p"),u.TgZ(2,"b"),u._uU(3,"Lista de pel\xedculas de star wars"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(4,"div",1),u.TgZ(5,"div",2),u.TgZ(6,"div",3),u.TgZ(7,"div",4),u.TgZ(8,"b"),u._uU(9,"T\xedtulo"),u.qZA(),u.qZA(),u.TgZ(10,"div",5),u.TgZ(11,"b"),u._uU(12,"Episodio"),u.qZA(),u.qZA(),u.TgZ(13,"div",5),u.TgZ(14,"b"),u._uU(15,"Fecha"),u.qZA(),u.qZA(),u.TgZ(16,"div",5),u.TgZ(17,"b"),u._uU(18,"Ver naves"),u.qZA(),u.qZA(),u.qZA(),u._UZ(19,"mat-divider",6),u.YNc(20,_S,11,3,"div",7),u.qZA(),u.qZA()),2&t&&(u.xp6(20),u.Q6J("ngForOf",r.films))},directives:[Of,kf,ts,Y0,_i],styles:[".seccion[_ngcontent-%COMP%]{margin-top:4%;font-family:Verdana;font-size:xx-large}.data[_ngcontent-%COMP%]{margin-top:0%}.buttons[_ngcontent-%COMP%]{text-decoration:none;margin-top:2px;padding:3px 10px;font-size:100%;color:#fff;background-color:#000;border-radius:15px;border:1px black;cursor:pointer}.buttons[_ngcontent-%COMP%]:hover{opacity:.8;text-decoration:none}"]}),n})();const X0=["mat-button",""],eE=["*"],bS=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],UO=ov(rS(j0(class{constructor(n){this._elementRef=n}})));let fv=(()=>{class n extends UO{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of bS)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(jf),u.Y36(Mt,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&u.Gf(dv,5),2&t){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:X0,ngContentSelectors:eE,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1),u._UZ(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[dv],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),jO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[dS,Yr],Yr]}),n})();function GO(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",11),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().getVehicle(a.uid)}),u._UZ(1,"mat-divider",12),u.TgZ(2,"div",13),u._uU(3),u.qZA(),u.TgZ(4,"div",14),u._uU(5),u.qZA(),u.TgZ(6,"div",15),u._uU(7),u.qZA(),u.TgZ(8,"div",16),u._uU(9),u.qZA(),u.qZA()}if(2&n){const t=e.$implicit;u.xp6(3),u.hij(" ",t.properties.name," "),u.xp6(2),u.hij(" ",t.properties.manufacturer," "),u.xp6(2),u.hij(" ",t.properties.max_atmosphering_speed," "),u.xp6(2),u.hij(" ",t.properties.vehicle_class," ")}}let HO=(()=>{class n{constructor(t,r,i){this.route=t,this.swapiSrv=r,this.router=i,this.idMovie=0,this.vehicles=[]}ngOnInit(){var t=this;return(0,ge.Z)(function*(){return new Promise(r=>{r(t.idMovie=t.route.snapshot.paramMap.get("filmID"))}).then(()=>new Promise(function(){var r=(0,ge.Z)(function*(i){return yield t.swapiSrv.getVehiclesFromMovie(t.idMovie).then(a=>{a.result.properties.vehicles.forEach(d=>t.swapiSrv.getAllVehiclesInf(d).then(p=>{i(t.vehicles.push(p.result))}))})});return function(i){return r.apply(this,arguments)}}()))})()}getVehicle(t){this.router.navigate(["peliculas/"+this.idMovie+"/naves/"+t])}return(){this.router.navigate(["peliculas"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lu),u.Y36(Og),u.Y36(Cr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-naves"]],decls:24,vars:2,consts:[["fxLayoutAlign","center center",1,"seccion"],[2,"margin","5%"],["fxLayout","column","fxFlex","100"],["fxLayout","row","fxFlex","100"],["fxFlex","25"],["fxFlex","40","fxLayoutAlign","center center"],["fxFlex","15","fxLayoutAlign","center center"],["fxFlex","20","fxLayoutAlign","center center"],[2,"background-color","black"],["class","vehicle","fxLayout","row","fxFlex","100",3,"click",4,"ngFor","ngForOf"],["mat-raised-button","","color","accent",3,"click"],["fxLayout","row","fxFlex","100",1,"vehicle",3,"click"],[2,"background-color","gray"],["fxLayout","row","fxFlex","25","fxLayoutAlign","start center",1,"data"],["fxFlex","40","fxLayoutAlign","center center",1,"data"],["fxFlex","15","fxLayoutAlign","center center",1,"data"],["fxFlex","20","fxLayoutAlign","center center",1,"data"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"p"),u.TgZ(2,"b"),u._uU(3),u.qZA(),u.qZA(),u.qZA(),u.TgZ(4,"div",1),u.TgZ(5,"div",2),u.TgZ(6,"div",3),u.TgZ(7,"div",4),u.TgZ(8,"b"),u._uU(9,"Nombre"),u.qZA(),u.qZA(),u.TgZ(10,"div",5),u.TgZ(11,"b"),u._uU(12,"Marca"),u.qZA(),u.qZA(),u.TgZ(13,"div",6),u.TgZ(14,"b"),u._uU(15,"Vel. M\xe1xima"),u.qZA(),u.qZA(),u.TgZ(16,"div",7),u.TgZ(17,"b"),u._uU(18,"Clase"),u.qZA(),u.qZA(),u.qZA(),u._UZ(19,"mat-divider",8),u.YNc(20,GO,10,4,"div",9),u.qZA(),u.qZA(),u.TgZ(21,"div",1),u.TgZ(22,"button",10),u.NdJ("click",function(){return r.return()}),u._uU(23,"Regresar"),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.hij("Lista de naves de la pel\xedcula ",r.idMovie," de star wars"),u.xp6(17),u.Q6J("ngForOf",r.vehicles))},directives:[Of,kf,ts,Y0,_i,fv],styles:[".seccion[_ngcontent-%COMP%]{margin-top:4%;font-family:Verdana;font-size:xx-large}.buttons[_ngcontent-%COMP%]{text-decoration:none;margin-top:2px;padding:3px 10px;font-size:100%;color:#fff;background-color:#000;border-radius:15px;border:1px black;cursor:pointer}.vehicle[_ngcontent-%COMP%]:hover{background-color:gray;border-color:#1b2631;text-decoration:none;cursor:pointer}"]}),n})(),ES=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Yd=(()=>{class n extends ES{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const _l=new u.OlP("NgValueAccessor"),pv={provide:_l,useExisting:(0,u.Gpc)(()=>um),multi:!0},tE=new u.OlP("CompositionEventMode");let um=(()=>{class n extends ES{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(tE,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([pv]),u.qOj]}),n})();function gu(n){return null==n||0===n.length}function cm(n){return null!=n&&"number"==typeof n.length}const Qr=new u.OlP("NgValidators"),vl=new u.OlP("NgAsyncValidators"),nE=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class dm{static min(e){return function(n){return e=>{if(gu(e.value)||gu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(gu(e.value)||gu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return gu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return gu(n.value)||nE.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>gu(e.value)||!cm(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>cm(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return zf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(gu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return pm(e)}static composeAsync(e){return aE(e)}}function zf(n){return null}function SS(n){return null!=n}function iE(n){const e=(0,u.QGY)(n)?(0,vn.D)(n):n;return(0,u.CqO)(e),e}function fm(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function sE(n,e){return e.map(t=>t(n))}function oE(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function pm(n){if(!n)return null;const e=n.filter(SS);return 0==e.length?null:function(t){return fm(sE(t,e))}}function yv(n){return null!=n?pm(oE(n)):null}function aE(n){if(!n)return null;const e=n.filter(SS);return 0==e.length?null:function(t){return function(...n){const e=(0,ms.jO)(n),{args:t,keys:r}=Ed(n),i=new Fn.y(a=>{const{length:d}=t;if(!d)return void a.complete();const p=new Array(d);let _=d,E=d;for(let I=0;I<d;I++){let M=!1;(0,Dd.Xf)(t[I]).subscribe(new Dn.Q(a,L=>{M||(M=!0,E--),p[I]=L},()=>_--,void 0,()=>{(!_||!M)&&(E||a.next(r?Ly(r,p):p),a.complete())}))}});return e?i.pipe(pf(e)):i}(sE(t,e).map(iE)).pipe((0,yt.U)(fm))}}function qf(n){return null!=n?aE(oE(n)):null}function _v(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vv(n){return n._rawValidators}function lE(n){return n._rawAsyncValidators}function gm(n){return n?Array.isArray(n)?n:[n]:[]}function Wf(n,e){return Array.isArray(n)?n.includes(e):n===e}function uE(n,e){const t=gm(e);return gm(n).forEach(i=>{Wf(t,i)||t.push(i)}),t}function cE(n,e){return gm(e).filter(t=>!Wf(n,t))}class mm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xr extends mm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fi extends mm{get formDirective(){return null}get path(){return null}}class dE{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let hE=(()=>{class n extends dE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xr,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),fE=(()=>{class n extends dE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fi,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Jd(n,e){mE(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yE(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Kf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Em(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mE(n,e){const t=vv(n);null!==e.validator?n.setValidators(_v(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=lE(n);null!==e.asyncValidator?n.setAsyncValidators(_v(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Em(e._rawValidators,i),Em(e._rawAsyncValidators,i)}function Kf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=vv(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=lE(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Em(e._rawValidators,r),Em(e._rawAsyncValidators,r),t}function yE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function FS(n,e){mE(n,e)}function _E(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Yf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const eh="VALID",th="INVALID",mu="PENDING",Qf="DISABLED";function Jf(n){return(vE(n)?n.validators:n)||null}function Cv(n){return Array.isArray(n)?yv(n):n||null}function Dm(n,e){return(vE(e)?e.asyncValidators:n)||null}function NS(n){return Array.isArray(n)?qf(n):n||null}function vE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class wE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Cv(this._rawValidators),this._composedAsyncValidatorFn=NS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===eh}get invalid(){return this.status===th}get pending(){return this.status==mu}get disabled(){return this.status===Qf}get enabled(){return this.status!==Qf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Cv(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=NS(e)}addValidators(e){this.setValidators(uE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cE(e,this._rawAsyncValidators))}hasValidator(e){return Wf(this._rawValidators,e)}hasAsyncValidator(e){return Wf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qf,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eh||this.status===mu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qf:eh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mu,this._hasOwnPendingAsyncValidator=!0;const t=iE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof xm?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof bE&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Qf:this.errors?th:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mu)?mu:this._anyControlsHaveStatus(th)?th:eh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class pa extends wE{constructor(e=null,t,r){super(Jf(t),Dm(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Yf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Yf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class xm extends wE{constructor(e,t,r){super(Jf(t),Dm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof pa?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class bE extends wE{constructor(e,t,r){super(Jf(t),Dm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof pa?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const XO={provide:Fi,useExisting:(0,u.Gpc)(()=>Am)},nh=(()=>Promise.resolve(null))();let Am=(()=>{class n extends Fi{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new u.vpe,this.form=new xm({},yv(t),qf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){nh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Jd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){nh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),Yf(this._directives,t)})}addFormGroup(t){nh.then(()=>{const r=this._findContainer(t.path),i=new xm({});FS(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){nh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){nh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,_E(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qr,10),u.Y36(vl,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([XO]),u.qOj]}),n})(),xE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),SE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const xv=new u.OlP("NgModelWithFormControlWarning"),$S={provide:Fi,useExisting:(0,u.Gpc)(()=>tp)};let tp=(()=>{class n extends Fi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Jd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){bm(t.control||null,t,!1),Yf(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,_E(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(bm(r||null,t),i instanceof pa&&(Jd(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);FS(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return Kf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mE(this.form,this),this._oldForm&&Kf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qr,10),u.Y36(vl,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([$S]),u.qOj,u.TTD]}),n})();const iF={provide:xr,useExisting:(0,u.Gpc)(()=>Av)};let Av=(()=>{class n extends xr{constructor(t,r,i,a,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===um?t=a:function(n){return Object.getPrototypeOf(n.constructor)===Yd}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Fi,13),u.Y36(Qr,10),u.Y36(vl,10),u.Y36(_l,10),u.Y36(xv,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([iF]),u.qOj,u.TTD]}),n})(),Im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[SE]]}),n})(),Iv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Im]}),n})(),Tm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Im]}),n})(),cB=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let p,a=null,d=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(a=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,p=null!=r.updateOn?r.updateOn:void 0):(a=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new xm(i,{asyncValidators:d,updateOn:p,validators:a})}control(t,r,i){return new pa(t,r,i)}array(t,r,i){const a=t.map(d=>this._createControl(d));return new bE(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof pa||t instanceof xm||t instanceof bE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:Tm}),n})();var PE=F(4986),Ni=F(5813);function ZS(){return(0,_r.e)((n,e)=>{let t,r=!1;n.subscribe(new Dn.Q(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var rt,wl=F(2011),dB=(F(9259),F(3942)),np=F(9681),LE=F(4859),rh=F(1877),qt=F(2090),hB="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vc={},KS=KS||{},Rt=hB||self;function VE(){}function YS(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Mv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var QS="closure_uid_"+(1e9*Math.random()>>>0),pB=0;function gB(n,e,t){return n.call.apply(n.bind,arguments)}function mB(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Pi(n,e,t){return(Pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gB:mB).apply(null,arguments)}function BE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Li(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[i].apply(r,d)}}function ih(){this.s=this.s,this.o=this.o}var _B={};ih.prototype.s=!1,ih.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,QS)&&n[QS]||(n[QS]=++pB)}(this);delete _B[n]}},ih.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},lF=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function uF(n){return Array.prototype.concat.apply([],arguments)}function JS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function UE(n){return/^[\s\xa0]*$/.test(n)}var Ss,cF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function As(n,e){return-1!=n.indexOf(e)}function XS(n,e){return n<e?-1:n>e?1:0}e:{var dF=Rt.navigator;if(dF){var hF=dF.userAgent;if(hF){Ss=hF;break e}}Ss=""}function eI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function fF(n){const e={};for(const t in n)e[t]=n[t];return e}var pF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<pF.length;a++)t=pF[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function tI(n){return tI[" "](n),n}tI[" "]=VE;var jE,n,bB=As(Ss,"Opera"),Mm=As(Ss,"Trident")||As(Ss,"MSIE"),mF=As(Ss,"Edge"),nI=mF||Mm,yF=As(Ss,"Gecko")&&!(As(Ss.toLowerCase(),"webkit")&&!As(Ss,"Edge"))&&!(As(Ss,"Trident")||As(Ss,"MSIE"))&&!As(Ss,"Edge"),EB=As(Ss.toLowerCase(),"webkit")&&!As(Ss,"Edge");function _F(){var n=Rt.document;return n?n.documentMode:void 0}e:{var rI="",iI=(n=Ss,yF?/rv:([^\);]+)(\)|;)/.exec(n):mF?/Edge\/([\d\.]+)/.exec(n):Mm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):EB?/WebKit\/(\S+)/.exec(n):bB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(iI&&(rI=iI?iI[1]:""),Mm){var sI=_F();if(null!=sI&&sI>parseFloat(rI)){jE=String(sI);break e}}jE=rI}var CB={};function DB(){return e=CB,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=cF(String(jE)).split("."),t=cF("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=XS(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||XS(0==i[2].length,0==a[2].length)||XS(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n}();var e}var xB=Rt.document&&Mm&&(_F()||parseInt(jE,10))||void 0,AB=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",VE,e),Rt.removeEventListener("test",VE,e)}catch(t){}return n}();function rs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Rv(n,e){if(rs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yF){e:{try{tI(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:SB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Rv.Z.h.call(this)}}rs.prototype.h=function(){this.defaultPrevented=!0},Li(Rv,rs);var SB={2:"touch",3:"pen",4:"mouse"};Rv.prototype.h=function(){Rv.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kv="closure_listenable_"+(1e6*Math.random()|0),IB=0;function TB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++IB,this.ca=this.fa=!1}function GE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function HE(n){this.src=n,this.g={},this.h=0}function aI(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=aF(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(GE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function lI(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}HE.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=lI(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new TB(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var uI="closure_lm_"+(1e6*Math.random()|0),cI={};function wF(n,e,t,r,i){if(r&&r.once)return EF(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)wF(n,e[a],t,r,i);return null}return t=pI(t),n&&n[kv]?n.N(e,t,Mv(r)?!!r.capture:!!r,i):bF(n,e,t,!1,r,i)}function bF(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var d=Mv(i)?!!i.capture:!!i,p=hI(n);if(p||(n[uI]=p=new HE(n)),(t=p.add(e,t,r,d,a)).proxy)return t;if(r=function(){var e=RB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)AB||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(DF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function EF(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)EF(n,e[a],t,r,i);return null}return t=pI(t),n&&n[kv]?n.O(e,t,Mv(r)?!!r.capture:!!r,i):bF(n,e,t,!0,r,i)}function CF(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)CF(n,e[a],t,r,i);else r=Mv(r)?!!r.capture:!!r,t=pI(t),n&&n[kv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=lI(a=n.g[e],t,r,i))&&(GE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=hI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=lI(e,t,r,i)),(t=-1<n?e[n]:null)&&dI(t))}function dI(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[kv])aI(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(DF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=hI(e))?(aI(t,n),0==t.h&&(t.src=null,e[uI]=null)):GE(n)}}}function DF(n){return n in cI?cI[n]:cI[n]="on"+n}function RB(n,e){if(n.ca)n=!0;else{e=new Rv(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&dI(n),n=t.call(r,e)}return n}function hI(n){return(n=n[uI])instanceof HE?n:null}var fI="__closure_events_fn_"+(1e9*Math.random()>>>0);function pI(n){return"function"==typeof n?n:(n[fI]||(n[fI]=function(e){return n.handleEvent(e)}),n[fI])}function oi(){ih.call(this),this.i=new HE(this),this.P=this,this.I=null}function Vi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new rs(e,n);else if(e instanceof rs)e.target=e.target||n;else{var i=e;gF(e=new rs(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];i=$E(d,r,!0,e)&&i}if(i=$E(d=e.g=n,r,!0,e)&&i,i=$E(d,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=$E(d=e.g=t[a],r,!1,e)&&i}function $E(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ca&&d.capture==t){var p=d.listener,_=d.ia||d.src;d.fa&&aI(n.i,d),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}Li(oi,ih),oi.prototype[kv]=!0,oi.prototype.removeEventListener=function(n,e,t,r){CF(this,n,e,t,r)},oi.prototype.M=function(){if(oi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)GE(t[r]);delete n.g[e],n.h--}}this.I=null},oi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},oi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var gI=Rt.JSON.stringify;function kB(){var n=AF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var yI,xF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new FB,n=>n.reset());class FB{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function NB(n){Rt.setTimeout(()=>{throw n},0)}function mI(n,e){yI||function(){var n=Rt.Promise.resolve(void 0);yI=function(){n.then(LB)}}(),_I||(yI(),_I=!0),AF.add(n,e)}var _I=!1,AF=new class{constructor(){this.h=this.g=null}add(e,t){const r=xF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function LB(){for(var n;n=kB();){try{n.h.call(n.g)}catch(t){NB(t)}var e=xF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}_I=!1}function zE(n,e){oi.call(this),this.h=n||1,this.g=e||Rt,this.j=Pi(this.kb,this),this.l=Date.now()}function vI(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function wI(n,e,t){if("function"==typeof n)t&&(n=Pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function SF(n){n.g=wI(()=>{n.g=null,n.i&&(n.i=!1,SF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Li(zE,oi),(rt=zE.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vi(this,"tick"),this.da&&(vI(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){zE.Z.M.call(this),vI(this),delete this.g};class VB extends ih{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SF(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ov(n){ih.call(this),this.h=n,this.g={}}Li(Ov,ih);var IF=[];function TF(n,e,t,r){Array.isArray(t)||(t&&(IF[0]=t.toString()),t=IF);for(var i=0;i<t.length;i++){var a=wF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function MF(n){eI(n.g,function(e,t){this.g.hasOwnProperty(t)&&dI(e)},n),n.g={}}function qE(){this.g=!0}function Rm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return gI(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}Ov.prototype.M=function(){Ov.Z.M.call(this),MF(this)},Ov.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qE.prototype.Aa=function(){this.g=!1},qE.prototype.info=function(){};var rp={},RF=null;function WE(){return RF=RF||new oi}function kF(n){rs.call(this,rp.Ma,n)}function Fv(n){const e=WE();Vi(e,new kF(e,n))}function OF(n,e){rs.call(this,rp.STAT_EVENT,n),this.stat=e}function Is(n){const e=WE();Vi(e,new OF(e,n))}function FF(n,e){rs.call(this,rp.Na,n),this.size=e}function Nv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}rp.Ma="serverreachability",Li(kF,rs),rp.STAT_EVENT="statevent",Li(OF,rs),rp.Na="timingevent",Li(FF,rs);var ZE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},NF={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bI(){}function LF(){}bI.prototype.h=null;var DI,Pv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function EI(){rs.call(this,"d")}function CI(){rs.call(this,"c")}function KE(){}function Lv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Ov(this),this.P=HB,this.W=new zE(n=nI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new VF}function VF(){this.i=null,this.g="",this.h=!1}Li(EI,rs),Li(CI,rs),Li(KE,bI),KE.prototype.g=function(){return new XMLHttpRequest},KE.prototype.i=function(){return{}},DI=new KE;var HB=45e3,xI={},YE={};function AI(n,e,t){n.K=1,n.v=tC(wc(e)),n.s=t,n.U=!0,BF(n,null)}function BF(n,e){n.F=Date.now(),Vv(n),n.A=wc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ZF(t.h,"t",r),n.C=0,t=n.l.H,n.h=new VF,n.g=yN(n.l,t?e:null,!n.s),0<n.O&&(n.L=new VB(Pi(n.Ia,n,n.g),n.O)),TF(n.V,n.g,"readystatechange",n.gb),e=n.H?fF(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Fv(1),function(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",p=a.split("&"),_=0;_<p.length;_++){var E=p[_].split("=");if(1<E.length){var I=E[0];E=E[1];var M=I.split("_");d=2<=M.length&&"type"==M[1]?d+(I+"=")+E+"&":d+(I+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function UF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function jF(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=$B(n,t),i==YE){4==e&&(n.o=4,Is(14),r=!1),Rm(n.j,n.m,null,"[Incomplete Response]");break}if(i==xI){n.o=4,Is(15),Rm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Rm(n.j,n.m,i,null),SI(n,i)}UF(n)&&i!=YE&&i!=xI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Is(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),VI(e),e.L=!0,Is(11))):(Rm(n.j,n.m,t,"[Invalid Chunked Response]"),ip(n),Bv(n))}function $B(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?YE:(t=Number(e.substring(t,r)),isNaN(t)?xI:(r+=1)+t>e.length?YE:(e=e.substr(r,t),n.C=r+t,e))}function Vv(n){n.Y=Date.now()+n.P,GF(n,n.P)}function GF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Nv(Pi(n.eb,n),e)}function QE(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function Bv(n){0==n.l.G||n.I||fN(n.l,n)}function ip(n){QE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,vI(n.W),MF(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function SI(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||MI(t.i,n)))if(t.I=n.N,!n.J&&MI(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(E){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Nv(Pi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;aC(t),sC(t)}LI(t),Is(18)}if(1>=QF(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else ap(t,11)}else if((n.J||t.g==n)&&aC(t),!UE(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const I=E[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const M=E[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const L=E[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const W=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var a=r.i;!a.g&&(As(W,"spdy")||As(W,"quic")||As(W,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(RI(a,a.h),a.h=null))}if(r.D){const oe=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;oe&&(r.sa=oe,Kn(r.F,r.D,oe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=mN(r,r.H?r.la:null,r.W),d.J){JF(r.i,d);var p=d,_=r.K;_&&p.setTimeout(_),p.B&&(QE(p),Vv(p)),r.g=d}else dN(r);0<t.l.length&&oC(t)}else"stop"!=E[0]&&"close"!=E[0]||ap(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?ap(t,7):NI(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}Fv(4)}catch(E){}}function II(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(YS(n)||"string"==typeof n)lF(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(YS(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(YS(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function km(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof km)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function TI(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];sp(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)sp(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function sp(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=Lv.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==bc(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const I=bc(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>I)&&(3!=I||nI||this.g&&(this.h.h||this.g.ga()||oN(this.g)))){this.I||4!=I||7==e||Fv(8==e||0>=M?3:2),QE(this);var t=this.g.ba();this.N=t;t:if(UF(this)){var r=oN(this.g);n="";var i=r.length,a=4==bc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ip(this),Bv(this);var d="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!UE(p)){var E=p;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Is(12),ip(this),Bv(this);break e}Rm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,SI(this,t)}this.U?(jF(this,I,d),nI&&this.i&&3==I&&(TF(this.V,this.W,"tick",this.fb),this.W.start())):(Rm(this.j,this.m,d,null),SI(this,d)),4==I&&ip(this),this.i&&!this.I&&(4==I?fN(this.l,this):(this.i=!1,Vv(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Is(12)):(this.o=0,Is(13)),ip(this),Bv(this)}}}catch(I){}},rt.fb=function(){if(this.g){var n=bc(this.g),e=this.g.ga();this.C<e.length&&(QE(this),jF(this,n,e),this.i&&4!=n&&Vv(this))}},rt.cancel=function(){this.I=!0,ip(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fv(3),Is(17)),ip(this),this.o=2,Bv(this)):GF(this,this.Y-n)},(rt=km.prototype).R=function(){TI(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return TI(this),this.g.concat()},rt.get=function(n,e){return sp(this.h,n)?this.h[n]:e},rt.set=function(n,e){sp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var HF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function op(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof op){this.g=void 0!==e?e:n.g,JE(this,n.j),this.s=n.s,XE(this,n.i),eC(this,n.m),this.l=n.l,e=n.h;var t=new Gv;t.i=e.i,e.g&&(t.g=new km(e.g),t.h=e.h),$F(this,t),this.o=n.o}else n&&(t=String(n).match(HF))?(this.g=!!e,JE(this,t[1]||"",!0),this.s=Uv(t[2]||""),XE(this,t[3]||"",!0),eC(this,t[4]),this.l=Uv(t[5]||"",!0),$F(this,t[6]||"",!0),this.o=Uv(t[7]||"")):(this.g=!!e,this.h=new Gv(null,this.g))}function wc(n){return new op(n)}function JE(n,e,t){n.j=t?Uv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function XE(n,e,t){n.i=t?Uv(e,!0):e}function eC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $F(n,e,t){e instanceof Gv?(n.h=e,function(n,e){e&&!n.j&&(sh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(qF(this,r),ZF(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=jv(e,JB)),n.h=new Gv(e,n.g))}function Kn(n,e,t){n.h.set(e,t)}function tC(n){return Kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Uv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function jv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,KB),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function KB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}op.prototype.toString=function(){var n=[],e=this.j;e&&n.push(jv(e,zF,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(jv(e,zF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(jv(t,"/"==t.charAt(0)?QB:YB,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",jv(t,XB)),n.join("")};var zF=/[#\/\?@]/g,YB=/[#\?:]/g,QB=/[#\?]/g,JB=/[#\?@]/g,XB=/#/g;function Gv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function sh(n){n.g||(n.g=new km,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qF(n,e){sh(n),e=Om(n,e),sp(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,sp((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&TI(n)))}function WF(n,e){return sh(n),e=Om(n,e),sp(n.g.h,e)}function ZF(n,e,t){qF(n,e),0<t.length&&(n.i=null,n.g.set(Om(n,e),JS(t)),n.h+=t.length)}function Om(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function KF(n){this.l=n||n2,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Gv.prototype).add=function(n,e){sh(this),this.i=null,n=Om(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){sh(this),this.g.forEach(function(t,r){lF(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){sh(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},rt.R=function(n){sh(this);var e=[];if("string"==typeof n)WF(this,n)&&(e=uF(e,this.g.get(Om(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=uF(e,n[t])}return e},rt.set=function(n,e){return sh(this),this.i=null,WF(this,n=Om(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var d=i;""!==r[a]&&(d+="="+encodeURIComponent(String(r[a]))),n.push(d)}}return this.i=n.join("&")};var n2=10;function YF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function QF(n){return n.h?1:n.g?n.g.size:0}function MI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function RI(n,e){n.g?n.g.add(e):n.h=e}function JF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function XF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return JS(n.i)}function kI(){}function r2(){this.g=new kI}function s2(n,e,t){const r=t||"";try{II(n,function(i,a){let d=i;Mv(i)&&(d=gI(i)),e.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function nC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Hv(n){this.l=n.$b||null,this.j=n.ib||!1}function rC(n,e){oi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=OI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}KF.prototype.cancel=function(){if(this.i=XF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},kI.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},kI.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},Li(Hv,bI),Hv.prototype.g=function(){return new rC(this.l,this.j)},Hv.prototype.i=function(n){return function(){return n}}({}),Li(rC,oi);var OI=0;function eN(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function $v(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zv(n)}function zv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=rC.prototype).open=function(n,e){if(this.readyState!=OI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zv(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$v(this)),this.readyState=OI},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zv(this)),this.g&&(this.readyState=3,zv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Rt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eN(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$v(this):zv(this),3==this.readyState&&eN(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,$v(this))},rt.Ta=function(n){this.g&&(this.response=n,$v(this))},rt.ha=function(){this.g&&$v(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(rC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var a2=Rt.JSON.parse;function Fr(n){oi.call(this),this.headers=new km,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tN,this.K=this.L=!1}Li(Fr,oi);var tN="",l2=/^https?$/i,u2=["POST","PUT"];function d2(n){return"content-type"==n.toLowerCase()}function nN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rN(n),iC(n)}function rN(n){n.D||(n.D=!0,Vi(n,"complete"),Vi(n,"error"))}function iN(n){if(n.h&&void 0!==KS&&(!n.C[1]||4!=bc(n)||2!=n.ba()))if(n.v&&4==bc(n))wI(n.Fa,0,n);else if(Vi(n,"readystatechange"),4==bc(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(HF)[1]||null;if(!i&&Rt.self&&Rt.self.location){var a=Rt.self.location.protocol;i=a.substr(0,a.length-1)}r=!l2.test(i?i.toLowerCase():"")}t=r}if(t)Vi(n,"complete"),Vi(n,"success");else{n.m=6;try{var d=2<bc(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",rN(n)}}finally{iC(n)}}}function iC(n,e){if(n.g){sN(n);const t=n.g,r=n.C[0]?VE:null;n.g=null,n.C=null,e||Vi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function sN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function bc(n){return n.g?n.g.readyState:0}function oN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case tN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function FI(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return eI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Kn(n,e,t))}function qv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function aN(n){this.za=0,this.l=[],this.h=new qE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qv("baseRetryDelayMs",5e3,n),this.$a=qv("retryDelaySeedMs",1e4,n),this.Ya=qv("forwardChannelMaxRetries",2,n),this.ra=qv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new KF(n&&n.concurrentRequestLimit),this.Ca=new r2,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function NI(n){if(lN(n),3==n.G){var e=n.V++,t=wc(n.F);Kn(t,"SID",n.J),Kn(t,"RID",e),Kn(t,"TYPE","terminate"),Wv(n,t),(e=new Lv(n,n.h,e,void 0)).K=2,e.v=tC(wc(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=yN(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Vv(e)}gN(n)}function sC(n){n.g&&(VI(n),n.g.cancel(),n.g=null)}function lN(n){sC(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),aC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function PI(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&oC(n)}function oC(n){YF(n.i)||n.m||(n.m=!0,mI(n.Ha,n),n.C=0)}function uN(n,e){var t;t=e?e.m:n.V++;const r=wc(n.F);Kn(r,"SID",n.J),Kn(r,"RID",t),Kn(r,"AID",n.U),Wv(n,r),n.o&&n.s&&FI(r,n.o,n.s),t=new Lv(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=cN(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),RI(n.i,t),AI(t,r,e)}function Wv(n,e){n.j&&II({},function(t,r){Kn(e,r,t)})}function cN(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Pi(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let p=!0;for(let _=0;_<t;_++){let E=i[_].h;const I=i[_].g;if(E-=a,0>E)a=Math.max(0,i[_].h-100),p=!1;else try{s2(I,d,"req"+E+"_")}catch(M){r&&r(I)}}if(p){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function dN(n){n.g||n.u||(n.Y=1,mI(n.Ga,n),n.A=0)}function LI(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Nv(Pi(n.Ga,n),pN(n,n.A)),n.A++,0))}function VI(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function hN(n){n.g=new Lv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=wc(n.oa);Kn(e,"RID","rpc"),Kn(e,"SID",n.J),Kn(e,"CI",n.N?"0":"1"),Kn(e,"AID",n.U),Wv(n,e),Kn(e,"TYPE","xmlhttp"),n.o&&n.s&&FI(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=tC(wc(e)),t.s=null,t.U=!0,BF(t,n)}function aC(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function fN(n,e){var t=null;if(n.g==e){aC(n),VI(n),n.g=null;var r=2}else{if(!MI(n.i,e))return;t=e.D,JF(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Vi(r=WE(),new FF(r,t,e,i)),oC(n)}else dN(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(QF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Nv(Pi(n.Ha,n,e),pN(n,n.C)),n.C++,0)))}(n,e)||2==r&&LI(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ap(n,5);break;case 4:ap(n,10);break;case 3:ap(n,6);break;default:ap(n,2)}}function pN(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ap(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Pi(n.jb,n);t||(t=new op("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||JE(t,"https"),tC(t)),function(n,e){const t=new qE;if(Rt.Image){const r=new Image;r.onload=BE(nC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=BE(nC,t,r,"TestLoadImage: error",!1,e),r.onabort=BE(nC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=BE(nC,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Is(2);n.G=0,n.j&&n.j.va(e),gN(n),lN(n)}function gN(n){n.G=0,n.I=-1,n.j&&((0!=XF(n.i).length||0!=n.l.length)&&(n.i.i.length=0,JS(n.l),n.l.length=0),n.j.ua())}function mN(n,e,t){let r=function(n){return n instanceof op?wc(n):new op(n,void 0)}(t);if(""!=r.i)e&&XE(r,e+"."+r.i),eC(r,r.m);else{const i=Rt.location;r=function(n,e,t,r){var i=new op(null,void 0);return n&&JE(i,n),e&&XE(i,e),t&&eC(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&eI(n.aa,function(i,a){Kn(r,a,i)}),t=n.sa,(e=n.D)&&t&&Kn(r,e,t),Kn(r,"VER",n.ma),Wv(n,r),r}function yN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t&&n.Ba&&!n.qa?new Hv({ib:!0}):n.qa)).L=n.H,e}function _N(){}function lC(){if(Mm&&!(10<=Number(xB)))throw Error("Environmental error: no available transport.")}function Ro(n,e){oi.call(this),this.g=new aN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!UE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!UE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Fm(this)}function vN(n){EI.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wN(){CI.call(this),this.status=1}function Fm(n){this.g=n}(rt=Fr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():DI.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:DI),this.g.onreadystatechange=Pi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void nN(this,a)}n=t||"";const i=new km(this.headers);r&&II(r,function(a,d){i.set(d,a)}),r=function(n){e:{var e=d2;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Rt.FormData&&n instanceof Rt.FormData,!(0<=aF(u2,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sN(this),0<this.B&&((this.K=function(n){return Mm&&DB()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pi(this.pa,this)):this.A=wI(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){nN(this,a)}},rt.pa=function(){void 0!==KS&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vi(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vi(this,"complete"),Vi(this,"abort"),iC(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),iC(this,!0)),Fr.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?iN(this):this.cb())},rt.cb=function(){iN(this)},rt.ba=function(){try{return 2<bc(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),a2(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=aN.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Lv(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=fF(a),gF(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=cN(this,i,e),Kn(t=wc(this.F),"RID",n),Kn(t,"CVER",22),this.D&&Kn(t,"X-HTTP-Session-Id",this.D),Wv(this,t),this.o&&a&&FI(t,this.o,a),RI(this.i,i),this.Ra&&Kn(t,"TYPE","init"),this.ja?(Kn(t,"$req",e),Kn(t,"SID","null"),i.$=!0,AI(i,t,null)):AI(i,t,e),this.G=2}}else 3==this.G&&(n?uN(this,n):0==this.l.length||YF(this.i)||uN(this))},rt.Ga=function(){if(this.u=null,hN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Nv(Pi(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Is(10),sC(this),hN(this))},rt.ab=function(){null!=this.v&&(this.v=null,sC(this),LI(this),Is(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Is(2)):(this.h.info("Failed to ping google.com"),Is(1))},(rt=_N.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},lC.prototype.g=function(n,e){return new Ro(n,e)},Li(Ro,oi),Ro.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),mI(Pi(n.hb,n,e))),Is(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=mN(n,null,n.W),oC(n)},Ro.prototype.close=function(){NI(this.g)},Ro.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,PI(this.g,e)}else this.v?((e={}).__data__=gI(n),PI(this.g,e)):PI(this.g,n)},Ro.prototype.M=function(){this.g.j=null,delete this.j,NI(this.g),delete this.g,Ro.Z.M.call(this)},Li(vN,EI),Li(wN,CI),Li(Fm,_N),Fm.prototype.xa=function(){Vi(this.g,"a")},Fm.prototype.wa=function(n){Vi(this.g,new vN(n))},Fm.prototype.va=function(n){Vi(this.g,new wN(n))},Fm.prototype.ua=function(){Vi(this.g,"b")},lC.prototype.createWebChannel=lC.prototype.g,Ro.prototype.send=Ro.prototype.u,Ro.prototype.open=Ro.prototype.m,Ro.prototype.close=Ro.prototype.close,ZE.NO_ERROR=0,ZE.TIMEOUT=8,ZE.HTTP_ERROR=6,NF.COMPLETE="complete",LF.EventType=Pv,Pv.OPEN="a",Pv.CLOSE="b",Pv.ERROR="c",Pv.MESSAGE="d",oi.prototype.listen=oi.prototype.N,Fr.prototype.listenOnce=Fr.prototype.O,Fr.prototype.getLastError=Fr.prototype.La,Fr.prototype.getLastErrorCode=Fr.prototype.Da,Fr.prototype.getStatus=Fr.prototype.ba,Fr.prototype.getResponseJson=Fr.prototype.Qa,Fr.prototype.getResponseText=Fr.prototype.ga,Fr.prototype.send=Fr.prototype.ea;var p2=vc.createWebChannelTransport=function(){return new lC},g2=vc.getStatEventTarget=function(){return WE()},BI=vc.ErrorCode=ZE,m2=vc.EventType=NF,y2=vc.Event=rp,bN=vc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_2=vc.FetchXmlHttpFactory=Hv,uC=vc.WebChannel=LF,v2=vc.XhrIo=Fr;const EN="@firebase/firestore";class Bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");let Nm="9.6.1";const oh=new rh.Yd("@firebase/firestore");function UI(){return oh.logLevel}function Ve(n,...e){if(oh.logLevel<=rh.in.DEBUG){const t=e.map(jI);oh.debug(`Firestore (${Nm}): ${n}`,...t)}}function Nr(n,...e){if(oh.logLevel<=rh.in.ERROR){const t=e.map(jI);oh.error(`Firestore (${Nm}): ${n}`,...t)}}function Zv(n,...e){if(oh.logLevel<=rh.in.WARN){const t=e.map(jI);oh.warn(`Firestore (${Nm}): ${n}`,...t)}}function jI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${Nm}) INTERNAL ASSERTION FAILED: `+n;throw Nr(e),new Error(e)}function xt(n,e){n||pt()}function qe(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class CN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bi.UNAUTHENTICATED))}shutdown(){}}class C2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class D2{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let d=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ai,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const E=d;e.enqueueRetryable((0,ge.Z)(function*(){yield E.promise,yield a(r.currentUser)}))},_=E=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(E=>_(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ai)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new CN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Bi(e)}}class x2{constructor(e,t,r){this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class A2{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new x2(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S2{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(a=i).error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`),t(a.token);var a})};const r=i=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),new DN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ko{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function I2(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ko.I=-1;class xN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=I2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function Pm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function AN(n){return n+"\0"}class li{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return li.fromMillis(Date.now())}static fromDate(e){return li.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new li(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new li(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function SN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Kv{constructor(e,t,r){void 0===t?t=0:t>e.length&&pt(),void 0===r?r=e.length-t:r>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Kv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gn extends Kv{construct(e,t,r){return new gn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new gn(t)}static emptyPath(){return new gn([])}}const T2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ui extends Kv{construct(e,t,r){return new Ui(e,t,r)}static isValidIdentifier(e){return T2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ui(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Oe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(d=!d,i++):"."!==p||d?(r+=p,i++):(a(),i++)}if(a(),d)throw new Oe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ui(t)}static emptyPath(){return new Ui([])}}class Lm{constructor(e){this.fields=e,e.sort(Ui.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ui(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new ui(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ui.EMPTY_BYTE_STRING=new ui("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ah(n){if(xt(!!n),"string"==typeof n){let e=0;const t=R2.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pr(n.seconds),nanos:Pr(n.nanos)}}function Pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Vm(n){return"string"==typeof n?ui.fromBase64String(n):ui.fromUint8Array(n)}function GI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function TN(n){const e=n.mapValue.fields.__previous_value__;return GI(e)?TN(e):e}function Yv(n){const e=ah(n.mapValue.fields.__local_write_time__.timestampValue);return new li(e.seconds,e.nanos)}function up(n){return null==n}function cC(n){return 0===n&&1/n==-1/0}function MN(n){return"number"==typeof n&&Number.isInteger(n)&&!cC(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(gn.fromString(e))}static fromName(e){return new lt(gn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new gn(e.slice()))}}function cp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GI(n)?4:10:pt()}function _u(n,e){const t=cp(n);if(t!==cp(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yv(n).isEqual(Yv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ah(r.timestampValue),d=ah(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Vm(n.bytesValue).isEqual(Vm(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Pr(r.geoPointValue.latitude)===Pr(i.geoPointValue.latitude)&&Pr(r.geoPointValue.longitude)===Pr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pr(r.integerValue)===Pr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Pr(r.doubleValue),d=Pr(i.doubleValue);return a===d?cC(a)===cC(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return Pm(n.arrayValue.values||[],e.arrayValue.values||[],_u);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if(SN(a)!==SN(d))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===d[p]||!_u(a[p],d[p])))return!1;return!0}(n,e);default:return pt()}var i}function Qv(n,e){return void 0!==(n.values||[]).find(t=>_u(t,e))}function Bm(n,e){const t=cp(n),r=cp(e);if(t!==r)return Zt(t,r);switch(t){case 0:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const d=Pr(i.integerValue||i.doubleValue),p=Pr(a.integerValue||a.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return RN(n.timestampValue,e.timestampValue);case 4:return RN(Yv(n),Yv(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,a){const d=Vm(i),p=Vm(a);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const d=i.split("/"),p=a.split("/");for(let _=0;_<d.length&&_<p.length;_++){const E=Zt(d[_],p[_]);if(0!==E)return E}return Zt(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const d=Zt(Pr(i.latitude),Pr(a.latitude));return 0!==d?d:Zt(Pr(i.longitude),Pr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const d=i.values||[],p=a.values||[];for(let _=0;_<d.length&&_<p.length;++_){const E=Bm(d[_],p[_]);if(E)return E}return Zt(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const d=i.fields||{},p=Object.keys(d),_=a.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let I=0;I<p.length&&I<E.length;++I){const M=Zt(p[I],E[I]);if(0!==M)return M;const L=Bm(d[p[I]],_[E[I]]);if(0!==L)return L}return Zt(p.length,E.length)}(n.mapValue,e.mapValue);default:throw pt()}}function RN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=ah(n),r=ah(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function HI(n){return $I(n)}function $I(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ah(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Vm(n.bytesValue).toBase64():"referenceValue"in n?lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=$I(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const p of i)d?d=!1:a+=",",a+=`${p}:${$I(r.fields[p])}`;return a+"}"}(n.mapValue):pt();var e}function dC(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zI(n){return!!n&&"integerValue"in n}function qI(n){return!!n&&"arrayValue"in n}function kN(n){return!!n&&"nullValue"in n}function ON(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hC(n){return!!n&&"mapValue"in n}function Jv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return lp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jv(n.arrayValue.values[t]);return e}return Object.assign({},n)}class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jv(t)}setAll(e){let t=Ui.emptyPath(),r={},i=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}d?r[p.lastSegment()]=Jv(d):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());hC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _u(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];hC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){lp(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new is(Jv(this.value))}}function FN(n){const e=[];return lp(n.fields,(t,r)=>{const i=new Ui([t]);if(hC(r)){const a=FN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const d of a)e.push(i.child(d))}else e.push(i)}),new Lm(e)}class Yn{constructor(e,t,r,i,a){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Yn(e,0,Lt.min(),is.empty(),0)}static newFoundDocument(e,t,r){return new Yn(e,1,t,r,0)}static newNoDocument(e,t){return new Yn(e,2,t,is.empty(),0)}static newUnknownDocument(e,t){return new Yn(e,3,t,is.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Yn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class k2{constructor(e,t=null,r=[],i=[],a=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=p,this.R=null}}function NN(n,e=null,t=[],r=[],i=null,a=null,d=null){return new k2(n,e,t,r,i,a,d)}function Xv(n){const e=qe(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+HI(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),up(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=gC(e.startAt)),e.endAt&&(t+="|ub:",t+=gC(e.endAt)),e.R=t}return e.R}function fC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!G2(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!_u(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VN(n.startAt,e.startAt)&&VN(n.endAt,e.endAt)}function pC(n){return lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ts extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new N2(e,t,r):"array-contains"===t?new V2(e,r):"in"===t?new B2(e,r):"not-in"===t?new U2(e,r):"array-contains-any"===t?new j2(e,r):new Ts(e,t,r)}static P(e,t,r){return"in"===t?new P2(e,r):new L2(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Bm(t,this.value)):null!==t&&cp(this.value)===cp(t)&&this.v(Bm(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class N2 extends Ts{constructor(e,t,r){super(e,t,r),this.key=lt.fromName(r.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.v(t)}}class P2 extends Ts{constructor(e,t){super(e,"in",t),this.keys=PN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class L2 extends Ts{constructor(e,t){super(e,"not-in",t),this.keys=PN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function PN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>lt.fromName(r.referenceValue))}class V2 extends Ts{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qI(t)&&Qv(t.arrayValue,this.value)}}class B2 extends Ts{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qv(this.value.arrayValue,t)}}class U2 extends Ts{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qv(this.value.arrayValue,t)}}class j2 extends Ts{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qv(this.value.arrayValue,r))}}class ew{constructor(e,t){this.position=e,this.before=t}}function gC(n){return`${n.before?"b":"a"}:${n.position.map(e=>HI(e)).join(",")}`}class Um{constructor(e,t="asc"){this.field=e,this.dir=t}}function G2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function LN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],d=n.position[i];if(r=a.field.isKeyField()?lt.comparator(lt.fromName(d.referenceValue),t.key):Bm(d,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function VN(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_u(n.position[t],e.position[t]))return!1;return!0}class Ec{constructor(e,t=null,r=[],i=[],a=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=p,this.endAt=_,this.S=null,this.D=null}}function BN(n,e,t,r,i,a,d,p){return new Ec(n,e,t,r,i,a,d,p)}function jm(n){return new Ec(n)}function mC(n){return!up(n.limit)&&"F"===n.limitType}function yC(n){return!up(n.limit)&&"L"===n.limitType}function WI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ZI(n){for(const e of n.filters)if(e.V())return e.field;return null}function KI(n){return null!==n.collectionGroup}function Gm(n){const e=qe(n);if(null===e.S){e.S=[];const t=ZI(e),r=WI(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new Um(t)),e.S.push(new Um(Ui.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.S.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Um(Ui.keyField(),a))}}}return e.S}function ga(n){const e=qe(n);if(!e.D)if("F"===e.limitType)e.D=NN(e.path,e.collectionGroup,Gm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Gm(e))t.push(new Um(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new ew(e.endAt.position,!e.endAt.before):null,i=e.startAt?new ew(e.startAt.position,!e.startAt.before):null;e.D=NN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function UN(n,e,t){return new Ec(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tw(n,e){return fC(ga(n),ga(e))&&n.limitType===e.limitType}function jN(n){return`${Xv(ga(n))}|lt:${n.limitType}`}function YI(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${HI(r.value)}`;var r}).join(", ")}]`),up(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+gC(n.startAt)),n.endAt&&(e+=", endAt: "+gC(n.endAt)),`Target(${e})`}(ga(n))}; limitType=${n.limitType})`}function nw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):lt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!LN(t.startAt,Gm(t),r)||t.endAt&&LN(t.endAt,Gm(t),r)));var t,r}function GN(n){return(e,t)=>{let r=!1;for(const i of Gm(n)){const a=H2(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function H2(n,e,t){const r=n.field.isKeyField()?lt.comparator(e.key,t.key):function(i,a,d){const p=a.data.field(i),_=d.data.field(i);return null!==p&&null!==_?Bm(p,_):pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}function HN(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cC(e)?"-0":e}}function $N(n){return{integerValue:""+n}}function zN(n,e){return MN(e)?$N(e):HN(n,e)}class _C{constructor(){this._=void 0}}function $2(n,e,t){return n instanceof Hm?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof dp?WN(n,e):n instanceof hp?ZN(n,e):function(r,i){const a=qN(r,i),d=KN(a)+KN(r.N);return zI(a)&&zI(r.N)?$N(d):HN(r.k,d)}(n,e)}function z2(n,e,t){return n instanceof dp?WN(n,e):n instanceof hp?ZN(n,e):t}function qN(n,e){return n instanceof $m?zI(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Hm extends _C{}class dp extends _C{constructor(e){super(),this.elements=e}}function WN(n,e){const t=YN(e);for(const r of n.elements)t.some(i=>_u(i,r))||t.push(r);return{arrayValue:{values:t}}}class hp extends _C{constructor(e){super(),this.elements=e}}function ZN(n,e){let t=YN(e);for(const r of n.elements)t=t.filter(i=>!_u(i,r));return{arrayValue:{values:t}}}class $m extends _C{constructor(e,t){super(),this.k=e,this.N=t}}function KN(n){return Pr(n.integerValue||n.doubleValue)}function YN(n){return qI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rw{constructor(e,t){this.field=e,this.transform=t}}class W2{constructor(e,t){this.version=e,this.transformResults=t}}class Lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wC{}function Z2(n,e,t){n instanceof iw?function(r,i,a){const d=r.value.clone(),p=e1(r.fieldTransforms,i,a.transformResults);d.setAll(p),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof lh?function(r,i,a){if(!vC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=e1(r.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(XN(r)),p.setAll(d),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function QI(n,e,t){var i;n instanceof iw?function(r,i,a){if(!vC(r.precondition,i))return;const d=r.value.clone(),p=t1(r.fieldTransforms,a,i);d.setAll(p),i.convertToFoundDocument(JN(i),d).setHasLocalMutations()}(n,e,t):n instanceof lh?function(r,i,a){if(!vC(r.precondition,i))return;const d=t1(r.fieldTransforms,a,i),p=i.data;p.setAll(XN(r)),p.setAll(d),i.convertToFoundDocument(JN(i),p).setHasLocalMutations()}(n,e,t):vC(n.precondition,i=e)&&i.convertToNoDocument(Lt.min())}function K2(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=qN(r.transform,i||null);null!=a&&(null==t&&(t=is.empty()),t.set(r.field,a))}return t||null}function QN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Pm(t,r,(i,a)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof dp&&r instanceof dp||t instanceof hp&&r instanceof hp?Pm(t.elements,r.elements,_u):t instanceof $m&&r instanceof $m?_u(t.N,r.N):t instanceof Hm&&r instanceof Hm);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function JN(n){return n.isFoundDocument()?n.version:Lt.min()}class iw extends wC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class lh extends wC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function XN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function e1(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],d=a.transform,p=e.data.field(a.field);r.set(a.field,z2(d,p,t[i]))}return r}function t1(n,e,t){const r=new Map;for(const i of n){const a=i.transform,d=t.data.field(i.field);r.set(i.field,$2(a,d,e))}return r}class sw extends wC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class JI extends wC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Y2{constructor(e){this.count=e}}var Vr,en;function n1(n){switch(n){default:return pt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function r1(n){if(void 0===n)return Nr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Vr.OK:return pe.OK;case Vr.CANCELLED:return pe.CANCELLED;case Vr.UNKNOWN:return pe.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return pe.INTERNAL;case Vr.UNAVAILABLE:return pe.UNAVAILABLE;case Vr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Vr.NOT_FOUND:return pe.NOT_FOUND;case Vr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Vr.ABORTED:return pe.ABORTED;case Vr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Vr.DATA_LOSS:return pe.DATA_LOSS;default:return pt()}}(en=Vr||(Vr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class Jr{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new Jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new Jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bC(this.root,e,this.comparator,!1)}getReverseIterator(){return new bC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bC(this.root,e,this.comparator,!0)}}class bC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:ji.RED,this.left=null!=i?i:ji.EMPTY,this.right=null!=a?a:ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ji(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ji(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pr{constructor(e){this.comparator=e,this.data=new Jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s1(this.data.getIterator())}getIteratorFrom(e){return new s1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pr(this.comparator);return t.data=e,t}}class s1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Q2=new Jr(lt.comparator);function ma(){return Q2}const J2=new Jr(lt.comparator);function XI(){return J2}const X2=new Jr(lt.comparator);function o1(){return X2}const eU=new pr(lt.comparator);function bn(...n){let e=eU;for(const t of n)e=e.add(t);return e}const tU=new pr(Zt);function EC(){return tU}class ow{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,aw.createSynthesizedTargetChangeForCurrentChange(e,t)),new ow(Lt.min(),r,EC(),ma(),bn())}}class aw{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new aw(ui.EMPTY_BYTE_STRING,t,bn(),bn(),bn())}}class CC{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.F=i}}class a1{constructor(e,t){this.targetId=e,this.O=t}}class l1{constructor(e,t,r=ui.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class u1{constructor(){this.M=0,this.L=d1(),this.B=ui.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=bn(),t=bn(),r=bn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:pt()}}),new aw(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=d1()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class nU{constructor(e){this.et=e,this.nt=new Map,this.st=ma(),this.it=c1(),this.rt=new pr(Zt)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.O.count,i=this.wt(t);if(i){const a=i.target;if(pC(a))if(0===r){const d=new lt(a.path);this.ct(t,d,Yn.newNoDocument(d,Lt.min()))}else xt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((a,d)=>{const p=this.wt(d);if(p){if(a.current&&pC(p.target)){const _=new lt(p.target.path);null!==this.st.get(_)||this.yt(d,_)||this.ct(d,_,Yn.newNoDocument(_,e))}a.j&&(t.set(d,a.G()),a.H())}});let r=bn();this.it.forEach((a,d)=>{let p=!0;d.forEachWhile(_=>{const E=this.wt(_);return!E||2===E.purpose||(p=!1,!1)}),p&&(r=r.add(a))});const i=new ow(e,t,this.rt,this.st,r);return this.st=ma(),this.it=c1(),this.rt=new pr(Zt),i}at(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new u1,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new pr(Zt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new u1),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function c1(){return new Jr(lt.comparator)}function d1(){return new Jr(lt.comparator)}const rU={asc:"ASCENDING",desc:"DESCENDING"},iU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sU{constructor(e,t){this.databaseId=e,this.C=t}}function lw(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h1(n,e){return n.C?e.toBase64():e.toUint8Array()}function oU(n,e){return lw(n,e.toTimestamp())}function ci(n){return xt(!!n),Lt.fromTimestamp(function(e){const t=ah(e);return new li(t.seconds,t.nanos)}(n))}function eT(n,e){return(t=n,new gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function f1(n){const e=gn.fromString(n);return xt(x1(e)),e}function uw(n,e){return eT(n.databaseId,e.path)}function vu(n,e){const t=f1(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(g1(t))}function tT(n,e){return eT(n.databaseId,e)}function p1(n){const e=f1(n);return 4===e.length?gn.emptyPath():g1(e)}function cw(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g1(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function m1(n,e,t){return{name:uw(n,e),fields:t.value.mapValue.fields}}function y1(n,e,t){const r=vu(n,e.name),i=ci(e.updateTime),a=new is({mapValue:{fields:e.fields}}),d=Yn.newFoundDocument(r,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function DC(n,e){let t;if(e instanceof iw)t={update:m1(n,e.key,e.value)};else if(e instanceof sw)t={delete:uw(n,e.key)};else if(e instanceof lh)t={update:m1(n,e.key,e.data),updateMask:gU(e.fieldMask)};else{if(!(e instanceof JI))return pt();t={verify:uw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof Hm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof dp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof hp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $m)return{fieldPath:a.field.canonicalString(),increment:d.N};throw pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:oU(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:pt()),t;var i}function _1(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Lr.updateTime(ci(i.updateTime)):void 0!==i.exists?Lr.exists(i.exists):Lr.none():Lr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,d){let p=null;"setToServerValue"in d?(xt("REQUEST_TIME"===d.setToServerValue),p=new Hm):"appendMissingElements"in d?p=new dp(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new hp(d.removeAllFromArray.values||[]):"increment"in d?p=new $m(a,d.increment):pt();const _=Ui.fromServerFormat(d.fieldPath);return new rw(_,p)}(n,i)):[];var i;if(e.update){const i=vu(n,e.update.name),a=new is({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Lm((e.updateMask.fieldPaths||[]).map(E=>Ui.fromServerFormat(E)));return new lh(i,a,d,t,r)}return new iw(i,a,t,r)}if(e.delete){const i=vu(n,e.delete);return new sw(i,t)}if(e.verify){const i=vu(n,e.verify);return new JI(i,t)}return pt()}function v1(n,e){return{documents:[tT(n,e.path)]}}function w1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=tT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0===p.length)return;const _=p.map(E=>function(I){if("=="===I.op){if(ON(I.value))return{unaryFilter:{field:zm(I.field),op:"IS_NAN"}};if(kN(I.value))return{unaryFilter:{field:zm(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(ON(I.value))return{unaryFilter:{field:zm(I.field),op:"IS_NOT_NAN"}};if(kN(I.value))return{unaryFilter:{field:zm(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zm(I.field),op:hU(I.op),value:I.value}}}(E));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(p){if(0!==p.length)return p.map(_=>{return{field:zm((E=_).field),direction:dU(E.dir)};var E})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(_=e.limit,n.C||up(_)?_:{value:_});var _;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=C1(e.startAt)),e.endAt&&(t.structuredQuery.endAt=C1(e.endAt)),t}function b1(n){let e=p1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=E1(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(I=>{return new Um(qm((M=I).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(I){let M;return M="object"==typeof I?I.value:I,up(M)?null:M}(t.limit));let _=null;t.startAt&&(_=D1(t.startAt));let E=null;return t.endAt&&(E=D1(t.endAt)),BN(e,i,d,a,p,"F",_,E)}function E1(n){return n?void 0!==n.unaryFilter?[pU(n)]:void 0!==n.fieldFilter?[fU(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>E1(e)).reduce((e,t)=>e.concat(t)):pt():[]}function C1(n){return{before:n.before,values:n.position}}function D1(n){return new ew(n.values||[],!!n.before)}function dU(n){return rU[n]}function hU(n){return iU[n]}function zm(n){return{fieldPath:n.canonicalString()}}function qm(n){return Ui.fromServerFormat(n.fieldPath)}function fU(n){return Ts.create(qm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function pU(n){switch(n.unaryFilter.op){case"IS_NAN":const e=qm(n.unaryFilter.field);return Ts.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=qm(n.unaryFilter.field);return Ts.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qm(n.unaryFilter.field);return Ts.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qm(n.unaryFilter.field);return Ts.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function gU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function x1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function bl(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=A1(e)),e=mU(n.get(t),e);return A1(e)}function mU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function A1(n){return n+"\x01\x01"}function Cc(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&pt(),n.charAt(d+1)){case"\x01":const p=n.substring(a,d);let _;0===i.length?_=p:(i+=p,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:pt()}a=d+2}return new gn(r)}class yU{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Oo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Oo.store="owner",Oo.key="owner";class uh{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}uh.store="mutationQueues",uh.keyPath="userId";class Hn{constructor(e,t,r,i,a){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}}Hn.store="mutations",Hn.keyPath="batchId",Hn.userMutationsIndex="userMutationsIndex",Hn.userMutationsKeyPath=["userId","batchId"];class ss{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,bl(t)]}static key(e,t,r){return[e,bl(t),r]}}ss.store="documentMutations",ss.PLACEHOLDER=new ss;class _U{constructor(e,t){this.path=e,this.readTime=t}}class vU{constructor(e,t){this.path=e,this.version=t}}class gr{constructor(e,t,r,i,a,d){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=d}}gr.store="remoteDocuments",gr.readTimeIndex="readTimeIndex",gr.readTimeIndexPath="readTime",gr.collectionReadTimeIndex="collectionReadTimeIndex",gr.collectionReadTimeIndexPath=["parentPath","readTime"];class wu{constructor(e){this.byteSize=e}}wu.store="remoteDocumentGlobal",wu.key="remoteDocumentGlobalKey";class so{constructor(e,t,r,i,a,d,p){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=d,this.query=p}}so.store="targets",so.keyPath="targetId",so.queryTargetsIndexName="queryTargetsIndex",so.queryTargetsKeyPath=["canonicalId","targetId"];class Gi{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Gi.store="targetDocuments",Gi.keyPath=["targetId","path"],Gi.documentTargetsIndex="documentTargetsIndex",Gi.documentTargetsKeyPath=["path","targetId"];class Fo{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Fo.key="targetGlobalKey",Fo.store="targetGlobal";class fp{constructor(e,t){this.collectionId=e,this.parent=t}}fp.store="collectionParents",fp.keyPath=["collectionId","parent"];class Dc{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}Dc.store="clientMetadata",Dc.keyPath="clientId";class Wm{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Wm.store="bundles",Wm.keyPath="bundleId";class Zm{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Zm.store="namedQueries",Zm.keyPath="name";const wU=[uh.store,Hn.store,ss.store,gr.store,so.store,Oo.store,Fo.store,Gi.store,Dc.store,wu.store,fp.store,Wm.store,Zm.store],S1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Re((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Re?t:Re.resolve(t)}catch(t){return Re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.reject(t)}static resolve(e){return new Re((t,r)=>{t(e)})}static reject(e){return new Re((t,r)=>{r(e)})}static waitFor(e){return new Re((t,r)=>{let i=0,a=0,d=!1;e.forEach(p=>{++i,p.next(()=>{++a,d&&a===i&&t()},_=>r(_))}),d=!0,a===i&&t()})}static or(e){let t=Re.resolve(!1);for(const r of e)t=t.next(i=>i?Re.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class xC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new ai,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new dw(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const i=nT(r.target.error);this.It.reject(new dw(e,i))}}static open(e,t,r,i){try{return new xC(t,e.transaction(i,r))}catch(a){throw new dw(t,a)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new EU(t)}}class El{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===El.Pt((0,qt.z$)())&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),gp(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,qt.hl)())return!1;if(El.vt())return!0;const e=(0,qt.z$)(),t=El.Pt(e),r=0<t&&t<10,i=El.Vt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,ge.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new dw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const p=d.target.error;i("VersionError"===p.name?new Oe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Oe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new dw(e,p))},a.onupgradeneeded=d=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Rt.Nt(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,ge.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.Ct(e);const _=xC.open(a.db,e,d?"readonly":"readwrite",r),E=i(_).catch(I=>(_.abort(I),Re.reject(I))).toPromise();return E.catch(()=>{}),yield _.At,E}catch(_){const E="FirebaseError"!==_.name&&p<3;if(Ve("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),a.close(),!E)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bU{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return gp(this.$t.delete())}}class dw extends Oe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pp(n){return"IndexedDbTransactionError"===n.name}class EU{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),gp(r)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),gp(this.store.add(e))}get(e){return gp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),gp(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),gp(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),i=[];return this.Ut(r,(a,d)=>{i.push(d)}).next(()=>i)}qt(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const i=this.cursor(r);return this.Ut(i,(a,d,p)=>p.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Ut(i,t)}Qt(e){const t=this.cursor({});return new Re((r,i)=>{t.onerror=a=>{const d=nT(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(p=>{p?d.continue():r()}):r()}})}Ut(e,t){const r=[];return new Re((i,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const p=d.target.result;if(!p)return void i();const _=new bU(p),E=t(p.primaryKey,p.value,_);if(E instanceof Re){const I=E.catch(M=>(_.done(),Re.reject(M)));r.push(I)}_.isDone?i():null===_.Mt?p.continue():p.continue(_.Mt)}}).next(()=>Re.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function gp(n){return new Re((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=nT(r.target.error);t(i)}})}let T1=!1;function nT(n){const e=El.Pt((0,qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return T1||(T1=!0,setTimeout(()=>{throw r},0)),r}}return n}class M1 extends I1{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function oo(n,e){const t=qe(n);return El.Dt(t.Wt,e)}class rT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Z2(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&QI(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&QI(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Lt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&Pm(this.mutations,e.mutations,(t,r)=>QN(t,r))&&Pm(this.baseMutations,e.baseMutations,(t,r)=>QN(t,r))}}class iT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=o1();const a=e.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new iT(e,t,r,i)}}class ch{constructor(e,t,r,i,a=Lt.min(),d=Lt.min(),p=ui.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(e){return new ch(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ch(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class R1{constructor(e){this.Gt=e}}function sT(n,e){if(e.document)return y1(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=lt.fromSegments(e.noDocument.path),r=Ym(e.noDocument.readTime),i=Yn.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){const t=lt.fromSegments(e.unknownDocument.path),r=Ym(e.unknownDocument.version);return Yn.newUnknownDocument(t,r)}return pt()}function k1(n,e,t){const r=oT(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const a={name:uw(p=n.Gt,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:lw(p,_.version.toTimestamp())};return new gr(null,null,a,e.hasCommittedMutations,r,i)}var p,_;if(e.isNoDocument()){const a=e.key.path.toArray(),d=Km(e.version),p=e.hasCommittedMutations;return new gr(null,new _U(a,d),null,p,r,i)}if(e.isUnknownDocument()){const a=e.key.path.toArray(),d=Km(e.version);return new gr(new vU(a,d),null,null,!0,r,i)}return pt()}function oT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function O1(n){const e=new li(n[0],n[1]);return Lt.fromTimestamp(e)}function Km(n){const e=n.toTimestamp();return new yU(e.seconds,e.nanoseconds)}function Ym(n){const e=new li(n.seconds,n.nanoseconds);return Lt.fromTimestamp(e)}function Qm(n,e){const t=(e.baseMutations||[]).map(a=>_1(n.Gt,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>_1(n.Gt,a)),i=li.fromMillis(e.localWriteTimeMs);return new rT(e.batchId,i,t,r)}function hw(n){const e=Ym(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ym(n.lastLimboFreeSnapshotVersion):Lt.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=ga(jm(p1(i.documents[0])))):r=ga(b1(n.query)),new ch(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ui.fromBase64String(n.resumeToken))}function F1(n,e){const t=Km(e.snapshotVersion),r=Km(e.lastLimboFreeSnapshotVersion);let i;i=pC(e.target)?v1(n.Gt,e.target):w1(n.Gt,e.target);const a=e.resumeToken.toBase64();return new so(e.targetId,Xv(e.target),t,a,e.sequenceNumber,r,i)}function aT(n){const e=b1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?UN(e,e.limit,"L"):e}class CU{getBundleMetadata(e,t){return N1(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ym(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return N1(e).put({bundleId:(r=t).id,createTime:Km(ci(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return P1(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:aT(i.bundledQuery),readTime:Ym(i.readTime)};var i})}saveNamedQuery(e,t){return P1(e).put({name:(r=t).name,readTime:Km(ci(r.readTime)),bundledQuery:r.bundledQuery});var r}}function N1(n){return oo(n,Wm.store)}function P1(n){return oo(n,Zm.store)}class DU{constructor(){this.zt=new lT}addToCollectionParentIndex(e,t){return this.zt.add(t),Re.resolve()}getCollectionParents(e,t){return Re.resolve(this.zt.getEntries(t))}}class lT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new pr(gn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pr(gn.comparator)).toArray()}}class xU{constructor(){this.Ht=new lT}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const a={collectionId:r,parent:bl(i)};return L1(e).put(a)}return Re.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[AN(t),""],!1,!0);return L1(e).Bt(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;r.push(Cc(d.parent))}return r})}}function L1(n){return oo(n,fp.store)}const V1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ao{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ao(e,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function B1(n,e,t){const r=n.store(Hn.store),i=n.store(ss.store),a=[],d=IDBKeyRange.only(t.batchId);let p=0;const _=r.jt({range:d},(I,M,L)=>(p++,L.delete()));a.push(_.next(()=>{xt(1===p)}));const E=[];for(const I of t.mutations){const M=ss.key(e,I.key.path,t.batchId);a.push(i.delete(M)),E.push(I.key)}return Re.waitFor(a).next(()=>E)}function AC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(41943040,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class uT{constructor(e,t,r,i){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=i,this.Yt={}}static Xt(e,t,r,i){xt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new uT(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dh(e).jt({index:Hn.userMutationsIndex,range:r},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Jm(e),d=dh(e);return d.add({}).next(p=>{xt("number"==typeof p);const _=new rT(p,t,r,i),E=function(L,B,W){const oe=W.baseMutations.map(Fe=>DC(L.Gt,Fe)),we=W.mutations.map(Fe=>DC(L.Gt,Fe));return new Hn(B,W.batchId,W.localWriteTime.toMillis(),oe,we)}(this.k,this.userId,_),I=[];let M=new pr((L,B)=>Zt(L.canonicalString(),B.canonicalString()));for(const L of i){const B=ss.key(this.userId,L.key.path,p);M=M.add(L.key.path.popLast()),I.push(d.put(E)),I.push(a.put(B,ss.PLACEHOLDER))}return M.forEach(L=>{I.push(this.Jt.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Yt[p]=_.keys()}),Re.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return dh(e).get(t).next(r=>r?(xt(r.userId===this.userId),Qm(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Re.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Yt[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return dh(e).jt({index:Hn.userMutationsIndex,range:i},(d,p,_)=>{p.userId===this.userId&&(xt(p.batchId>=r),a=Qm(this.k,p)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return dh(e).jt({index:Hn.userMutationsIndex,range:t,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dh(e).Bt(Hn.userMutationsIndex,t).next(r=>r.map(i=>Qm(this.k,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ss.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Jm(e).jt({range:i},(d,p,_)=>{const[E,I,M]=d,L=Cc(I);if(E===this.userId&&t.path.isEqual(L))return dh(e).get(M).next(B=>{if(!B)throw pt();xt(B.userId===this.userId),a.push(Qm(this.k,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pr(Zt);const i=[];return t.forEach(a=>{const d=ss.prefixForPath(this.userId,a.path),p=IDBKeyRange.lowerBound(d),_=Jm(e).jt({range:p},(E,I,M)=>{const[L,B,W]=E,oe=Cc(B);L===this.userId&&a.path.isEqual(oe)?r=r.add(W):M.done()});i.push(_)}),Re.waitFor(i).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=ss.prefixForPath(this.userId,r),d=IDBKeyRange.lowerBound(a);let p=new pr(Zt);return Jm(e).jt({range:d},(_,E,I)=>{const[M,L,B]=_,W=Cc(L);M===this.userId&&r.isPrefixOf(W)?W.length===i&&(p=p.add(B)):I.done()}).next(()=>this.te(e,p))}te(e,t){const r=[],i=[];return t.forEach(a=>{i.push(dh(e).get(a).next(d=>{if(null===d)throw pt();xt(d.userId===this.userId),r.push(Qm(this.k,d))}))}),Re.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return B1(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Re.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Re.resolve();const r=IDBKeyRange.lowerBound(ss.prefixForUser(this.userId)),i=[];return Jm(e).jt({range:r},(a,d,p)=>{if(a[0]===this.userId){const _=Cc(a[1]);i.push(_)}else p.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return U1(e,this.userId,t)}ne(e){return j1(e).get(this.userId).next(t=>t||new uh(this.userId,-1,""))}}function U1(n,e,t){const r=ss.prefixForPath(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return Jm(n).jt({range:a,Kt:!0},(p,_,E)=>{const[I,M,L]=p;I===e&&M===i&&(d=!0),E.done()}).next(()=>d)}function dh(n){return oo(n,Hn.store)}function Jm(n){return oo(n,ss.store)}function j1(n){return oo(n,uh.store)}class mp{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new mp(0)}static re(){return new mp(-1)}}class AU{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new mp(t.highestTargetId);return t.highestTargetId=r.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Lt.fromTimestamp(new li(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.ae(e,i)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ae(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Xm(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.ae(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Xm(e).jt((d,p)=>{const _=hw(p);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>Re.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Xm(e).jt((r,i)=>{const a=hw(i);t(a)})}oe(e){return G1(e).get(Fo.key).next(t=>(xt(null!==t),t))}ae(e,t){return G1(e).put(Fo.key,t)}ce(e,t){return Xm(e).put(F1(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Xv(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Xm(e).jt({range:i,index:so.queryTargetsIndexName},(d,p,_)=>{const E=hw(p);fC(t,E.target)&&(a=E,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=hh(e);return t.forEach(d=>{const p=bl(d.path);i.push(a.put(new Gi(r,p))),i.push(this.referenceDelegate.addReference(e,r,d))}),Re.waitFor(i)}removeMatchingKeys(e,t,r){const i=hh(e);return Re.forEach(t,a=>{const d=bl(a.path);return Re.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=hh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=hh(e);let a=bn();return i.jt({range:r,Kt:!0},(d,p,_)=>{const E=Cc(d[1]),I=new lt(E);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=bl(t.path),i=IDBKeyRange.bound([r],[AN(r)],!1,!0);let a=0;return hh(e).jt({index:Gi.documentTargetsIndex,Kt:!0,range:i},([d,p],_,E)=>{0!==d&&(a++,E.done())}).next(()=>a>0)}Et(e,t){return Xm(e).get(t).next(r=>r?hw(r):null)}}function Xm(n){return oo(n,so.store)}function G1(n){return oo(n,Fo.store)}function hh(n){return oo(n,Gi.store)}function yp(n){return cT.apply(this,arguments)}function cT(){return cT=(0,ge.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==S1)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),cT.apply(this,arguments)}function H1([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class SU{constructor(e){this.he=e,this.buffer=new pr(H1),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();H1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IU{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ge.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){pp(i)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield yp(i)}yield t.me(e)}))}}class TU{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Re.resolve(ko.I);const r=new SU(t);return this.ge.forEachTarget(e,i=>r.de(i.sequenceNumber)).next(()=>this.ge.pe(e,i=>r.de(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(V1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V1):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,i,a,d,p,_,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,d=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(E=Date.now(),UI()<=rh.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-I}ms\n\tDetermined least recently used ${i} in `+(p-d)+`ms\n\tRemoved ${a} targets in `+(_-p)+`ms\n\tRemoved ${M} documents in `+(E-_)+`ms\nTotal Duration: ${E-I}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class MU{constructor(e,t){this.db=e,this.garbageCollector=new TU(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,i)=>t(i))}addReference(e,t,r){return SC(e,r)}removeReference(e,t,r){return SC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return SC(e,t)}Ae(e,t){return function(r,i){let a=!1;return j1(r).Qt(d=>U1(r,d,i).next(p=>(p&&(a=!0),Re.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Ie(e,(d,p)=>{if(p<=t){const _=this.Ae(e,d).next(E=>{if(!E)return a++,r.getEntry(e,d).next(()=>(r.removeEntry(d),hh(e).delete([0,bl(d.path)])))});i.push(_)}}).next(()=>Re.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return SC(e,t)}Ie(e,t){const r=hh(e);let i,a=ko.I;return r.jt({index:Gi.documentTargetsIndex},([d,p],{path:_,sequenceNumber:E})=>{0===d?(a!==ko.I&&t(new lt(Cc(i)),a),a=E,i=_):a=ko.I}).next(()=>{a!==ko.I&&t(new lt(Cc(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function SC(n,e){return hh(n).put((r=n.currentSequenceNumber,new Gi(0,bl(e.path),r)));var r}class ey{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){lp(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return IN(this.inner)}}class $1{constructor(){this.changes=new ey(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Lt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Yn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Re.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RU{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return fh(e).put(IC(t),r)}removeEntry(e,t){const r=fh(e),i=IC(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return fh(e).get(IC(t)).next(r=>this.Pe(t,r))}be(e,t){return fh(e).get(IC(t)).next(r=>({document:this.Pe(t,r),size:AC(r)}))}getEntries(e,t){let r=ma();return this.ve(e,t,(i,a)=>{const d=this.Pe(i,a);r=r.insert(i,d)}).next(()=>r)}Ve(e,t){let r=ma(),i=new Jr(lt.comparator);return this.ve(e,t,(a,d)=>{const p=this.Pe(a,d);r=r.insert(a,p),i=i.insert(a,AC(d))}).next(()=>({documents:r,Se:i}))}ve(e,t,r){if(t.isEmpty())return Re.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),a=t.getIterator();let d=a.getNext();return fh(e).jt({range:i},(p,_,E)=>{const I=lt.fromSegments(p);for(;d&&lt.comparator(d,I)<0;)r(d,null),d=a.getNext();d&&d.isEqual(I)&&(r(d,_),d=a.hasNext()?a.getNext():null),d?E.Lt(d.path.toArray()):E.done()}).next(()=>{for(;d;)r(d,null),d=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,r){let i=ma();const a=t.path.length+1,d={};if(r.isEqual(Lt.min())){const p=t.path.toArray();d.range=IDBKeyRange.lowerBound(p)}else{const p=t.path.toArray(),_=oT(r);d.range=IDBKeyRange.lowerBound([p,_],!0),d.index=gr.collectionReadTimeIndex}return fh(e).jt(d,(p,_,E)=>{if(p.length!==a)return;const I=sT(this.k,_);t.path.isPrefixOf(I.key.path)?nw(t,I)&&(i=i.insert(I.key,I)):E.done()}).next(()=>i)}newChangeBuffer(e){return new kU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return z1(e).get(wu.key).next(t=>(xt(!!t),t))}Re(e,t){return z1(e).put(wu.key,t)}Pe(e,t){if(t){const r=sT(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Lt.min()))return r}return Yn.newInvalidDocument(e)}}class kU extends $1{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new ey(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new pr((a,d)=>Zt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const p=this.Ce.get(a);if(d.document.isValidDocument()){const _=k1(this.De.k,d.document,this.getReadTime(a));i=i.add(a.path.popLast()),r+=AC(_)-p,t.push(this.De.addEntry(e,a,_))}else if(r-=p,this.trackRemovals){const _=k1(this.De.k,Yn.newNoDocument(a,Lt.min()),this.getReadTime(a));t.push(this.De.addEntry(e,a,_))}else t.push(this.De.removeEntry(e,a))}),i.forEach(a=>{t.push(this.De.Jt.addToCollectionParentIndex(e,a))}),t.push(this.De.updateMetadata(e,r)),Re.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:i})=>(i.forEach((a,d)=>{this.Ce.set(a,d)}),r))}}function z1(n){return oo(n,wu.store)}function fh(n){return oo(n,gr.store)}function IC(n){return n.path.toArray()}class OU{constructor(e){this.k=e}Nt(e,t,r,i){xt(r<i&&r>=0&&i<=11);const a=new xC("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore(Oo.store),(p=e).createObjectStore(uh.store,{keyPath:uh.keyPath}),p.createObjectStore(Hn.store,{keyPath:Hn.keyPath,autoIncrement:!0}).createIndex(Hn.userMutationsIndex,Hn.userMutationsKeyPath,{unique:!0}),p.createObjectStore(ss.store),q1(e),function(p){p.createObjectStore(gr.store)}(e));let d=Re.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore(Gi.store),p.deleteObjectStore(so.store),p.deleteObjectStore(Fo.store)}(e),q1(e)),d=d.next(()=>function(p){const _=p.store(Fo.store),E=new Fo(0,0,Lt.min().toTimestamp(),0);return _.put(Fo.key,E)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(p,_){return _.store(Hn.store).Bt().next(E=>{p.deleteObjectStore(Hn.store),p.createObjectStore(Hn.store,{keyPath:Hn.keyPath,autoIncrement:!0}).createIndex(Hn.userMutationsIndex,Hn.userMutationsKeyPath,{unique:!0});const I=_.store(Hn.store),M=E.map(L=>I.put(L));return Re.waitFor(M)})}(e,a))),d=d.next(()=>{!function(p){p.createObjectStore(Dc.store,{keyPath:Dc.keyPath})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Ne(a))),r<6&&i>=6&&(d=d.next(()=>(function(p){p.createObjectStore(wu.store)}(e),this.ke(a)))),r<7&&i>=7&&(d=d.next(()=>this.xe(a))),r<8&&i>=8&&(d=d.next(()=>this.$e(e,a))),r<9&&i>=9&&(d=d.next(()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e),function(p){const _=p.objectStore(gr.store);_.createIndex(gr.readTimeIndex,gr.readTimeIndexPath,{unique:!1}),_.createIndex(gr.collectionReadTimeIndex,gr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(d=d.next(()=>this.Fe(a))),r<11&&i>=11&&(d=d.next(()=>{(function(p){p.createObjectStore(Wm.store,{keyPath:Wm.keyPath})})(e),function(p){p.createObjectStore(Zm.store,{keyPath:Zm.keyPath})}(e)})),d}ke(e){let t=0;return e.store(gr.store).jt((r,i)=>{t+=AC(i)}).next(()=>{const r=new wu(t);return e.store(wu.store).put(wu.key,r)})}Ne(e){const t=e.store(uh.store),r=e.store(Hn.store);return t.Bt().next(i=>Re.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.Bt(Hn.userMutationsIndex,d).next(p=>Re.forEach(p,_=>{xt(_.userId===a.userId);const E=Qm(this.k,_);return B1(e,a.userId,E).next(()=>{})}))}))}xe(e){const t=e.store(Gi.store),r=e.store(gr.store);return e.store(Fo.store).get(Fo.key).next(i=>{const a=[];return r.jt((d,p)=>{const _=new gn(d),E=[0,bl(_)];a.push(t.get(E).next(I=>I?Re.resolve():t.put(new Gi(0,bl(_),i.highestListenSequenceNumber))))}).next(()=>Re.waitFor(a))})}$e(e,t){e.createObjectStore(fp.store,{keyPath:fp.keyPath});const r=t.store(fp.store),i=new lT,a=d=>{if(i.add(d)){const p=d.lastSegment(),_=d.popLast();return r.put({collectionId:p,parent:bl(_)})}};return t.store(gr.store).jt({Kt:!0},(d,p)=>{const _=new gn(d);return a(_.popLast())}).next(()=>t.store(ss.store).jt({Kt:!0},([d,p,_],E)=>{const I=Cc(p);return a(I.popLast())}))}Fe(e){const t=e.store(so.store);return t.jt((r,i)=>{const a=hw(i),d=F1(this.k,a);return t.put(d)})}}function q1(n){n.createObjectStore(Gi.store,{keyPath:Gi.keyPath}).createIndex(Gi.documentTargetsIndex,Gi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(so.store,{keyPath:so.keyPath}).createIndex(so.queryTargetsIndexName,so.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Fo.store)}const dT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hT{constructor(e,t,r,i,a,d,p,_,E,I){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=a,this.window=d,this.document=p,this.Me=E,this.Le=I,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=M=>Promise.resolve(),!hT.bt())throw new Oe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MU(this,i),this.Ge=t+"main",this.k=new R1(_),this.ze=new El(this.Ge,11,new OU(this.k)),this.He=new AU(this.referenceDelegate,this.k),this.Jt=new xU,this.Je=new RU(this.k,this.Jt),this.Ye=new CU,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===I&&Nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(pe.FAILED_PRECONDITION,dT);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new ko(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,ge.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,ge.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>TC(e).put(new Dc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(pp(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return fw(e).get(Oo.key).next(t=>Re.resolve(this.un(t)))}hn(e){return TC(e).delete(this.clientId)}ln(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=oo(r,Dc.store);return i.Bt().next(a=>{const d=e.dn(a,18e5),p=a.filter(_=>-1===d.indexOf(_));return Re.forEach(p,_=>i.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Re.resolve(!0):fw(e).get(Oo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Oe(pe.FAILED_PRECONDITION,dT);return!1}}return!(!this.networkEnabled||!this.inForeground)||TC(e).Bt().next(r=>void 0===this.dn(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Oo.store,Dc.store],t=>{const r=new M1(t,ko.I);return e.an(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>TC(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return uT.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let a;return Ve("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",wU,d=>(a=new M1(d,this.Be?this.Be.next():ko.I),"readwrite-primary"===t?this.rn(a).next(p=>!!p||this.on(a)).next(p=>{if(!p)throw Nr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Oe(pe.FAILED_PRECONDITION,S1);return r(a)}).next(p=>this.cn(a).next(()=>p)):this.En(a).next(()=>r(a)))).then(d=>(a.raiseOnCommittedEvent(),d))}En(e){return fw(e).get(Oo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(pe.FAILED_PRECONDITION,dT)})}cn(e){const t=new Oo(this.clientId,this.allowTabSynchronization,Date.now());return fw(e).put(Oo.key,t)}static bt(){return El.bt()}an(e){const t=fw(e);return t.get(Oo.key).next(r=>this.un(r)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete(Oo.key)):Re.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(Nr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Nr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Nr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fw(n){return oo(n,Oo.store)}function TC(n){return oo(n,Dc.store)}function fT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class FU{constructor(e,t){this.progress=e,this.In=t}}class W1{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Pn(e,t,r))}Pn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}bn(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return lt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):KI(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new lt(t)).next(r=>{let i=XI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let a=XI();return this.Jt.getCollectionParents(e,i).next(d=>Re.forEach(d,p=>{const _=(E=t,I=p.child(i),new Ec(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,I;return this.Cn(e,_,r).next(E=>{E.forEach((I,M)=>{a=a.insert(I,M)})})}).next(()=>a))}Cn(e,t,r){let i,a;return this.Je.getDocumentsMatchingQuery(e,t,r).next(d=>(i=d,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(d=>(a=d,this.Nn(e,a,i).next(p=>{i=p;for(const _ of a)for(const E of _.mutations){const I=E.key;let M=i.get(I);null==M&&(M=Yn.newInvalidDocument(I),i=i.insert(I,M)),QI(E,M,_.localWriteTime),M.isFoundDocument()||(i=i.remove(I))}}))).next(()=>(i.forEach((d,p)=>{nw(t,p)||(i=i.remove(d))}),i))}Nn(e,t,r){let i=bn();for(const d of t)for(const p of d.mutations)p instanceof lh&&null===r.get(p.key)&&(i=i.add(p.key));let a=r;return this.Je.getEntries(e,i).next(d=>(d.forEach((p,_)=>{_.isFoundDocument()&&(a=a.insert(p,_))}),a))}}class pT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=bn(),i=bn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new pT(e,t.fromCache,r,i)}}class Z1{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Lt.min())?this.Mn(e,t):this.On.vn(e,i).next(a=>{const d=this.Ln(t,a);return(mC(t)||yC(t))&&this.Bn(t.limitType,d,i,r)?this.Mn(e,t):(UI()<=rh.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),YI(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(p=>(d.forEach(_=>{p=p.insert(_.key,_)}),p)))});var a}Ln(e,t){let r=new pr(GN(e));return t.forEach((i,a)=>{nw(e,a)&&(r=r.add(a))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mn(e,t){return UI()<=rh.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",YI(t)),this.On.getDocumentsMatchingQuery(e,t,Lt.min())}}class NU{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new Jr(Zt),this.Kn=new ey(a=>Xv(a),fC),this.jn=Lt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new W1(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function K1(n,e,t,r){return new NU(n,e,t,r)}function Y1(n,e){return gT.apply(this,arguments)}function gT(){return gT=(0,ge.Z)(function*(n,e){const t=qe(n);let r=t.An,i=t.Wn;const a=yield t.persistence.runTransaction("Handle user change","readonly",d=>{let p;return t.An.getAllMutationBatches(d).next(_=>(p=_,r=t.persistence.getMutationQueue(e),i=new W1(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(d))).next(_=>{const E=[],I=[];let M=bn();for(const L of p){E.push(L.batchId);for(const B of L.mutations)M=M.add(B.key)}for(const L of _){I.push(L.batchId);for(const B of L.mutations)M=M.add(B.key)}return i.vn(d,M).next(L=>({Gn:L,removedBatchIds:E,addedBatchIds:I}))})});return t.An=r,t.Wn=i,t.Un.Fn(t.Wn),a}),gT.apply(this,arguments)}function PU(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Qn.newChangeBuffer({trackRemovals:!0});return function(d,p,_,E){const I=_.batch,M=I.keys();let L=Re.resolve();return M.forEach(B=>{L=L.next(()=>E.getEntry(p,B)).next(W=>{const oe=_.docVersions.get(B);xt(null!==oe),W.version.compareTo(oe)<0&&(I.applyToRemoteDocument(W,_),W.isValidDocument()&&E.addEntry(W,_.commitVersion))})}),L.next(()=>d.An.removeMutationBatch(p,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function Q1(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function LU(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const p=[];e.targetChanges.forEach((E,I)=>{const M=i.get(I);if(!M)return;p.push(t.He.removeMatchingKeys(a,E.removedDocuments,I).next(()=>t.He.addMatchingKeys(a,E.addedDocuments,I)));const L=E.resumeToken;if(L.approximateByteSize()>0){const B=M.withResumeToken(L,r).withSequenceNumber(a.currentSequenceNumber);i=i.insert(I,B),W=M,we=E,xt((oe=B).resumeToken.approximateByteSize()>0),(0===W.resumeToken.approximateByteSize()||oe.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||we.addedDocuments.size+we.modifiedDocuments.size+we.removedDocuments.size>0)&&p.push(t.He.updateTargetData(a,B))}var W,oe,we});let _=ma();if(e.documentUpdates.forEach((E,I)=>{e.resolvedLimboDocuments.has(E)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),p.push(J1(a,d,e.documentUpdates,r,void 0).next(E=>{_=E})),!r.isEqual(Lt.min())){const E=t.He.getLastRemoteSnapshotVersion(a).next(I=>t.He.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(E)}return Re.waitFor(p).next(()=>d.apply(a)).next(()=>t.Wn.Vn(a,_)).next(()=>_)}).then(a=>(t.qn=i,a))}function J1(n,e,t,r,i){let a=bn();return t.forEach(d=>a=a.add(d)),e.getEntries(n,a).next(d=>{let p=ma();return t.forEach((_,E)=>{const I=d.get(_),M=(null==i?void 0:i.get(_))||r;E.isNoDocument()&&E.version.isEqual(Lt.min())?(e.removeEntry(_,M),p=p.insert(_,E)):!I.isValidDocument()||E.version.compareTo(I.version)>0||0===E.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(E,M),p=p.insert(_,E)):Ve("LocalStore","Ignoring outdated watch update for ",_,". Current version:",I.version," Watch version:",E.version)}),p})}function VU(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function ty(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(a=>a?(i=a,Re.resolve(i)):t.He.allocateTargetId(r).next(d=>(i=new ch(e,d,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function ny(n,e,t){return mT.apply(this,arguments)}function mT(){return mT=(0,ge.Z)(function*(n,e,t){const r=qe(n),i=r.qn.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!pp(d))throw d;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),mT.apply(this,arguments)}function MC(n,e,t){const r=qe(n);let i=Lt.min(),a=bn();return r.persistence.runTransaction("Execute query","readonly",d=>function(p,_,E){const I=qe(p),M=I.Kn.get(E);return void 0!==M?Re.resolve(I.qn.get(M)):I.He.getTargetData(_,E)}(r,d,ga(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(d,p.targetId).next(_=>{a=_})}).next(()=>r.Un.getDocumentsMatchingQuery(d,e,t?i:Lt.min(),t?a:bn())).next(p=>({documents:p,zn:a})))}function X1(n,e){const t=qe(n),r=qe(t.He),i=t.qn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(d=>d?d.target:null))}function eP(n){const e=qe(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,a){const d=qe(r);let p=ma(),_=oT(a);const E=fh(i),I=IDBKeyRange.lowerBound(_,!0);return E.jt({index:gr.readTimeIndex,range:I},(M,L)=>{const B=sT(d.k,L);p=p.insert(B.key,B),_=L.readTime}).next(()=>({In:p,readTime:O1(_)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function yT(){return yT=(0,ge.Z)(function*(n){const e=qe(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=fh(r);let a=Lt.min();return i.jt({index:gr.readTimeIndex,reverse:!0},(d,p,_)=>{p.readTime&&(a=O1(p.readTime)),_.done()}).next(()=>a)}(t)).then(t=>{e.jn=t})}),yT.apply(this,arguments)}function _T(){return _T=(0,ge.Z)(function*(n,e,t,r){const i=qe(n);let a=bn(),d=ma(),p=o1();for(const I of t){const M=e.Hn(I.metadata.name);I.document&&(a=a.add(M)),d=d.insert(M,e.Jn(I)),p=p.insert(M,e.Yn(I.metadata.readTime))}const _=i.Qn.newChangeBuffer({trackRemovals:!0}),E=yield ty(i,(I=r,ga(jm(gn.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>J1(I,_,d,Lt.min(),p).next(M=>(_.apply(I),M)).next(M=>i.He.removeMatchingKeysForTargetId(I,E.targetId).next(()=>i.He.addMatchingKeys(I,a,E.targetId)).next(()=>i.Wn.Vn(I,M)).next(()=>M)))}),_T.apply(this,arguments)}function jU(n,e){return vT.apply(this,arguments)}function vT(){return vT=(0,ge.Z)(function*(n,e,t=bn()){const r=yield ty(n,ga(aT(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=ci(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ye.saveNamedQuery(a,e);const p=r.withResumeToken(ui.EMPTY_BYTE_STRING,d);return i.qn=i.qn.insert(p.targetId,p),i.He.updateTargetData(a,p).next(()=>i.He.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.He.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ye.saveNamedQuery(a,e))})}),vT.apply(this,arguments)}class GU{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Re.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:ci(r.createTime)}),Re.resolve()}getNamedQuery(e,t){return Re.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:aT(r.bundledQuery),readTime:ci(r.readTime)}),Re.resolve();var r}}class wT{constructor(){this.ts=new pr(di.es),this.ns=new pr(di.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new di(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new di(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new lt(new gn([])),r=new di(t,e),i=new di(t,e+1),a=[];return this.ns.forEachInRange([r,i],d=>{this.os(d),a.push(d.key)}),a}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new lt(new gn([])),r=new di(t,e),i=new di(t,e+1);let a=bn();return this.ns.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new di(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class di{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return lt.comparator(e.key,t.key)||Zt(e.fs,t.fs)}static ss(e,t){return Zt(e.fs,t.fs)||lt.comparator(e.key,t.key)}}class HU{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new pr(di.es)}checkEmpty(e){return Re.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const a=this.ds;this.ds++;const d=new rT(a,t,r,i);this.An.push(d);for(const p of i)this.ws=this.ws.add(new di(p.key,a)),this.Jt.addToCollectionParentIndex(e,p.key.path.popLast());return Re.resolve(d)}lookupMutationBatch(e,t){return Re.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),a=i<0?0:i;return Re.resolve(this.An.length>a?this.An[a]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Re.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new di(t,0),i=new di(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],d=>{const p=this._s(d.fs);a.push(p)}),Re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pr(Zt);return t.forEach(i=>{const a=new di(i,0),d=new di(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([a,d],p=>{r=r.add(p.fs)})}),Re.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;lt.isDocumentKey(a)||(a=a.child(""));const d=new di(new lt(a),0);let p=new pr(Zt);return this.ws.forEachWhile(_=>{const E=_.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(p=p.add(_.fs)),!0)},d),Re.resolve(this.ys(p))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Re.forEach(t.mutations,i=>{const a=new di(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new di(t,0),i=this.ws.firstAfterOrEqual(r);return Re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Re.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class $U{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Jr(lt.comparator),this.size=0}addEntry(e,t,r){const i=t.key,a=this.docs.get(i),d=a?a.size:0,p=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.clone(),size:p,readTime:r}),this.size+=p-d,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Re.resolve(r?r.document.clone():Yn.newInvalidDocument(t))}getEntries(e,t){let r=ma();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.clone():Yn.newInvalidDocument(i))}),Re.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=ma();const a=new lt(t.path.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:p,value:{document:_,readTime:E}}=d.getNext();if(!t.path.isPrefixOf(p.path))break;E.compareTo(r)<=0||nw(t,_)&&(i=i.insert(_.key,_.clone()))}return Re.resolve(i)}Es(e,t){return Re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zU(this)}getSize(e){return Re.resolve(this.size)}}class zU extends $1{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),Re.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class qU{constructor(e){this.persistence=e,this.Is=new ey(t=>Xv(t),fC),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.As=0,this.Rs=new wT,this.targetCount=0,this.Ps=mp.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Re.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new mp(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Re.resolve()}updateTargetData(e,t){return this.ce(t),Re.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Is.forEach((d,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Is.delete(d),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),Re.waitFor(a).next(()=>i)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Re.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Re.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(e,d))}),Re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Re.resolve(r)}containsKey(e,t){return Re.resolve(this.Rs.containsKey(t))}}class WU{constructor(e,t){this.bs={},this.Be=new ko(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new qU(this),this.Jt=new DU,this.Je=new $U(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new R1(t),this.Ye=new GU(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new HU(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new ZU(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(a=>this.referenceDelegate.Ss(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ds(e,t){return Re.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class ZU extends I1{constructor(e){super(),this.currentSequenceNumber=e}}class bT{constructor(e){this.persistence=e,this.Cs=new wT,this.Ns=null}static ks(e){return new bT(e)}get xs(){if(this.Ns)return this.Ns;throw pt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Re.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Re.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.xs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.xs,r=>{const i=lt.fromPath(r);return this.$s(e,i).next(a=>{a||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Re.or([()=>Re.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function tP(n,e){return`firestore_clients_${n}_${e}`}function nP(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ET(n,e){return`firestore_targets_${n}_${e}`}class RC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Fs(e,t,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Oe(i.error.code,i.error.message))),d?new RC(e,t,i.state,a):(Nr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Fs(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new pw(e,r.state,i):(Nr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=EC();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=MN(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new kC(e,a):(Nr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class CT{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new CT(t.clientId,t.onlineState):(Nr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class DT{constructor(){this.activeTargetIds=EC()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xT{constructor(e,t,r,i,a){this.window=e,this.Oe=t,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Jr(Zt),this.started=!1,this.js=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=tP(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new DT),this.Gs=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(p){return`firestore_bundle_loaded_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const t=yield e.syncEngine.Tn();for(const i of t){if(i===e.Bs)continue;const a=e.getItem(tP(e.persistenceKey,i));if(a){const d=kC.Fs(i,a);d&&(e.Ks=e.Ks.insert(d.clientId,d))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const i=e.Zs(r);i&&e.ti(i)}for(const i of e.js)e.qs(i);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ET(this.persistenceKey,e));if(r){const i=pw.Fs(e,r);i&&(t=i.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ET(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.si(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ve("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ge.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const i=t.ci(r.key);return t.ui(i,null)}{const i=t.hi(r.key,r.newValue);if(i)return t.ui(i.clientId,i)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const i=t.li(r.key,r.newValue);if(i)return t.fi(i)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const i=t.di(r.key,r.newValue);if(i)return t.wi(i)}}else if(r.key===t.Js){if(null!==r.newValue){const i=t.Zs(r.newValue);if(i)return t.ti(i)}}else if(r.key===t.Ws){const i=function(a){let d=ko.I;if(null!=a)try{const p=JSON.parse(a);xt("number"==typeof p),d=p}catch(p){Nr("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(r.newValue);i!==ko.I&&t.sequenceNumberHandler(i)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,r){const i=new RC(this.currentUser,e,t,r),a=nP(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Os())}si(e){const t=nP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const i=ET(this.persistenceKey,e),a=new pw(e,t,r);this.setItem(i,a.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ci(e);return kC.Fs(r,t)}li(e,t){const r=this.zs.exec(e),i=Number(r[1]);return RC.Fs(new Bi(void 0!==r[2]?r[2]:null),i,t)}di(e,t){const r=this.Hs.exec(e),i=Number(r[1]);return pw.Fs(i,t)}Zs(e){return CT.Fs(e)}fi(e){var t=this;return(0,ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),d=[],p=[];return a.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{a.has(_)||p.push(_)}),this.syncEngine.yi(d,p).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=EC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class rP{constructor(){this.pi=new DT,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new DT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class KU{Ei(e){}shutdown(){}}class iP{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const YU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class QU{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class JU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,a){const d=this.Ui(e,t);Ve("RestConnection","Sending: ",d,r);const p={};return this.qi(p,i,a),this.Ki(e,d,p,r).then(_=>(Ve("RestConnection","Received: ",_),_),_=>{throw Zv("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}ji(e,t,r,i,a){return this.Bi(e,t,r,i,a)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Ui(e,t){return`${this.Mi}/v1/${t}:${YU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((a,d)=>{const p=new v2;p.listenOnce(m2.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case BI.NO_ERROR:const E=p.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(E)),a(E);break;case BI.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),d(new Oe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case BI.HTTP_ERROR:const I=p.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',I,"response text:",p.getResponseText()),I>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const L=function(B){const W=B.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(W)>=0?W:pe.UNKNOWN}(M.status);d(new Oe(L,M.message))}else d(new Oe(pe.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Oe(pe.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);p.send(t,"POST",_,r,15)})}Qi(e,t,r){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=p2(),d=g2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new _2({})),this.qi(p.initMessageHeaders,t,r),(0,qt.uI)()||(0,qt.b$)()||(0,qt.d)()||(0,qt.w1)()||(0,qt.Mn)()||(0,qt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Ve("Connection","Creating WebChannel: "+_,p);const E=a.createWebChannel(_,p);let I=!1,M=!1;const L=new QU({Vi:W=>{M?Ve("Connection","Not sending because WebChannel is closed:",W):(I||(Ve("Connection","Opening WebChannel transport."),E.open(),I=!0),Ve("Connection","WebChannel sending:",W),E.send(W))},Si:()=>E.close()}),B=(W,oe,we)=>{W.listen(oe,Fe=>{try{we(Fe)}catch(it){setTimeout(()=>{throw it},0)}})};return B(E,uC.EventType.OPEN,()=>{M||Ve("Connection","WebChannel transport opened.")}),B(E,uC.EventType.CLOSE,()=>{M||(M=!0,Ve("Connection","WebChannel transport closed"),L.Fi())}),B(E,uC.EventType.ERROR,W=>{M||(M=!0,Zv("Connection","WebChannel transport errored:",W),L.Fi(new Oe(pe.UNAVAILABLE,"The operation could not be completed")))}),B(E,uC.EventType.MESSAGE,W=>{var oe;if(!M){const we=W.data[0];xt(!!we);const Fe=we,it=Fe.error||(null===(oe=Fe[0])||void 0===oe?void 0:oe.error);if(it){Ve("Connection","WebChannel received error:",it);const It=it.status;let ut=function(mr){const Br=Vr[mr];if(void 0!==Br)return r1(Br)}(It),hn=it.message;void 0===ut&&(ut=pe.INTERNAL,hn="Unknown error status: "+It+" with message "+it.message),M=!0,L.Fi(new Oe(ut,hn)),E.close()}else Ve("Connection","WebChannel received:",we),L.Oi(we)}}),B(d,y2.STAT_EVENT,W=>{W.stat===bN.PROXY?Ve("Connection","Detected buffering proxy"):W.stat===bN.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.$i()},0),L}}function sP(){return"undefined"!=typeof window?window:null}function OC(){return"undefined"!=typeof document?document:null}function gw(n){return new sU(n,!0)}class AT{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Oe=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class oP{constructor(e,t,r,i,a,d,p,_){this.Oe=e,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new AT(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,ge.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,ge.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,ge.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new Oe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi((0,ge.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XU extends oP{constructor(e,t,r,i,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.k=a}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:pt(),i=e.targetChange.targetIds||[],a=function(_,E){return _.C?(xt(void 0===E||"string"==typeof E),ui.fromBase64String(E||"")):(xt(void 0===E||E instanceof Uint8Array),ui.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const E=void 0===_.code?pe.UNKNOWN:r1(_.code);return new Oe(E,_.message||"")}(d);t=new l1(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=vu(n,r.document.name),a=ci(r.document.updateTime),d=new is({mapValue:{fields:r.document.fields}}),p=Yn.newFoundDocument(i,a,d);t=new CC(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=vu(n,r.document),a=r.readTime?ci(r.readTime):Lt.min(),d=Yn.newNoDocument(i,a);t=new CC([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=vu(n,r.document);t=new CC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return pt();{const r=e.filter,a=new Y2(r.count||0);t=new a1(r.targetId,a)}}var _;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return Lt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Lt.min():a.readTime?ci(a.readTime):Lt.min()}(e);return this.listener.Pr(t,r)}br(e){const t={};t.database=cw(this.k),t.addTarget=function(i,a){let d;const p=a.target;return d=pC(p)?{documents:v1(i,p)}:{query:w1(i,p)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=h1(i,a.resumeToken):a.snapshotVersion.compareTo(Lt.min())>0&&(d.readTime=lw(i,a.snapshotVersion.toTimestamp())),d}(this.k,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=cw(this.k),t.removeTarget=e,this.gr(t)}}class ej extends oP{constructor(e,t,r,i,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.k=a,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let a=ci(r.updateTime?r.updateTime:i);return a.isEqual(Lt.min())&&(a=ci(i)),new W2(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.Cr(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=cw(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>DC(this.k,r))};this.gr(t)}}class tj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new Oe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.ir.Bi(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(pe.UNKNOWN,i.toString())})}ji(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.ir.ji(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(pe.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class nj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Nr(t),this.Lr=!1):Ve("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class rj{constructor(e,t,r,i,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei(p=>{r.enqueueAndForget((0,ge.Z)(function*(){var _;ph(d)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ge.Z)(function*(E){const I=qe(E);I.Gr.add(4),yield ry(I),I.Jr.set("Unknown"),I.Gr.delete(4),yield mw(I)}),function(E){return _.apply(this,arguments)})(d))}))}),this.Jr=new nj(r,i)}}function mw(n){return ST.apply(this,arguments)}function ST(){return ST=(0,ge.Z)(function*(n){if(ph(n))for(const e of n.zr)yield e(!0)}),ST.apply(this,arguments)}function ry(n){return IT.apply(this,arguments)}function IT(){return IT=(0,ge.Z)(function*(n){for(const e of n.zr)yield e(!1)}),IT.apply(this,arguments)}function FC(n,e){const t=qe(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),RT(t)?MT(t):sy(t).lr()&&TT(t,e))}function yw(n,e){const t=qe(n),r=sy(t);t.Wr.delete(e),r.lr()&&aP(t,e),0===t.Wr.size&&(r.lr()?r._r():ph(t)&&t.Jr.set("Unknown"))}function TT(n,e){n.Yr.X(e.targetId),sy(n).br(e)}function aP(n,e){n.Yr.X(e),sy(n).vr(e)}function MT(n){n.Yr=new nU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),sy(n).start(),n.Jr.Br()}function RT(n){return ph(n)&&!sy(n).hr()&&n.Wr.size>0}function ph(n){return 0===qe(n).Gr.size}function lP(n){n.Yr=void 0}function ij(n){return kT.apply(this,arguments)}function kT(){return kT=(0,ge.Z)(function*(n){n.Wr.forEach((e,t)=>{TT(n,e)})}),kT.apply(this,arguments)}function sj(n,e){return OT.apply(this,arguments)}function OT(){return OT=(0,ge.Z)(function*(n,e){lP(n),RT(n)?(n.Jr.Kr(e),MT(n)):n.Jr.set("Unknown")}),OT.apply(this,arguments)}function oj(n,e,t){return FT.apply(this,arguments)}function FT(){return FT=(0,ge.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof l1&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(i,a){const d=a.cause;for(const p of a.targetIds)i.Wr.has(p)&&(yield i.remoteSyncer.rejectListen(p,d),i.Wr.delete(p),i.Yr.removeTarget(p))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield NC(n,r)}else if(e instanceof CC?n.Yr.ot(e):e instanceof a1?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Lt.min()))try{const r=yield Q1(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const d=i.Yr.gt(a);return d.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=i.Wr.get(_);E&&i.Wr.set(_,E.withResumeToken(p.resumeToken,a))}}),d.targetMismatches.forEach(p=>{const _=i.Wr.get(p);if(!_)return;i.Wr.set(p,_.withResumeToken(ui.EMPTY_BYTE_STRING,_.snapshotVersion)),aP(i,p);const E=new ch(_.target,p,1,_.sequenceNumber);TT(i,E)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),yield NC(n,r)}var r}),FT.apply(this,arguments)}function NC(n,e,t){return NT.apply(this,arguments)}function NT(){return NT=(0,ge.Z)(function*(n,e,t){if(!pp(e))throw e;n.Gr.add(1),yield ry(n),n.Jr.set("Offline"),t||(t=()=>Q1(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield mw(n)}))}),NT.apply(this,arguments)}function uP(n,e){return e().catch(t=>NC(n,t,e))}function iy(n){return PT.apply(this,arguments)}function PT(){return PT=(0,ge.Z)(function*(n){const e=qe(n),t=gh(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;aj(e);)try{const i=yield VU(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,lj(e,i)}catch(i){yield NC(e,i)}cP(e)&&dP(e)}),PT.apply(this,arguments)}function aj(n){return ph(n)&&n.Qr.length<10}function lj(n,e){n.Qr.push(e);const t=gh(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function cP(n){return ph(n)&&!gh(n).hr()&&n.Qr.length>0}function dP(n){gh(n).start()}function uj(n){return LT.apply(this,arguments)}function LT(){return LT=(0,ge.Z)(function*(n){gh(n).kr()}),LT.apply(this,arguments)}function cj(n){return VT.apply(this,arguments)}function VT(){return VT=(0,ge.Z)(function*(n){const e=gh(n);for(const t of n.Qr)e.Dr(t.mutations)}),VT.apply(this,arguments)}function dj(n,e,t){return BT.apply(this,arguments)}function BT(){return BT=(0,ge.Z)(function*(n,e,t){const r=n.Qr.shift(),i=iT.from(r,e,t);yield uP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield iy(n)}),BT.apply(this,arguments)}function hj(n,e){return UT.apply(this,arguments)}function UT(){return UT=(0,ge.Z)(function*(n,e){var t;e&&gh(n).Sr&&(yield(t=(0,ge.Z)(function*(r,i){if(n1(a=i.code)&&a!==pe.ABORTED){const d=r.Qr.shift();gh(r).wr(),yield uP(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield iy(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),cP(n)&&dP(n)}),UT.apply(this,arguments)}function jT(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,ge.Z)(function*(n,e){const t=qe(n);e?(t.Gr.delete(2),yield mw(t)):e||(t.Gr.add(2),yield ry(t),t.Jr.set("Unknown"))}),GT.apply(this,arguments)}function sy(n){return n.Xr||(n.Xr=function(e,t,r){const i=qe(e);return i.Fr(),new XU(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:ij.bind(null,n),Ni:sj.bind(null,n),Pr:oj.bind(null,n)}),n.zr.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Xr.wr(),RT(n)?MT(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),lP(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function gh(n){return n.Zr||(n.Zr=function(e,t,r){const i=qe(e);return i.Fr(),new ej(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:uj.bind(null,n),Ni:hj.bind(null,n),Nr:cj.bind(null,n),Cr:dj.bind(null,n)}),n.zr.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Zr.wr(),yield iy(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class HT{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,a){const d=Date.now()+r,p=new HT(e,t,d,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(n,e){if(Nr("AsyncQueue",`${e}: ${n}`),pp(n))return new Oe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class ay{constructor(e){this.comparator=e?(t,r)=>e(t,r)||lt.comparator(t.key,r.key):(t,r)=>lt.comparator(t.key,r.key),this.keyedMap=XI(),this.sortedSet=new Jr(this.comparator)}static emptySet(e){return new ay(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ay)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ay;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class hP{constructor(){this.eo=new Jr(lt.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):pt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class ly{constructor(e,t,r,i,a,d,p,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new ly(e,t,ay.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class fj{constructor(){this.so=void 0,this.listeners=[]}}class pj{constructor(){this.queries=new ey(e=>jN(e),tw),this.onlineState="Unknown",this.io=new Set}}function $T(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,ge.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new fj),i)try{a.so=yield t.onListen(r)}catch(d){const p=oy(d,`Initialization of query '${YI(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.ro(t.onlineState),a.so&&e.oo(a.so)&&ZT(t)}),zT.apply(this,arguments)}function qT(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,ge.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),WT.apply(this,arguments)}function gj(n,e){const t=qe(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const p of d.listeners)p.oo(i)&&(r=!0);d.so=i}}r&&ZT(t)}function mj(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function ZT(n){n.io.forEach(e=>{e.next()})}class KT{constructor(e,t,r){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ly(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=ly.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class yj{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class fP{constructor(e){this.k=e}Hn(e){return vu(this.k,e)}Jn(e){return e.metadata.exists?y1(this.k,e.document,!1):Yn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return ci(e)}}class _j{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=pP(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new fP(this.k);for(const i of e)if(i.metadata.queries){const a=r.Hn(i.metadata.name);for(const d of i.metadata.queries){const p=(t.get(d)||bn()).add(a);t.set(d,p)}}return t}complete(){var e=this;return(0,ge.Z)(function*(){const t=yield function(n,e,t,r){return _T.apply(this,arguments)}(e.localStore,new fP(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const i of e.queries)yield jU(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new FU(Object.assign({},e.progress),t)})()}}function pP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class gP{constructor(e){this.key=e}}class mP{constructor(e){this.key=e}}class yP{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=bn(),this.mutatedKeys=bn(),this.Ao=GN(e),this.Ro=new ay(this.Ao)}get Po(){return this.To}bo(e,t){const r=t?t.vo:new hP,i=t?t.Ro:this.Ro;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,p=!1;const _=mC(this.query)&&i.size===this.query.limit?i.last():null,E=yC(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,M)=>{const L=i.get(I),B=nw(this.query,M)?M:null,W=!!L&&this.mutatedKeys.has(L.key),oe=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let we=!1;L&&B?L.data.isEqual(B.data)?W!==oe&&(r.track({type:3,doc:B}),we=!0):this.Vo(L,B)||(r.track({type:2,doc:B}),we=!0,(_&&this.Ao(B,_)>0||E&&this.Ao(B,E)<0)&&(p=!0)):!L&&B?(r.track({type:0,doc:B}),we=!0):L&&!B&&(r.track({type:1,doc:L}),we=!0,(_||E)&&(p=!0)),we&&(B?(d=d.add(B),a=oe?a.add(I):a.delete(I)):(d=d.delete(I),a=a.delete(I)))}),mC(this.query)||yC(this.query))for(;d.size>this.query.limit;){const I=mC(this.query)?d.last():d.first();d=d.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{Ro:d,vo:r,Bn:p,mutatedKeys:a}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const a=e.vo.no();a.sort((E,I)=>function(M,L){const B=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return B(M)-B(L)}(E.type,I.type)||this.Ao(E.doc,I.doc)),this.So(r);const d=t?this.Do():[],p=0===this.Io.size&&this.current?1:0,_=p!==this.Eo;return this.Eo=p,0!==a.length||_?{snapshot:new ly(this.query,e.Ro,i,a,e.mutatedKeys,0===p,_,!1),Co:d}:{Co:d}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new hP,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=bn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new mP(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new gP(r))}),t}ko(e){this.To=e.zn,this.Io=bn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return ly.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class vj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wj{constructor(e){this.key=e,this.$o=!1}}class bj{constructor(e,t,r,i,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.Fo={},this.Oo=new ey(p=>jN(p),tw),this.Mo=new Map,this.Lo=new Set,this.Bo=new Jr(lt.comparator),this.Uo=new Map,this.qo=new wT,this.Ko={},this.jo=new Map,this.Qo=mp.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Ej(n,e){return YT.apply(this,arguments)}function YT(){return YT=(0,ge.Z)(function*(n,e){const t=vM(n);let r,i;const a=t.Oo.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.xo();else{const d=yield ty(t.localStore,ga(e)),p=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield QT(t,e,r,"current"===p),t.isPrimaryClient&&FC(t.remoteStore,d)}return i}),YT.apply(this,arguments)}function QT(n,e,t,r){return JT.apply(this,arguments)}function JT(){return JT=(0,ge.Z)(function*(n,e,t,r){n.Go=(I,M,L)=>{return(B=(0,ge.Z)(function*(W,oe,we,Fe){let it=oe.view.bo(we);it.Bn&&(it=yield MC(W.localStore,oe.query,!1).then(({documents:hn})=>oe.view.bo(hn,it)));const It=Fe&&Fe.targetChanges.get(oe.targetId),ut=oe.view.applyChanges(it,W.isPrimaryClient,It);return lM(W,oe.targetId,ut.Co),ut.snapshot}),function(W,oe,we,Fe){return B.apply(this,arguments)})(n,I,M,L);var B};const i=yield MC(n.localStore,e,!0),a=new yP(e,i.zn),d=a.bo(i.documents),p=aw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(d,n.isPrimaryClient,p);lM(n,t,_.Co);const E=new vj(e,t,a);return n.Oo.set(e,E),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),_.snapshot}),JT.apply(this,arguments)}function Cj(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,ge.Z)(function*(n,e){const t=qe(n),r=t.Oo.get(e),i=t.Mo.get(r.targetId);if(i.length>1)return t.Mo.set(r.targetId,i.filter(a=>!tw(a,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ny(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yw(t.remoteStore,r.targetId),uy(t,r.targetId)}).catch(yp))):(uy(t,r.targetId),yield ny(t.localStore,r.targetId,!0))}),XT.apply(this,arguments)}function eM(){return eM=(0,ge.Z)(function*(n,e,t){const r=wM(n);try{const i=yield function(a,d){const p=qe(a),_=li.now(),E=d.reduce((M,L)=>M.add(L.key),bn());let I;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>p.Wn.vn(M,E).next(L=>{I=L;const B=[];for(const W of d){const oe=K2(W,I.get(W.key));null!=oe&&B.push(new lh(W.key,oe,FN(oe.value.mapValue),Lr.exists(!0)))}return p.An.addMutationBatch(M,_,B,d)})).then(M=>(M.applyToLocalDocumentSet(I),{batchId:M.batchId,changes:I}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,p){let _=a.Ko[a.currentUser.toKey()];_||(_=new Jr(Zt)),_=_.insert(d,p),a.Ko[a.currentUser.toKey()]=_}(r,i.batchId,t),yield xc(r,i.changes),yield iy(r.remoteStore)}catch(i){const a=oy(i,"Failed to persist write");t.reject(a)}}),eM.apply(this,arguments)}function _P(n,e){return tM.apply(this,arguments)}function tM(){return tM=(0,ge.Z)(function*(n,e){const t=qe(n);try{const r=yield LU(t.localStore,e);e.targetChanges.forEach((i,a)=>{const d=t.Uo.get(a);d&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.$o=!0:i.modifiedDocuments.size>0?xt(d.$o):i.removedDocuments.size>0&&(xt(d.$o),d.$o=!1))}),yield xc(t,r,e)}catch(r){yield yp(r)}}),tM.apply(this,arguments)}function vP(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Oo.forEach((a,d)=>{const p=d.view.ro(e);p.snapshot&&i.push(p.snapshot)}),function(a,d){const p=qe(a);p.onlineState=d;let _=!1;p.queries.forEach((E,I)=>{for(const M of I.listeners)M.ro(d)&&(_=!0)}),_&&ZT(p)}(r.eventManager,e),i.length&&r.Fo.Pr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xj(n,e,t){return nM.apply(this,arguments)}function nM(){return nM=(0,ge.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),a=i&&i.key;if(a){let d=new Jr(lt.comparator);d=d.insert(a,Yn.newNoDocument(a,Lt.min()));const p=bn().add(a),_=new ow(Lt.min(),new Map,new pr(Zt),d,p);yield _P(r,_),r.Bo=r.Bo.remove(a),r.Uo.delete(e),uM(r)}else yield ny(r.localStore,e,!1).then(()=>uy(r,e,t)).catch(yp)}),nM.apply(this,arguments)}function Aj(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,ge.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield PU(t.localStore,e);aM(t,r,null),oM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xc(t,i)}catch(i){yield yp(i)}}),rM.apply(this,arguments)}function Sj(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,ge.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(a,d){const p=qe(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.An.lookupMutationBatch(_,d).next(I=>(xt(null!==I),E=I.keys(),p.An.removeMutationBatch(_,I))).next(()=>p.An.performConsistencyCheck(_)).next(()=>p.Wn.vn(_,E))})}(r.localStore,e);aM(r,e,t),oM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xc(r,i)}catch(i){yield yp(i)}}),iM.apply(this,arguments)}function sM(){return sM=(0,ge.Z)(function*(n,e){const t=qe(n);ph(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=qe(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.An.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.jo.get(r)||[];i.push(e),t.jo.set(r,i)}catch(r){const i=oy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),sM.apply(this,arguments)}function oM(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function aM(n,e,t){const r=qe(n);let i=r.Ko[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function uy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Mo.get(e))n.Oo.delete(r),t&&n.Fo.zo(r,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||wP(n,r)})}function wP(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(yw(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),uM(n))}function lM(n,e,t){for(const r of t)r instanceof gP?(n.qo.addReference(r.key,e),Tj(n,r)):r instanceof mP?(Ve("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||wP(n,r.key)):pt()}function Tj(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Ve("SyncEngine","New document in limbo: "+t),n.Lo.add(r),uM(n))}function uM(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new lt(gn.fromString(e)),r=n.Qo.next();n.Uo.set(r,new wj(t)),n.Bo=n.Bo.insert(t,r),FC(n.remoteStore,new ch(ga(jm(t.path)),r,2,ko.I))}}function xc(n,e,t){return cM.apply(this,arguments)}function cM(){return cM=(0,ge.Z)(function*(n,e,t){const r=qe(n),i=[],a=[],d=[];var p;r.Oo.isEmpty()||(r.Oo.forEach((p,_)=>{d.push(r.Go(_,e,t).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,E.fromCache?"not-current":"current"),i.push(E);const I=pT.$n(_.targetId,E);a.push(I)}}))}),yield Promise.all(d),r.Fo.Pr(i),yield(p=(0,ge.Z)(function*(_,E){const I=qe(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Re.forEach(E,L=>Re.forEach(L.kn,B=>I.persistence.referenceDelegate.addReference(M,L.targetId,B)).next(()=>Re.forEach(L.xn,B=>I.persistence.referenceDelegate.removeReference(M,L.targetId,B)))))}catch(M){if(!pp(M))throw M;Ve("LocalStore","Failed to update sequence numbers: "+M)}for(const M of E){const L=M.targetId;if(!M.fromCache){const B=I.qn.get(L),oe=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);I.qn=I.qn.insert(L,oe)}}}),function(_,E){return p.apply(this,arguments)})(r.localStore,a))}),cM.apply(this,arguments)}function Mj(n,e){return dM.apply(this,arguments)}function dM(){return dM=(0,ge.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=yield Y1(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(d=>{d.forEach(p=>{p.reject(new Oe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xc(t,r.Gn)}var i}),dM.apply(this,arguments)}function Rj(n,e){const t=qe(n),r=t.Uo.get(e);if(r&&r.$o)return bn().add(r.key);{let i=bn();const a=t.Mo.get(e);if(!a)return i;for(const d of a){const p=t.Oo.get(d);i=i.unionWith(p.view.Po)}return i}}function kj(n,e){return hM.apply(this,arguments)}function hM(){return hM=(0,ge.Z)(function*(n,e){const t=qe(n),r=yield MC(t.localStore,e.query,!0),i=e.view.ko(r);return t.isPrimaryClient&&lM(t,e.targetId,i.Co),i}),hM.apply(this,arguments)}function Oj(n){return fM.apply(this,arguments)}function fM(){return fM=(0,ge.Z)(function*(n){const e=qe(n);return eP(e.localStore).then(t=>xc(e,t))}),fM.apply(this,arguments)}function Fj(n,e,t,r){return pM.apply(this,arguments)}function pM(){return pM=(0,ge.Z)(function*(n,e,t,r){const i=qe(n),a=yield function(d,p){const _=qe(d),E=qe(_.An);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>E.Zt(I,p).next(M=>M?_.Wn.vn(I,M):Re.resolve(null)))}(i.localStore,e);var p;null!==a?("pending"===t?yield iy(i.remoteStore):"acknowledged"===t||"rejected"===t?(aM(i,e,r||null),oM(i,e),p=e,qe(qe(i.localStore).An).ee(p)):pt(),yield xc(i,a)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),pM.apply(this,arguments)}function gM(){return gM=(0,ge.Z)(function*(n,e){const t=qe(n);if(vM(t),wM(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield bP(t,r.toArray());t.Wo=!0,yield jT(t.remoteStore,!0);for(const a of i)FC(t.remoteStore,a)}else if(!1===e&&!1!==t.Wo){const r=[];let i=Promise.resolve();t.Mo.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(uy(t,d),ny(t.localStore,d,!0))),yw(t.remoteStore,d)}),yield i,yield bP(t,r),function(a){const d=qe(a);d.Uo.forEach((p,_)=>{yw(d.remoteStore,_)}),d.qo.hs(),d.Uo=new Map,d.Bo=new Jr(lt.comparator)}(t),t.Wo=!1,yield jT(t.remoteStore,!1)}}),gM.apply(this,arguments)}function bP(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,ge.Z)(function*(n,e,t){const r=qe(n),i=[],a=[];for(const d of e){let p;const _=r.Mo.get(d);if(_&&0!==_.length){p=yield ty(r.localStore,ga(_[0]));for(const E of _){const I=r.Oo.get(E),M=yield kj(r,I);M.snapshot&&a.push(M.snapshot)}}else{const E=yield X1(r.localStore,d);p=yield ty(r.localStore,E),yield QT(r,EP(E),d,!1)}i.push(p)}return r.Fo.Pr(a),i}),mM.apply(this,arguments)}function EP(n){return BN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Pj(n){const e=qe(n);return qe(qe(e.localStore).persistence).Tn()}function Lj(n,e,t,r){return yM.apply(this,arguments)}function yM(){return yM=(0,ge.Z)(function*(n,e,t,r){const i=qe(n);if(i.Wo)Ve("SyncEngine","Ignoring unexpected query state notification.");else if(i.Mo.has(e))switch(t){case"current":case"not-current":{const a=yield eP(i.localStore),d=ow.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield xc(i,a,d);break}case"rejected":yield ny(i.localStore,e,!0),uy(i,e,r);break;default:pt()}}),yM.apply(this,arguments)}function Vj(n,e,t){return _M.apply(this,arguments)}function _M(){return _M=(0,ge.Z)(function*(n,e,t){const r=vM(n);if(r.Wo){for(const i of e){if(r.Mo.has(i)){Ve("SyncEngine","Adding an already active target "+i);continue}const a=yield X1(r.localStore,i),d=yield ty(r.localStore,a);yield QT(r,EP(a),d.targetId,!1),FC(r.remoteStore,d)}for(const i of t)r.Mo.has(i)&&(yield ny(r.localStore,i,!1).then(()=>{yw(r.remoteStore,i),uy(r,i)}).catch(yp))}}),_M.apply(this,arguments)}function vM(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_P.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xj.bind(null,e),e.Fo.Pr=gj.bind(null,e.eventManager),e.Fo.zo=mj.bind(null,e.eventManager),e}function wM(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sj.bind(null,e),e}class CP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.k=gw(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return K1(this.persistence,new Z1,e.initialUser,this.k)}Yo(e){return new WU(bT.ks,this.k)}Jo(e){return new rP}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class DP extends CP{constructor(e,t,r){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e),yield function(n){return yT.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,e),yield wM(r.ta.syncEngine),yield iy(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return K1(this.persistence,new Z1,e.initialUser,this.k)}Xo(e){return new IU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=fT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new hT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,sP(),OC(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new rP}}class Uj extends DP{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e);const i=r.ta.syncEngine;r.sharedClientState instanceof xT&&(r.sharedClientState.syncEngine={mi:Fj.bind(null,i),gi:Lj.bind(null,i),yi:Vj.bind(null,i),Tn:Pj.bind(null,i),_i:Oj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var a=(0,ge.Z)(function*(d){yield function(n,e){return gM.apply(this,arguments)}(r.ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}Jo(e){const t=sP();if(!xT.bt(t))throw new Oe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=fT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class bM{initialize(e,t){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>vP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Mj.bind(null,r.syncEngine),yield jT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pj}createDatastore(e){const t=gw(e.databaseInfo.databaseId),r=new JU(e.databaseInfo);return new tj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=p=>vP(this.syncEngine,p,0),d=iP.bt()?new iP:new KU,new rj(t,r,i,a,d);var t,r,i,a,d}createSyncEngine(e,t){return function(r,i,a,d,p,_,E){const I=new bj(r,i,a,d,p,_);return E&&(I.Wo=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ge.Z)(function*(t){const r=qe(t);Ve("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield ry(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function xP(n,e=10240){let t=0;return{read:()=>(0,ge.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class PC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jj{constructor(e,t){this.sa=e,this.k=t,this.metadata=new ai,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,ge.Z)(function*(){const t=yield e.oa();if(null===t)return null;const r=e.ia.decode(t),i=Number(r);isNaN(i)&&e.aa(`length string (${r}) is not valid number`);const a=yield e.ca(i);return new yj(JSON.parse(a),t.length+i)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,ge.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const t=e.ua();t<0&&e.aa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ca(e){var t=this;return(0,ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.ha())&&t.aa("Reached the end of bundle when more is expected.");const r=t.ia.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,ge.Z)(function*(){const t=yield e.sa.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Gj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ge.Z)(function*(a,d){const p=qe(a),_=cw(p.k)+"/documents",E={documents:d.map(B=>uw(p.k,B))},I=yield p.ji("BatchGetDocuments",_,E),M=new Map;I.forEach(B=>{const W=function(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=vu(t,r.found.name),a=ci(r.found.updateTime),d=new is({mapValue:{fields:r.found.fields}});return Yn.newFoundDocument(i,a,d)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=vu(t,r.missing),a=ci(r.readTime);return Yn.newNoDocument(i,a)}(n,e):pt()}(p.k,B);M.set(W.key.toString(),W)});const L=[];return d.forEach(B=>{const W=M.get(B.toString());xt(!!W),L.push(W)}),L}),function(a,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new sw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=lt.fromPath(i);e.mutations.push(new JI(a,e.precondition(a)))}),yield(r=(0,ge.Z)(function*(i,a){const d=qe(i),p=cw(d.k)+"/documents",_={writes:a.map(E=>DC(d.k,E))};yield d.Bi("Commit",p,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Lt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Lr.updateTime(t):Lr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lt.min()))throw new Oe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lr.updateTime(t)}return Lr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hj{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new AT(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,ge.Z)(function*(){const t=new Gj(e.datastore),r=e.da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.wa(a)}))}).catch(i=>{e.wa(i)})}))}da(e){try{const t=this.updateFunction(e);return!up(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!n1(t)}return!1}}class $j{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bi.UNAUTHENTICATED,this.clientId=xN.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ge.Z)(function*(p){Ve("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=oy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function AP(n,e){return EM.apply(this,arguments)}function EM(){return EM=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ge.Z)(function*(a){r.isEqual(a)||(yield Y1(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),EM.apply(this,arguments)}function SP(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield DM(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>{return(a=(0,ge.Z)(function*(d,p){const _=qe(d);_.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const E=ph(_);_.Gr.add(3),yield ry(_),E&&_.Jr.set("Unknown"),yield _.remoteSyncer.handleCredentialChange(p),_.Gr.delete(3),yield mw(_)}),function(d,p){return a.apply(this,arguments)})(e.remoteStore,i);var a}),n.onlineComponents=e}),CM.apply(this,arguments)}function DM(n){return xM.apply(this,arguments)}function xM(){return xM=(0,ge.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield AP(n,new CP)),n.offlineComponents}),xM.apply(this,arguments)}function LC(n){return AM.apply(this,arguments)}function AM(){return AM=(0,ge.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield SP(n,new bM)),n.onlineComponents}),AM.apply(this,arguments)}function IP(n){return DM(n).then(e=>e.persistence)}function SM(n){return DM(n).then(e=>e.localStore)}function TP(n){return LC(n).then(e=>e.remoteStore)}function IM(n){return LC(n).then(e=>e.syncEngine)}function cy(n){return TM.apply(this,arguments)}function TM(){return TM=(0,ge.Z)(function*(n){const e=yield LC(n),t=e.eventManager;return t.onListen=Ej.bind(null,e.syncEngine),t.onUnlisten=Cj.bind(null,e.syncEngine),t}),TM.apply(this,arguments)}function MP(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(i,a,d,p,_){const E=new PC({next:M=>{a.enqueueAndForget(()=>qT(i,I));const L=M.docs.has(d);!L&&M.fromCache?_.reject(new Oe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&p&&"server"===p.source?_.reject(new Oe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new KT(jm(d.path),E,{includeMetadataChanges:!0,wo:!0});return $T(i,I)}(yield cy(n),n.asyncQueue,e,t,r)})),r.promise}function RP(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(i,a,d,p,_){const E=new PC({next:M=>{a.enqueueAndForget(()=>qT(i,I)),M.fromCache&&"server"===p.source?_.reject(new Oe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new KT(d,E,{includeMetadataChanges:!0,wo:!0});return $T(i,I)}(yield cy(n),n.asyncQueue,e,t,r)})),r.promise}class Xj{constructor(e,t,r,i,a,d,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class dy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof dy&&e.projectId===this.projectId&&e.database===this.database}}const kP=new Map;function MM(n,e,t){if(!t)throw new Oe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OP(n,e,t,r){if(!0===e&&!0===r)throw new Oe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function FP(n){if(!lt.isDocumentKey(n))throw new Oe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NP(n){if(lt.isDocumentKey(n))throw new Oe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=VC(n);throw new Oe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function PP(n,e){if(e<=0)throw new Oe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class LP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,OP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _w{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LP({}),this._settingsFrozen=!1,e instanceof dy?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dy(i.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new E2;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new A2(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kP.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),kP.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class os{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class bu extends os{constructor(e,t,r){super(e,t,jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new lt(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function VP(n,e,...t){if(n=(0,qt.m9)(n),MM("collection","path",e),n instanceof _w){const r=gn.fromString(e,...t);return NP(r),new bu(n,null,r)}{if(!(n instanceof $n||n instanceof bu))throw new Oe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return NP(r),new bu(n.firestore,null,r)}}function BC(n,e,...t){if(n=(0,qt.m9)(n),1===arguments.length&&(e=xN.A()),MM("doc","path",e),n instanceof _w){const r=gn.fromString(e,...t);return FP(r),new $n(n,null,new lt(r))}{if(!(n instanceof $n||n instanceof bu))throw new Oe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return FP(r),new $n(n.firestore,n instanceof bu?n.converter:null,new lt(r))}}function BP(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),(n instanceof $n||n instanceof bu)&&(e instanceof $n||e instanceof bu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function UP(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),n instanceof os&&e instanceof os&&n.firestore===e.firestore&&tw(n._query,e._query)&&n.converter===e.converter}class nG{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new AT(this,"async_queue_retry"),this.Ra=()=>{const t=OC();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=OC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=OC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new ai;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,ge.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!pp(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,Nr("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=t,t}enqueueAfterDelay(e,t,r){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const i=HT.createAndSchedule(this,e,t,r,a=>this.Va(a));return this.pa.push(i),i}Pa(){this.Ta&&pt()}verifyOperationInProgress(){}Sa(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function RM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class rG{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class or extends _w{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new nG,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||jP(this),this._firestoreClient.terminate()}}function Xr(n){return n._firestoreClient||jP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jP(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Xj(n._databaseId,a,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var a,p;n._firestoreClient=new $j(n._authCredentials,n._appCheckCredentials,n._queue,r)}function GP(n,e,t){const r=new ai;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield AP(n,t),yield SP(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function HP(n){if(n._initialized||n._terminated)throw new Oe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ac{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(ui.fromBase64String(e))}catch(t){throw new Oe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eu(ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _p{constructor(e){this._methodName=e}}class UC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const fG=/^__.*__$/;class pG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new lh(e,this.data,this.fieldMask,t,this.fieldTransforms):new iw(e,this.data,t,this.fieldTransforms)}}class $P{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new lh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class jC{constructor(e,t,r,i,a,d){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new jC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:r,Oa:!1});return i.Ma(e),i}La(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:r,Oa:!1});return i.ka(),i}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return HC(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(zP(this.xa)&&fG.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class gG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||gw(e)}ja(e,t,r,i=!1){return new jC({xa:e,methodName:t,Ka:r,path:Ui.emptyPath(),Oa:!1,qa:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function vp(n){const e=n._freezeSettings(),t=gw(n._databaseId);return new gG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function GC(n,e,t,r,i,a={}){const d=n.ja(a.merge||a.mergeFields?2:0,e,t,i);NM("Data must be an object, but it was:",d,r);const p=ZP(r,d);let _,E;if(a.merge)_=new Lm(d.fieldMask),E=d.fieldTransforms;else if(a.mergeFields){const I=[];for(const M of a.mergeFields){const L=PM(e,M,t);if(!d.contains(L))throw new Oe(pe.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);YP(I,L)||I.push(L)}_=new Lm(I),E=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,E=d.fieldTransforms;return new pG(new is(p),_,E)}class vw extends _p{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vw}}function qP(n,e,t){return new jC({xa:3,Ka:e.settings.Ka,methodName:n._methodName,Oa:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class kM extends _p{_toFieldTransform(e){return new rw(e.path,new Hm)}isEqual(e){return e instanceof kM}}class mG extends _p{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=qP(this,e,!0),r=this.Qa.map(a=>wp(a,t)),i=new dp(r);return new rw(e.path,i)}isEqual(e){return this===e}}class yG extends _p{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=qP(this,e,!0),r=this.Qa.map(a=>wp(a,t)),i=new hp(r);return new rw(e.path,i)}isEqual(e){return this===e}}class _G extends _p{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new $m(e.k,zN(e.k,this.Wa));return new rw(e.path,t)}isEqual(e){return this===e}}function OM(n,e,t,r){const i=n.ja(1,e,t);NM("Data must be an object, but it was:",i,r);const a=[],d=is.empty();lp(r,(_,E)=>{const I=LM(e,_,t);E=(0,qt.m9)(E);const M=i.La(I);if(E instanceof vw)a.push(I);else{const L=wp(E,M);null!=L&&(a.push(I),d.set(I,L))}});const p=new Lm(a);return new $P(d,p,i.fieldTransforms)}function FM(n,e,t,r,i,a){const d=n.ja(1,e,t),p=[PM(e,r,t)],_=[i];if(a.length%2!=0)throw new Oe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)p.push(PM(e,a[L])),_.push(a[L+1]);const E=[],I=is.empty();for(let L=p.length-1;L>=0;--L)if(!YP(E,p[L])){const B=p[L];let W=_[L];W=(0,qt.m9)(W);const oe=d.La(B);if(W instanceof vw)E.push(B);else{const we=wp(W,oe);null!=we&&(E.push(B),I.set(B,we))}}const M=new Lm(E);return new $P(I,M,d.fieldTransforms)}function WP(n,e,t,r=!1){return wp(t,n.ja(r?4:3,e))}function wp(n,e){if(KP(n=(0,qt.m9)(n)))return NM("Unsupported field value:",e,n),ZP(n,e);if(n instanceof _p)return function(t,r){if(!zP(r.xa))throw r.Ua(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const d of t){let p=wp(d,r.Ba(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zN(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=li.fromDate(t);return{timestampValue:lw(r.k,i)}}if(t instanceof li){const i=new li(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lw(r.k,i)}}if(t instanceof UC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Eu)return{bytesValue:h1(r.k,t._byteString)};if(t instanceof $n){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.Ua(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:eT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ua(`Unsupported field value: ${VC(t)}`)}(n,e)}function ZP(n,e){const t={};return IN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lp(n,(r,i)=>{const a=wp(i,e.Fa(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function KP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof li||n instanceof UC||n instanceof Eu||n instanceof $n||n instanceof _p)}function NM(n,e,t){if(!KP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=VC(t);throw e.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function PM(n,e,t){if((e=(0,qt.m9)(e))instanceof Ac)return e._internalPath;if("string"==typeof e)return LM(n,e);throw HC("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const vG=new RegExp("[~\\*/\\[\\]]");function LM(n,e,t){if(e.search(vG)>=0)throw HC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ac(...e.split("."))._internalPath}catch(r){throw HC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function HC(n,e,t,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(a||d)&&(_+=" (found",a&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Oe(pe.INVALID_ARGUMENT,p+n+_)}function YP(n,e){return n.some(t=>t.isEqual(e))}class ww{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($C("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class wG extends ww{data(){return super.data()}}function $C(n,e){return"string"==typeof e?LM(n,e):e instanceof Ac?e._internalPath:e._delegate._internalPath}class bp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sc extends ww{constructor(e,t,r,i,a,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($C("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bw extends Sc{data(e={}){return super.data(e)}}class mh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new bp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bw(this._firestore,this._userDataWriter,r.key,r,new bp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new bw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new bp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const p=new bw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new bp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,E=-1;return 0!==d.type&&(_=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),E=a.indexOf(d.doc.key)),{type:bG(d.type),doc:p,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function QP(n,e){return n instanceof Sc&&e instanceof Sc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof mh&&e instanceof mh&&n._firestore===e._firestore&&UP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function JP(n){if(yC(n)&&0===n.explicitOrderBy.length)throw new Oe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ew{}function yh(n,...e){for(const t of e)n=t._apply(n);return n}class EG extends Ew{constructor(e,t,r){super(),this.Ga=e,this.za=t,this.Ha=r,this.type="where"}_apply(e){const t=vp(e.firestore),r=function(i,a,d,p,_,E,I){let M;if(_.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on FieldPath.documentId().`);if("in"===E||"not-in"===E){iL(I,E);const B=[];for(const W of I)B.push(rL(p,i,W));M={arrayValue:{values:B}}}else M=rL(p,i,I)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||iL(I,E),M=WP(d,"where",I,"in"===E||"not-in"===E);const L=Ts.create(_,E,M);return function(B,W){if(W.V()){const we=ZI(B);if(null!==we&&!we.isEqual(W.field))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${we.toString()}' and '${W.field.toString()}'`);const Fe=WI(B);null!==Fe&&sL(0,W.field,Fe)}const oe=function(we,Fe){for(const it of we.filters)if(Fe.indexOf(it.op)>=0)return it.op;return null}(B,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(W.op));if(null!==oe)throw new Oe(pe.INVALID_ARGUMENT,oe===W.op?`Invalid query. You cannot use more than one '${W.op.toString()}' filter.`:`Invalid query. You cannot use '${W.op.toString()}' filters with '${oe.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new os(e.firestore,e.converter,function(i,a){const d=i.filters.concat([a]);return new Ec(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class DG extends Ew{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Um(i,a);return function(p,_){if(null===WI(p)){const E=ZI(p);null!==E&&sL(0,E,_.field)}}(r,d),d}(e._query,this.Ga,this.Ja);return new os(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ec(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class XP extends Ew{constructor(e,t,r){super(),this.type=e,this.Ya=t,this.Xa=r}_apply(e){return new os(e.firestore,e.converter,UN(e._query,this.Ya,this.Xa))}}class eL extends Ew{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=nL(e,this.type,this.Za,this.tc);return new os(e.firestore,e.converter,(i=t,new Ec((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class tL extends Ew{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=nL(e,this.type,this.Za,this.tc);return new os(e.firestore,e.converter,(i=t,new Ec((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function nL(n,e,t,r){if(t[0]=(0,qt.m9)(t[0]),t[0]instanceof ww)return function(i,a,d,p,_){if(!p)throw new Oe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const I of Gm(i))if(I.field.isKeyField())E.push(dC(a,p.key));else{const M=p.data.field(I.field);if(GI(M))throw new Oe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=I.field.canonicalString();throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}E.push(M)}return new ew(E,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=vp(n.firestore);return function(a,d,p,_,E,I){const M=a.explicitOrderBy;if(E.length>M.length)throw new Oe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<E.length;B++){const W=E[B];if(M[B].field.isKeyField()){if("string"!=typeof W)throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof W}`);if(!KI(a)&&-1!==W.indexOf("/"))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${_}() must be a plain document ID, but '${W}' contains a slash.`);const oe=a.path.child(gn.fromString(W));if(!lt.isDocumentKey(oe))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${_}() must result in a valid document path, but '${oe}' is not because it contains an odd number of segments.`);const we=new lt(oe);L.push(dC(d,we))}else{const oe=WP(p,_,W);L.push(oe)}}return new ew(L,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function rL(n,e,t){if("string"==typeof(t=(0,qt.m9)(t))){if(""===t)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!KI(e)&&-1!==t.indexOf("/"))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gn.fromString(t));if(!lt.isDocumentKey(r))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dC(n,new lt(r))}if(t instanceof $n)return dC(n,t._key);throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${VC(t)}.`)}function iL(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sL(n,e,t){if(!t.isEqual(e))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class VM{convertValue(e,t="none"){switch(cp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const r={};return lp(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new UC(Pr(e.latitude),Pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=TN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yv(e));default:return null}}convertTimestamp(e){const t=ah(e);return new li(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gn.fromString(e);xt(x1(r));const i=new dy(r.get(1),r.get(3)),a=new lt(r.popFirst(5));return i.isEqual(t)||Nr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function zC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class kG extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class oL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vp(e)}set(e,t,r){this._verifyNotCommitted();const i=_h(e,this._firestore),a=zC(i.converter,t,r),d=GC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Lr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=_h(e,this._firestore);let d;return d="string"==typeof(t=(0,qt.m9)(t))||t instanceof Ac?FM(this._dataReader,"WriteBatch.update",a._key,t,r,i):OM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_h(e,this._firestore);return this._mutations=this._mutations.concat(new sw(t._key,Lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _h(n,e){if((n=(0,qt.m9)(n)).firestore!==e)throw new Oe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ep extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function aL(n,e,t){n=tn(n,$n);const r=tn(n.firestore,or),i=zC(n.converter,e,t);return hy(r,[GC(vp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Lr.none())])}function lL(n,e,t,...r){n=tn(n,$n);const i=tn(n.firestore,or),a=vp(i);let d;return d="string"==typeof(e=(0,qt.m9)(e))||e instanceof Ac?FM(a,"updateDoc",n._key,e,t,r):OM(a,"updateDoc",n._key,e),hy(i,[d.toMutation(n._key,Lr.exists(!0))])}function uL(n,...e){var t,r,i;n=(0,qt.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||RM(e[d])||(a=e[d],d++);const p={includeMetadataChanges:a.includeMetadataChanges};if(RM(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,E,I;if(n instanceof $n)E=tn(n.firestore,or),I=jm(n._key.path),_={next:M=>{e[d]&&e[d](BM(E,n,M))},error:e[d+1],complete:e[d+2]};else{const M=tn(n,os);E=tn(M.firestore,or),I=M._query;const L=new Ep(E);_={next:B=>{e[d]&&e[d](new mh(E,L,M,B))},error:e[d+1],complete:e[d+2]},JP(n._query)}return function(M,L,B,W){const oe=new PC(W),we=new KT(L,oe,B);return M.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return $T(yield cy(M),we)})),()=>{oe.na(),M.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return qT(yield cy(M),we)}))}}(Xr(E),I,p,_)}function hy(n,e){return function(t,r){const i=new ai;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(n,e,t){return eM.apply(this,arguments)}(yield IM(t),r,i)})),i.promise}(Xr(n),e)}function BM(n,e,t){const r=t.docs.get(e._key),i=new Ep(n);return new Sc(n,i,e._key,r,new bp(t.hasPendingWrites,t.fromCache),e.converter)}class GG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vp(e)}get(e){const t=_h(e,this._firestore),r=new kG(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return pt();const a=i[0];if(a.isFoundDocument())return new ww(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new ww(this._firestore,r,t._key,null,t.converter);throw pt()})}set(e,t,r){const i=_h(e,this._firestore),a=zC(i.converter,t,r),d=GC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const a=_h(e,this._firestore);let d;return d="string"==typeof(t=(0,qt.m9)(t))||t instanceof Ac?FM(this._dataReader,"Transaction.update",a._key,t,r,i):OM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=_h(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_h(e,this._firestore),r=new Ep(this._firestore);return super.get(e).then(i=>new Sc(this._firestore,r,t._key,i._document,new bp(!1,!1),t.converter))}}function UM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function cL(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function dL(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Nm=np.SDK_VERSION,(0,np._registerComponent)(new LE.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new or(i,new D2(t.getProvider("auth-internal")),new S2(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,np.registerVersion)(EN,"3.4.1",n),(0,np.registerVersion)(EN,"3.4.1","esm2017")}();class Cw{constructor(e){this._delegate=e}static fromBase64String(e){return dL(),new Cw(Eu.fromBase64String(e))}static fromUint8Array(e){return cL(),new Cw(Eu.fromUint8Array(e))}toBase64(){return dL(),this._delegate.toBase64()}toUint8Array(){return cL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jM(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class JG{enableIndexedDbPersistence(e,t){return function(n,e){HP(n=tn(n,or));const t=Xr(n),r=n._freezeSettings(),i=new bM;return GP(t,i,new DP(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){HP(n=tn(n,or));const e=Xr(n),t=n._freezeSettings(),r=new bM;return GP(e,r,new Uj(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Oe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(t=(0,ge.Z)(function*(r){if(!El.bt())return Promise.resolve();const i=r+"main";yield El.delete(i)}),function(r){return t.apply(this,arguments)})(fT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof dy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var i;const a=(n=tn(n,_w))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Zv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,p;if("string"==typeof r.mockUserToken)d=r.mockUserToken,p=Bi.MOCK_USER;else{d=(0,qt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Oe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bi(_)}n._authCredentials=new C2(new CN(d,p))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield IP(n),t=yield TP(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i.Gr.delete(0),mw(i)}(t)}))}(Xr(n=tn(n,or)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield IP(n),t=yield TP(n);return e.setNetworkEnabled(!1),(r=(0,ge.Z)(function*(i){const a=qe(i);a.Gr.add(0),yield ry(a),a.Jr.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Xr(n=tn(n,or)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,OP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new ai;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(n,e){return sM.apply(this,arguments)}(yield IM(e),t)})),t.promise}(Xr(n=tn(n,or)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new PC(e);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield cy(n),i=t,qe(r).io.add(i),void i.next();var r,i})),()=>{t.na(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield cy(n),i=t,void qe(r).io.delete(i);var r,i}))}}(Xr(n=tn(n,or)),RM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fy(this,VP(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new ya(this,BC(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function(n,e){if(n=tn(n,_w),MM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new os(n,null,(t=e,new Ec(gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const r=yield(i=n,LC(i).then(a=>a.datastore));var i;new Hj(n.asyncQueue,r,e,t).run()})),t.promise}(Xr(n=tn(n,or)),t=>e(new GG(n,t)))}(this._delegate,t=>e(new fL(this,t)))}batch(){return Xr(this._delegate),new pL(new oL(this._delegate,e=>hy(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Xr(n=tn(n,or)),r=new rG;return function(n,e,t,r){const i=function(a,d){let p;return p="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,E){if(_ instanceof Uint8Array)return xP(_,E);if(_ instanceof ArrayBuffer)return xP(new Uint8Array(_),E);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new jj(_,d);var _}(t,gw(e));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function(n,e,t){const r=qe(n);var i;(i=(0,ge.Z)(function*(a,d,p){try{const _=yield d.getMetadata();if(yield function(L,B){const W=qe(L),oe=ci(B.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",we=>W.Ye.getBundleMetadata(we,B.id)).then(we=>!!we&&we.createTime.compareTo(oe)>=0)}(a.localStore,_))return yield d.close(),void p._completeWith((L=_,{taskState:"Success",documentsLoaded:L.totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}));p._updateProgress(pP(_));const E=new _j(_,a.localStore,d.k);let I=yield d.Ho();for(;I;){const L=yield E.yo(I);L&&p._updateProgress(L),I=yield d.Ho()}const M=yield E.complete();yield xc(a,M.In,void 0),yield function(L,B){const W=qe(L);return W.persistence.runTransaction("Save bundle","readwrite",oe=>W.Ye.saveBundleMetadata(oe,B))}(a.localStore,_),p._completeWith(M.progress)}catch(_){Zv("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_)}var L}),function(a,d,p){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield IM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ye.getNamedQuery(a,r))}(yield SM(n),e)}))}(Xr(n=tn(n,or)),e).then(t=>t?new os(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class qC extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cw(new Eu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ya.forKey(t,this.firestore,null)}}class fL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qC(e)}get(e){const t=Dp(e);return this._delegate.get(t).then(r=>new Dw(this._firestore,new Sc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Dp(e);return r?(UM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Dp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Dp(e);return this._delegate.delete(t),this}}class pL{constructor(e){this._delegate=e}set(e,t,r){const i=Dp(e);return r?(UM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Dp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Dp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Cp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new bw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Cp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Cp(e,new qC(e),t),i.set(t,a)),a}}Cp.INSTANCES=new WeakMap;class ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ya(t,new $n(t._delegate,r,new lt(e)))}static forKey(e,t,r){return new ya(t,new $n(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fy(this.firestore,VP(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qt.m9)(e))instanceof $n&&BP(this._delegate,e)}set(e,t){t=UM("DocumentReference.set",t);try{return t?aL(this._delegate,e,t):aL(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?lL(this._delegate,e):lL(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return hy(tn(n.firestore,or),[new sw(n._key,Lr.none())])}(this._delegate)}onSnapshot(...e){const t=gL(e),r=mL(e,i=>new Dw(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return uL(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=tn(n,$n);const e=tn(n.firestore,or),t=Xr(e),r=new Ep(e);return function(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(i,a,d){try{const p=yield function(_,E){const I=qe(_);return I.persistence.runTransaction("read document","readonly",M=>I.Wn.Rn(M,E))}(i,a);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new Oe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=oy(p,`Failed to get document '${a} from cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield SM(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Sc(e,r,n._key,i,new bp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=tn(n,$n);const e=tn(n.firestore,or);return MP(Xr(e),n._key,{source:"server"}).then(t=>BM(e,n,t))}(this._delegate):function(n){n=tn(n,$n);const e=tn(n.firestore,or);return MP(Xr(e),n._key).then(t=>BM(e,n,t))}(this._delegate),t.then(r=>new Dw(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ya(this.firestore,this._delegate.withConverter(e?Cp.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function gL(n){for(const e of n)if("object"==typeof e&&!jM(e))return e;return{}}function mL(n,e){var t,r;let i;return i=jM(n[0])?n[0]:jM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Dw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QP(this._delegate,e._delegate)}}class xw extends Dw{data(e){const t=this._delegate.data(e);return function(n,e){n||pt()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qC(e)}where(e,t,r){try{return new Rs(this.firestore,yh(this._delegate,function(n,e,t){const r=e,i=$C("where",n);return new EG(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,yh(this._delegate,function(n,e="asc"){const t=e,r=$C("orderBy",n);return new DG(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,yh(this._delegate,function(n){return PP("limit",n),new XP("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,yh(this._delegate,function(n){return PP("limitToLast",n),new XP("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,yh(this._delegate,function(...n){return new eL("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,yh(this._delegate,function(...n){return new eL("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,yh(this._delegate,function(...n){return new tL("endBefore",n,!0)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,yh(this._delegate,function(...n){return new tL("endAt",n,!1)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return UP(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=tn(n,os);const e=tn(n.firestore,or),t=Xr(e),r=new Ep(e);return function(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(i,a,d){try{const p=yield MC(i,a,!0),_=new yP(a,p.zn),E=_.bo(p.documents),I=_.applyChanges(E,!1);d.resolve(I.snapshot)}catch(p){const _=oy(p,`Failed to execute query '${a} against cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield SM(n),e,t);var r})),t.promise}(t,n._query).then(i=>new mh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=tn(n,os);const e=tn(n.firestore,or),t=Xr(e),r=new Ep(e);return RP(t,n._query,{source:"server"}).then(i=>new mh(e,r,n,i))}(this._delegate):function(n){n=tn(n,os);const e=tn(n.firestore,or),t=Xr(e),r=new Ep(e);return JP(n._query),RP(t,n._query).then(i=>new mh(e,r,n,i))}(this._delegate),t.then(r=>new GM(this.firestore,new mh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=gL(e),r=mL(e,i=>new GM(this.firestore,new mh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return uL(this._delegate,t,r)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?Cp.getInstance(this.firestore,e):null))}}class eH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new eH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new xw(this._firestore,r))})}isEqual(e){return QP(this._delegate,e._delegate)}}class fy extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ya(this.firestore,e):null}doc(e){try{return new ya(this.firestore,void 0===e?BC(this._delegate):BC(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=tn(n.firestore,or),r=BC(n),i=zC(n.converter,e);return hy(t,[GC(vp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Lr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ya(this.firestore,t))}isEqual(e){return BP(this._delegate,e._delegate)}withConverter(e){return new fy(this.firestore,this._delegate.withConverter(e?Cp.getInstance(this.firestore,e):null))}}function Dp(n){return tn(n,$n)}class HM{constructor(...e){this._delegate=new Ac(...e)}static documentId(){return new HM(Ui.keyField().canonicalString())}isEqual(e){return(e=(0,qt.m9)(e))instanceof Ac&&this._delegate._internalPath.isEqual(e._internalPath)}}class xp{constructor(e){this._delegate=e}static serverTimestamp(){const e=new kM("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new xp(e)}static delete(){const e=new vw("deleteField");return e._methodName="FieldValue.delete",new xp(e)}static arrayUnion(...e){const t=function(...n){return new mG("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new xp(t)}static arrayRemove(...e){const t=function(...n){return new yG("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new xp(t)}static increment(e){const t=function(n){return new _G("increment",n)}(e);return t._methodName="FieldValue.increment",new xp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tH={Firestore:hL,GeoPoint:UC,Timestamp:li,Blob:Cw,Transaction:fL,WriteBatch:pL,DocumentReference:ya,DocumentSnapshot:Dw,Query:Rs,QueryDocumentSnapshot:xw,QuerySnapshot:GM,CollectionReference:fy,FieldPath:HM,FieldValue:xp,setLogLevel:function(n){!function(n){oh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new LE.wA("firestore-compat",t=>((e,t)=>new hL(e,t,new JG))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},tH)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.10")}(dB.Z);var WC=F(5363),iH=F(6063);class sH extends Pn.x{constructor(e=1/0,t=1/0,r=iH.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:d}=this;t||(r.push(e),!i&&r.push(a.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let d=0;d<a.length&&!e.closed;d+=r?1:2)e.next(a[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const d=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)p=_;p&&r.splice(0,p+1)}}}var oH=F(3099);function yL(n,e,t){var r,i;let a,d=!1;return n&&"object"==typeof n?(a=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,d=!!n.refCount,t=n.scheduler):a=null!=n?n:1/0,(0,oH.B)({connector:()=>new sH(a,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}function _L(n,e){return(0,Di.m)(e)?Mn(()=>n,e):Mn(()=>n)}var $M=F(9468);F(5867);const wL=new Map,dH={activated:!1,tokenObservers:[]},hH={initialized:!1,enabled:!1};function hi(n){return wL.get(n)||dH}function Cl(n,e){wL.set(n,e)}function KC(){return hH}class yH{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ge.Z)(function*(){t.stop();try{t.pending=new qt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ks=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function EL(n){if(!hi(n).activated)throw ks.create("use-before-activation",{appName:n.name})}function ZM(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,ge.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const a={method:"POST",body:JSON.stringify(e),headers:r};let d,p;try{d=yield fetch(n,a)}catch(M){throw ks.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==d.status)throw ks.create("fetch-status-error",{httpStatus:d.status});try{p=yield d.json()}catch(M){throw ks.create("fetch-parse-error",{originalErrorMessage:M.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ks.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const E=1e3*Number(_[1]),I=Date.now();return{token:p.attestationToken,expireTimeMillis:I+E,issuedAtTimeMillis:I}}),KM.apply(this,arguments)}function CH(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Aw="firebase-app-check-store";let JC=null;function DL(){return JC||(JC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ks.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Aw,{keyPath:"compositeKey"})}}catch(t){e(ks.create("storage-open",{originalErrorMessage:t.message}))}}),JC)}function YM(){return YM=(0,ge.Z)(function*(n,e){const r=(yield DL()).transaction(Aw,"readwrite"),a=r.objectStore(Aw).put({compositeKey:n,value:e});return new Promise((d,p)=>{a.onsuccess=_=>{d()},r.onerror=_=>{var E;p(ks.create("storage-set",{originalErrorMessage:null===(E=_.target.error)||void 0===E?void 0:E.message}))}})}),YM.apply(this,arguments)}const Sw=new rh.Yd("@firebase/app-check");function IL(n,e){return(0,qt.hl)()?function(n,e){return function(n,e){return YM.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Sw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function TL(){return KC().enabled}function ML(){return eR.apply(this,arguments)}function eR(){return eR=(0,ge.Z)(function*(){const n=KC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),eR.apply(this,arguments)}const OH={error:"UNKNOWN_ERROR"};function FH(n){return qt.US.encodeString(JSON.stringify(n),!1)}function XC(n){return tR.apply(this,arguments)}function tR(){return tR=(0,ge.Z)(function*(n,e=!1){const t=n.app;EL(t);const r=hi(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&eD(_)&&(i=_)}if(!e&&i&&eD(i))return{token:i.token};let p,d=!1;if(TL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ZM(CH(t,yield ML()),n.platformLoggerProvider).then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0);const _=yield r.exchangeTokenPromise;return yield IL(t,_),Cl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Sw.warn(_.message):Sw.error(_),a=_}return i?(p={token:i.token},Cl(t,Object.assign(Object.assign({},r),{token:i})),yield IL(t,i)):p=PH(a),d&&kL(t,p),p}),tR.apply(this,arguments)}function rR(n,e){const t=hi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Cl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function RL(n){const{app:e}=n,t=hi(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new yH((0,ge.Z)(function*(){let r;if(r=hi(e).token?yield XC(n,!0):yield XC(n),r.error)throw r.error}),()=>!0,()=>{const t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Cl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kL(n,e){const t=hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function eD(n){return n.expireTimeMillis-Date.now()>0}function PH(n){return{token:FH(OH),error:n}}class LH{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)rR(this.app,t.next);return Promise.resolve()}}const UL="app-check-internal";(0,np._registerComponent)(new LE.wA("app-check",n=>function(n,e){return new LH(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(UL).initialize()})),(0,np._registerComponent)(new LE.wA(UL,n=>function(n){return{getToken:e=>XC(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,a=hi(i),d={next:t,error:r,type:e};if(Cl(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&eD(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),RL(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>RL(n))}(n,"INTERNAL",e),removeTokenListener:e=>rR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,np.registerVersion)("@firebase/app-check","0.5.2");class aR{constructor(){return(0,Ni.vb)("app-check")}}"undefined"!=typeof window&&window;var n$=F(127);const GL=new u.OlP("angularfire2.auth.use-emulator"),HL=new u.OlP("angularfire2.auth.settings"),$L=new u.OlP("angularfire2.auth.tenant-id"),zL=new u.OlP("angularfire2.auth.langugage-code"),qL=new u.OlP("angularfire2.auth.use-device-language"),WL=new u.OlP("angularfire.auth.persistence"),ZL=(n,e,t,r,i,a,d,p)=>(0,wl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),d)for(const[E,I]of Object.entries(d))_.settings[E]=I;return p&&_.setPersistence(p),_},[t,r,i,a,d,p]);let KL=(()=>{class n{constructor(t,r,i,a,d,p,_,E,I,M,L,B){const W=new Pn.x,oe=Je(void 0).pipe((0,WC.Q)(d.outsideAngular),Mn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9259)))),(0,yt.U)(()=>(0,wl.on)(t,a,r)),(0,yt.U)(we=>ZL(we,a,p,E,I,M,_,L)),yL({bufferSize:1,refCount:!1}));if(Tn(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Je(null);else{oe.pipe(bt()).subscribe();const Fe=oe.pipe(Mn(ut=>ut.getRedirectResult().then(hn=>hn,()=>null)),Ni.iC,yL({bufferSize:1,refCount:!1})),it=oe.pipe(Mn(ut=>new Fn.y(hn=>({unsubscribe:a.runOutsideAngular(()=>ut.onAuthStateChanged(mr=>hn.next(mr),mr=>hn.error(mr),()=>hn.complete()))})))),It=oe.pipe(Mn(ut=>new Fn.y(hn=>({unsubscribe:a.runOutsideAngular(()=>ut.onIdTokenChanged(mr=>hn.next(mr),mr=>hn.error(mr),()=>hn.complete()))}))));this.authState=Fe.pipe(_L(it),(0,$M.R)(d.outsideAngular),(0,WC.Q)(d.insideAngular)),this.user=Fe.pipe(_L(It),(0,$M.R)(d.outsideAngular),(0,WC.Q)(d.insideAngular)),this.idToken=this.user.pipe(Mn(ut=>ut?(0,vn.D)(ut.getIdToken()):Je(null))),this.idTokenResult=this.user.pipe(Mn(ut=>ut?(0,vn.D)(ut.getIdTokenResult()):Je(null))),this.credential=(0,Ud.T)(Fe,W,this.authState.pipe(tr(ut=>!ut))).pipe((0,yt.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,$M.R)(d.outsideAngular),(0,WC.Q)(d.insideAngular))}return(0,wl.pX)(this,oe,a,{spy:{apply:(we,Fe,it)=>{(we.startsWith("signIn")||we.startsWith("createUser"))&&it.then(It=>W.next(It))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wl.Dh),u.LFG(wl.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ni.HU),u.LFG(GL,8),u.LFG(HL,8),u.LFG($L,8),u.LFG(zL,8),u.LFG(qL,8),u.LFG(WL,8),u.LFG(aR,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function YL(n,e){return function(n,e=PE.z){return new Fn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function uR(n,e){return YL(n,e).pipe((0,yt.U)(t=>({payload:t,type:"query"})))}function nD(n,e){return uR(n,e).pipe(ru(void 0),ZS(),(0,yt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,p)=>{const _=i.find(I=>I.doc.ref.isEqual(d.ref)),E=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),a}))}function QL(n,e,t){return nD(n,t).pipe(_f((r,i)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return cR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),em(),(0,yt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function cR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function JL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class XL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=nD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,yt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ru(void 0),ZS(),tr(([r,i])=>i.length>0||!r),(0,yt.U)(([r,i])=>i),Ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(_f((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=JL(e);return QL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}valueChanges(e={}){return uR(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ni.iC)}get(e){return(0,vn.D)(this.query.get(e)).pipe(Ni.iC)}add(e){return this.ref.add(e)}doc(e){return new eV(this.ref.doc(e),this.afs)}}class eV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=rV(r,t);return new XL(i,a,this.afs)}snapshotChanges(){return function(n,e){return YL(n,e).pipe(ru(void 0),ZS(),(0,yt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,yt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,vn.D)(this.ref.get(e)).pipe(Ni.iC)}}class l${constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?nD(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),tr(t=>t.length>0),Ni.iC):nD(this.query,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(_f((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=JL(e);return QL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}valueChanges(e={}){return uR(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ni.iC)}get(e){return(0,vn.D)(this.query.get(e)).pipe(Ni.iC)}}const tV=new u.OlP("angularfire2.enableFirestorePersistence"),nV=new u.OlP("angularfire2.firestore.persistenceSettings"),u$=new u.OlP("angularfire2.firestore.settings"),c$=new u.OlP("angularfire2.firestore.use-emulator");function rV(n,e=(t=>t)){return{query:e(n),ref:n}}let iV=(()=>{class n{constructor(t,r,i,a,d,p,_,E,I,M,L,B,W,oe,we,Fe,it){this.schedulers=_;const It=(0,wl.on)(t,p,r),ut=I;M&&ZL(It,p,L,W,oe,we,B,Fe),[this.firestore,this.persistenceEnabled$]=(0,wl.cc)(`${It.name}.firestore`,"AngularFirestore",It.name,()=>{const hn=p.runOutsideAngular(()=>It.firestore());if(a&&hn.settings(a),ut&&hn.useEmulator(...ut),i&&!Tn(d)){const mr=()=>{try{return(0,vn.D)(hn.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Br){return"undefined"!=typeof console&&console.warn(Br),Je(!1)}};return[hn,p.runOutsideAngular(mr)]}return[hn,Je(!1)]},[a,ut,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=rV(i,r),p=this.schedulers.ngZone.run(()=>a);return new XL(p,d,this)}collectionGroup(t,r){const i=r||(d=>d),a=this.firestore.collectionGroup(t);return new l$(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new eV(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wl.Dh),u.LFG(wl.xv,8),u.LFG(tV,8),u.LFG(u$,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ni.HU),u.LFG(nV,8),u.LFG(c$,8),u.LFG(KL,8),u.LFG(GL,8),u.LFG(HL,8),u.LFG($L,8),u.LFG(zL,8),u.LFG(qL,8),u.LFG(WL,8),u.LFG(aR,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d$=(()=>{class n{constructor(){n$.Z.registerVersion("angularfire",Ni.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:tV,useValue:!0},{provide:nV,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[iV]}),n})(),h$=(()=>{class n{constructor(t){this.firestore=t}add(t){return this.firestore.collection("naves").add(t)}update(t,r){const i=this.firestore.collection("naves");return this.get(r).then(a=>i.doc(a.docs[0].id).update(t))}get(t){return this.firestore.firestore.collection("naves").where("uid","==",t).get().then(i=>i)}getAll(){return this.firestore.collection("naves").snapshotChanges().toPromise().then(r=>r)}delete(t){const r=this.firestore.collection("naves");return this.get(t).then(i=>r.doc(i.docs[0].id).delete())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(iV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f$=["*",[["mat-card-footer"]]],p$=["*","mat-card-footer"];let g$=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Mt,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:p$,decls:2,vars:0,template:function(t,r){1&t&&(u.F$t(f$),u.Hsn(0),u.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),m$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Yr],Yr]}),n})(),sV=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_$=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=pu(t);return new Fn.y(i=>{const d=this._observeElement(r).subscribe(i);return()=>{d.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Pn.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v$=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ir(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(n,e=PE.z){return(0,_r.e)((t,r)=>{let i=null,a=null,d=null;const p=()=>{if(i){i.unsubscribe(),i=null;const E=a;a=null,r.next(E)}};function _(){const E=d+n,I=e.now();if(I<E)return i=this.schedule(void 0,E-I),void r.add(i);p()}t.subscribe(new Dn.Q(r,E=>{a=E,d=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{a=i=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(_$),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),w$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[sV]}),n})();var b$=F(1144);const E$=["addListener","removeListener"],C$=["addEventListener","removeEventListener"],D$=["on","off"];function dR(n,e,t,r){if((0,Di.m)(t)&&(r=t,t=void 0),r)return dR(n,e,t).pipe(pf(r));const[i,a]=function(n){return(0,Di.m)(n.addEventListener)&&(0,Di.m)(n.removeEventListener)}(n)?C$.map(d=>p=>n[d](e,p,t)):function(n){return(0,Di.m)(n.addListener)&&(0,Di.m)(n.removeListener)}(n)?E$.map(oV(n,e)):function(n){return(0,Di.m)(n.on)&&(0,Di.m)(n.off)}(n)?D$.map(oV(n,e)):[];if(!i&&(0,b$.z)(n))return(0,er.z)(d=>dR(d,e,t))((0,Dd.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Fn.y(d=>{const p=(..._)=>d.next(1<_.length?_:_[0]);return i(p),()=>a(p)})}function oV(n,e){return t=>r=>n[t](e,r)}const I$=["connectionContainer"],T$=["inputContainer"],M$=["label"];function R$(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15),u._UZ(3,"div",16),u._UZ(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15),u._UZ(7,"div",16),u._UZ(8,"div",17),u.qZA(),u.BQk())}function k$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19),u.NdJ("cdkObserveContent",function(){return u.CHM(t),u.oxw().updateOutlineGap()}),u.Hsn(1,1),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function O$(n,e){if(1&n&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&n){const t=u.oxw(2);u.xp6(3),u.Oqu(t._control.placeholder)}}function F$(n,e){1&n&&u.Hsn(0,3,["*ngSwitchCase","true"])}function N$(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function P$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){return u.CHM(t),u.oxw().updateOutlineGap()}),u.YNc(2,O$,4,1,"ng-container",12),u.YNc(3,F$,1,0,"ng-content",12),u.YNc(4,N$,2,0,"span",22),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function L$(n,e){1&n&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function V$(n,e){if(1&n&&(u.TgZ(0,"div",25),u._UZ(1,"span",26),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function B$(n,e){if(1&n&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function U$(n,e){if(1&n&&(u.TgZ(0,"div",30),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function j$(n,e){if(1&n&&(u.TgZ(0,"div",27),u.YNc(1,U$,2,2,"div",28),u.Hsn(2,6),u._UZ(3,"div",29),u.Hsn(4,7),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const G$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],H$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],$$=new u.OlP("MatError"),z$={transitionMessages:Ya("transitionMessages",[Jc("enter",Wl({opacity:1,transform:"translateY(0%)"})),vr("void => enter",[Wl({opacity:0,transform:"translateY(-5px)"}),Qc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const q$=new u.OlP("MatHint");let fR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),W$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Z$=new u.OlP("MatPrefix"),K$=new u.OlP("MatSuffix");let aV=0;const Q$=ov(class{constructor(n){this._elementRef=n}},"primary"),J$=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),uV=new u.OlP("MatFormField");let X$=(()=>{class n extends Q${constructor(t,r,i,a,d,p,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=d,this._ngZone=p,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Pn.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+aV++,this._labelId="mat-form-field-label-"+aV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ir(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ru(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Oi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Oi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ud.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ru(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ru(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Oi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,dR(this._label.nativeElement,"transitionend").pipe((0,yf.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const a=this._connectionContainerRef.nativeElement,d=a.querySelectorAll(".mat-form-field-outline-start"),p=a.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const _=a.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const E=this._getStartEnd(_),I=t.children,M=this._getStartEnd(I[0].getBoundingClientRect());let L=0;for(let B=0;B<I.length;B++)L+=I[B].offsetWidth;r=Math.abs(M-E)-5,i=L>0?.75*L+10:0}for(let _=0;_<d.length;_++)d[_].style.width=`${r}px`;for(let _=0;_<p.length;_++)p[_].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(T_,8),u.Y36(J$,8),u.Y36(Mo),u.Y36(u.R0b),u.Y36(Mt,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,hR,5),u.Suo(i,hR,7),u.Suo(i,fR,5),u.Suo(i,fR,7),u.Suo(i,W$,5),u.Suo(i,$$,5),u.Suo(i,q$,5),u.Suo(i,Z$,5),u.Suo(i,K$,5)),2&t){let a;u.iGM(a=u.CRH())&&(r._controlNonStatic=a.first),u.iGM(a=u.CRH())&&(r._controlStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildNonStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildStatic=a.first),u.iGM(a=u.CRH())&&(r._placeholderChild=a.first),u.iGM(a=u.CRH())&&(r._errorChildren=a),u.iGM(a=u.CRH())&&(r._hintChildren=a),u.iGM(a=u.CRH())&&(r._prefixChildren=a),u.iGM(a=u.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(u.Gf(I$,7),u.Gf(T$,5),u.Gf(M$,5)),2&t){let i;u.iGM(i=u.CRH())&&(r._connectionContainerRef=i.first),u.iGM(i=u.CRH())&&(r._inputContainerRef=i.first),u.iGM(i=u.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&u.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:uV,useExisting:n}]),u.qOj],ngContentSelectors:H$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(u.F$t(G$),u.TgZ(0,"div",0),u.TgZ(1,"div",1,2),u.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),u.YNc(3,R$,9,0,"ng-container",3),u.YNc(4,k$,2,1,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,P$,5,16,"label",8),u.qZA(),u.qZA(),u.YNc(10,L$,2,0,"div",9),u.qZA(),u.YNc(11,V$,2,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,B$,2,1,"div",12),u.YNc(14,j$,5,2,"div",13),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngIf","outline"==r.appearance),u.xp6(1),u.Q6J("ngIf",r._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",r._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",r._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=r.appearance),u.xp6(1),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},directives:[$i,Su,wi,v$],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[z$.transitionMessages]},changeDetection:0}),n})(),cV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Il,Yr,w$],Yr]}),n})();const dV=Ff({passive:!0});let e3=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return sc.E;const r=pu(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new Pn.x,d="cdk-text-field-autofilled",p=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",p,dV),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",p,dV)}}),a}stopMonitoring(t){const r=pu(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zg]]}),n})();const t3=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),n3=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let r3=0;const s3=H0(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let o3=(()=>{class n extends s3{constructor(t,r,i,a,d,p,_,E,I,M){super(p,a,d,i),this._elementRef=t,this._platform=r,this._autofillMonitor=E,this._formField=M,this._uid="mat-input-"+r3++,this.focused=!1,this.stateChanges=new Pn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(W=>K_().has(W));const L=this._elementRef.nativeElement,B=L.nodeName.toLowerCase();this._inputValueAccessor=_||L,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",W=>{const oe=W.target;!oe.value&&0===oe.selectionStart&&0===oe.selectionEnd&&(oe.setSelectionRange(1,1),oe.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ir(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(dm.required))&&void 0!==a&&a}set required(t){this._required=ir(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&K_().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ir(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){n3.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Mo),u.Y36(xr,10),u.Y36(Am,8),u.Y36(tp,8),u.Y36(z0),u.Y36(t3,10),u.Y36(e3),u.Y36(u.R0b),u.Y36(uV,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(u.Ikx("disabled",r.disabled)("required",r.required),u.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),u.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:hR,useExisting:n}]),u.qOj,u.TTD]}),n})(),a3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[z0],imports:[[hV,cV,Yr],hV,cV]}),n})();function l3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u.TgZ(1,"div"),u.TgZ(2,"button",13),u.NdJ("click",function(){return u.CHM(t),u.oxw().cancel()}),u._uU(3,"Cancelar"),u.qZA(),u.qZA(),u.TgZ(4,"div",14),u.TgZ(5,"button",15),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.saveVehicle(i.formVehicle.value)}),u._uU(6,"Guardar"),u.qZA(),u.qZA(),u.qZA()}}function u3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u.TgZ(1,"div"),u.TgZ(2,"button",15),u.NdJ("click",function(){return u.CHM(t),u.oxw().cancel()}),u._uU(3,"Cancelar"),u.qZA(),u.qZA(),u.TgZ(4,"div"),u.TgZ(5,"button",13),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.delVehicle(i.idVehicle)}),u._uU(6,"Eliminar"),u.qZA(),u.qZA(),u.TgZ(7,"div"),u.TgZ(8,"button",15),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.updateVehicle(i.formVehicle.value,i.idVehicle)}),u._uU(9,"Actualizar"),u.qZA(),u.qZA(),u.qZA()}}const c3=[{path:"peliculas",component:J0},{path:"peliculas/:filmID/naves",component:HO},{path:"peliculas/:filmID/naves/:vehicleID",component:(()=>{class n{constructor(t,r,i,a,d){this.route=t,this.router=r,this.form=i,this.dbSrv=a,this.swapiSrv=d,this.idVehicle=0,this.idMovie=0,this.exist=!1,this.formVehicle=this.form.group({name:new pa("",[dm.required]),manufacturer:new pa("",[dm.required]),max_atmosphering_speed:new pa("",[dm.required]),vehicle_class:new pa("",[dm.required]),uid:new pa("")})}ngOnInit(){var t=this;return(0,ge.Z)(function*(){return t.idVehicle=t.route.snapshot.paramMap.get("vehicleID"),t.idMovie=t.route.snapshot.paramMap.get("filmID"),new Promise(function(){var r=(0,ge.Z)(function*(i){i(t.dbSrv.get(t.idVehicle))});return function(i){return r.apply(this,arguments)}}()).then(r=>{var i;r.empty?t.swapiSrv.getVehicle(t.idVehicle).then(a=>{var d;t.formVehicle.get("name").setValue(a.result.properties.name),t.formVehicle.get("manufacturer").setValue(a.result.properties.manufacturer),t.formVehicle.get("max_atmosphering_speed").setValue(a.result.properties.max_atmosphering_speed),t.formVehicle.get("vehicle_class").setValue(a.result.properties.vehicle_class),null===(d=t.formVehicle.get("uid"))||void 0===d||d.setValue(t.idVehicle)}):(t.exist=r.docs[0].exists,t.formVehicle.get("name").setValue(r.docs[0].data().name),t.formVehicle.get("manufacturer").setValue(r.docs[0].data().manufacturer),t.formVehicle.get("max_atmosphering_speed").setValue(r.docs[0].data().max_atmosphering_speed),t.formVehicle.get("vehicle_class").setValue(r.docs[0].data().vehicle_class),null===(i=t.formVehicle.get("uid"))||void 0===i||i.setValue(t.idVehicle))})})()}saveVehicle(t){this.dbSrv.add(t).then(r=>{this.router.navigate(["peliculas/"+this.idMovie+"/naves"])})}delVehicle(t){this.dbSrv.delete(t).then(r=>{this.router.navigate(["peliculas/"+this.idMovie+"/naves"])})}updateVehicle(t,r){this.dbSrv.update(t,r).then(i=>{this.router.navigate(["peliculas/"+this.idMovie+"/naves"])})}cancel(){this.router.navigate(["peliculas/"+this.idMovie+"/naves"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lu),u.Y36(Cr),u.Y36(cB),u.Y36(h$),u.Y36(Og))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-detalles-nave"]],decls:33,vars:3,consts:[["fxLayoutAlign","center center",1,"seccion"],[1,"card"],["fxLayout","column"],[3,"formGroup"],["fxLayout","row","fxFlex","40","fxLayoutAlign","space-around center"],["appearance","fill",1,"example-full-width"],[2,"color","aliceblue"],["matInput","","MatFormFieldControl","","formControlName","name"],["matInput","","MatFormFieldControl","","formControlName","manufacturer"],["matInput","","MatFormFieldControl","","formControlName","max_atmosphering_speed"],["matInput","","MatFormFieldControl","","formControlName","vehicle_class"],["fxLayout","row","fxFlex","20","fxLayoutAlign","space-around center",4,"ngIf"],["fxLayout","row","fxFlex","20","fxLayoutAlign","space-around center"],["mat-raised-button","","color","warn",3,"click"],[1,"save"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"p"),u.TgZ(2,"b"),u._uU(3,"Detalles del auto"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(4,"div",1),u.TgZ(5,"mat-card"),u.TgZ(6,"div",2),u.TgZ(7,"form",3),u.TgZ(8,"div",2),u.TgZ(9,"div",4),u.TgZ(10,"div"),u.TgZ(11,"mat-form-field",5),u.TgZ(12,"mat-label",6),u._uU(13,"Nombre"),u.qZA(),u._UZ(14,"input",7),u.qZA(),u.qZA(),u.TgZ(15,"div"),u.TgZ(16,"mat-form-field",5),u.TgZ(17,"mat-label",6),u._uU(18,"Fabricante"),u.qZA(),u._UZ(19,"input",8),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"div",4),u.TgZ(21,"div"),u.TgZ(22,"mat-form-field",5),u.TgZ(23,"mat-label",6),u._uU(24,"Velocidad"),u.qZA(),u._UZ(25,"input",9),u.qZA(),u.qZA(),u.TgZ(26,"div"),u.TgZ(27,"mat-form-field",5),u.TgZ(28,"mat-label",6),u._uU(29,"Clase del vehiculo"),u.qZA(),u._UZ(30,"input",10),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(31,l3,7,0,"div",11),u.YNc(32,u3,10,0,"div",11),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(7),u.Q6J("formGroup",r.formVehicle),u.xp6(24),u.Q6J("ngIf",!r.exist),u.xp6(1),u.Q6J("ngIf",r.exist))},directives:[Of,g$,kf,xE,fE,tp,ts,X$,fR,o3,um,hE,Av,$i,fv],styles:[".seccion[_ngcontent-%COMP%]{margin-top:4%;font-family:Verdana;font-size:xx-large}.card[_ngcontent-%COMP%]{margin:5%;background-color:#000!important}.save[_ngcontent-%COMP%]{color:#000}"]}),n})()},{path:"",redirectTo:"/peliculas",pathMatch:"full"}];let d3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[A_.forRoot(c3)],A_]}),n})();const h3=["*",[["mat-toolbar-row"]]],f3=["*","mat-toolbar-row"],p3=ov(class{constructor(n){this._elementRef=n}});let g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),m3=(()=>{class n extends p3{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Mo),u.Y36(ne))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,g3,5),2&t){let a;u.iGM(a=u.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:f3,decls:2,vars:0,template:function(t,r){1&t&&(u.F$t(h3),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),y3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Yr],Yr]}),n})(),_3=(()=>{class n{constructor(t){this.router=t,this.title="ejercicio"}home(){this.router.navigate(["peliculas"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Cr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:12,vars:0,consts:[["fxLayout","column",1,"peliculas"],["fxLayout","row"],[1,"toolbar"],["fxFlex","30"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Star_Wars_Logo.svg/375px-Star_Wars_Logo.svg.png",1,"img",3,"click"],["fxFlex","40","fxLayoutAlign","center center"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"mat-toolbar",2),u.TgZ(3,"div",3),u.TgZ(4,"img",4),u.NdJ("click",function(){return r.home()}),u.qZA(),u.qZA(),u.TgZ(5,"div",5),u.TgZ(6,"span"),u.TgZ(7,"b"),u._uU(8,"Prueba t\xe9cnica - Advant"),u.qZA(),u.qZA(),u.qZA(),u._UZ(9,"div",3),u.qZA(),u.qZA(),u.TgZ(10,"div"),u._UZ(11,"router-outlet"),u.qZA(),u.qZA())},directives:[kf,m3,ts,Of,Ig],styles:[".peliculas[_ngcontent-%COMP%]{background-color:#f5f5f5;height:100%}.img[_ngcontent-%COMP%]{width:25%;height:25%;cursor:pointer}.toolbar[_ngcontent-%COMP%]{background-color:#000}"]}),n})();const fV_firebaseConfig={apiKey:"AIzaSyCx1qX1ERtfEffIZtksZlk5L4502qkKMbo",authDomain:"pruebaadvant.firebaseapp.com",projectId:"pruebaadvant",storageBucket:"pruebaadvant.appspot.com",messagingSenderId:"947319962601",appId:"1:947319962601:web:2806fcc910a6cc21ca6978",measurementId:"G-XWF7J9VQPQ"};var mV=F(4408);const Tw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Tw;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new pg.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Tw;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Tw;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var yV=F(7565);new class extends yV.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const a=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<a&&(e=t.shift()));if(this._active=!1,r){for(;++i<a&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends mV.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Tw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(Tw.cancelAnimationFrame(t),e._scheduled=void 0)}});let gR,C3=1;const rD={};function _V(n){return n in rD&&(delete rD[n],!0)}const D3={setImmediate(n){const e=C3++;return rD[e]=!0,gR||(gR=Promise.resolve()),gR.then(()=>_V(e)&&n()),e},clearImmediate(n){_V(n)}},{setImmediate:x3,clearImmediate:A3}=D3,iD={setImmediate(...n){const{delegate:e}=iD;return((null==e?void 0:e.setImmediate)||x3)(...n)},clearImmediate(n){const{delegate:e}=iD;return((null==e?void 0:e.clearImmediate)||A3)(n)},delegate:void 0};new class extends yV.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const a=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<a&&(e=t.shift()));if(this._active=!1,r){for(;++i<a&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends mV.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=iD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(iD.clearImmediate(t),e._scheduled=void 0)}});F(3532);let vV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),L3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mc,zg,vV],mc,vV]}),n})(),Q3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[L3]]}),n})(),pz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Q3,Yr],Yr]}),n})(),NV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fg]]}),n})(),HV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fg]]}),n})(),t6=(()=>{class n{constructor(t,r){Tn(r)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,r=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:hu,useValue:Object.assign(Object.assign({},Ng),t)},{provide:R_,useValue:r,multi:!0},{provide:Gd,useValue:!0}]:[{provide:hu,useValue:Object.assign(Object.assign({},Ng),t)},{provide:R_,useValue:r,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gd),u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[E0,NV,HV],E0,NV,HV]}),n})(),n6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[_3]}),n.\u0275inj=u.cJS({providers:[],imports:[[t6,$o,d3,Lp,wl.hO.initializeApp(fV_firebaseConfig),d$,y3,pz,wd,Q0,jO,Iv,Tm,m$,a3]]}),n})();(0,u.G48)(),Ho().bootstrapModule(n6).catch(n=>console.error(n))},5867:(st,Ce,F)=>{"use strict";F.d(Ce,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=F(9681);(0,u.registerVersion)("firebase","9.6.1","app")},127:(st,Ce,F)=>{"use strict";F.d(Ce,{Z:()=>u.Z});var u=F(3942);u.Z.registerVersion("firebase","9.6.1","app-compat")},9259:(st,Ce,F)=>{"use strict";F.r(Ce);var u=F(5861),J=F(3942),N=F(2090),ce=F(9681);function ae(y,f){var g={};for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&f.indexOf(w)<0&&(g[w]=y[w]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(w=Object.getOwnPropertySymbols(y);S<w.length;S++)f.indexOf(w[S])<0&&Object.prototype.propertyIsEnumerable.call(y,w[S])&&(g[w[S]]=y[w[S]])}return g}var Pe=F(1877),fe=F(4859);const Ar=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ur=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ln=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sn=new Pe.Yd("@firebase/auth");function pi(y,...f){Sn.logLevel<=Pe.in.ERROR&&Sn.error(`Auth (${ce.SDK_VERSION}): ${y}`,...f)}function Ut(y,...f){throw Hi(y,...f)}function En(y,...f){return Hi(y,...f)}function Po(y,f,g){const w=Object.assign(Object.assign({},Ur()),{[f]:g});return new N.LL("auth","Firebase",w).create(f,{appName:y.name})}function gi(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ut(y,"argument-error"),Po(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hi(y,...f){if("string"!=typeof y){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return ln.create(y,...f)}function Ie(y,f,...g){if(!y)throw Hi(f,...g)}function Qn(y){const f="INTERNAL ASSERTION FAILED: "+y;throw pi(f),new Error(f)}function Bn(y,f){y||Qn(f)}const gt=new Map;function Gt(y){Bn(y instanceof Function,"Expected a class definition");let f=gt.get(y);return f?(Bn(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,gt.set(y,f),f)}function ct(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function mt(){return"http:"===Ft()||"https:"===Ft()}function Ft(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Wt{constructor(f,g){this.shortDelay=f,this.longDelay=g,Bn(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,N.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ke(y,f){Bn(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class at{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Du={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Os=new Wt(3e4,6e4);function Kt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Et(y,f,g,w){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,u.Z)(function*(y,f,g,w,S={}){return xu(y,S,(0,u.Z)(function*(){let R={},j={};w&&("GET"===f?j=w:R={body:JSON.stringify(w)});const ee=(0,N.xO)(Object.assign({key:y.config.apiKey},j)).slice(1),Ne=yield y._getAdditionalHeaders();return Ne["Content-Type"]="application/json",y.languageCode&&(Ne["X-Firebase-Locale"]=y.languageCode),at.fetch()(be(y,y.config.apiHost,g,ee),Object.assign({method:f,headers:Ne,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function xu(y,f,g){return z.apply(this,arguments)}function z(){return(z=(0,u.Z)(function*(y,f,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Du),f);try{const S=new re(y),R=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const j=yield R.json();if("needConfirmation"in j)throw Qe(y,"account-exists-with-different-credential",j);if(R.ok&&!("errorMessage"in j))return j;{const ee=R.ok?j.errorMessage:j.error.message,[Ne,ke]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw Qe(y,"credential-already-in-use",j);if("EMAIL_EXISTS"===Ne)throw Qe(y,"email-already-in-use",j);const tt=w[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(ke)throw Po(y,tt,ke);Ut(y,tt)}}catch(S){if(S instanceof N.ZR)throw S;Ut(y,"network-request-failed")}})).apply(this,arguments)}function U(y,f,g,w){return q.apply(this,arguments)}function q(){return(q=(0,u.Z)(function*(y,f,g,w,S={}){const R=yield Et(y,f,g,w,S);return"mfaPendingCredential"in R&&Ut(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function be(y,f,g,w){const S=`${f}${g}?${w}`;return y.config.emulator?Ke(y.config,S):`${y.config.apiScheme}://${S}`}class re{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(En(this.auth,"timeout")),Os.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qe(y,f,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const S=En(y,f,w);return S.customData._tokenResponse=g,S}function Yt(){return(Yt=(0,u.Z)(function*(y,f){return Et(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function lr(y,f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(y,f){return Et(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Hr(y,f){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(y,f){return Et(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ur(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function ba(){return(ba=(0,u.Z)(function*(y,f=!1){const g=(0,N.m9)(y),w=yield g.getIdToken(f),S=uo(w);Ie(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,j=null==R?void 0:R.sign_in_provider;return{claims:S,token:w,authTime:ur(Dl(S.auth_time)),issuedAtTime:ur(Dl(S.iat)),expirationTime:ur(Dl(S.exp)),signInProvider:j||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Dl(y){return 1e3*Number(y)}function uo(y){const[f,g,w]=y.split(".");if(void 0===f||void 0===g||void 0===w)return pi("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,N.tV)(g);return S?JSON.parse(S):(pi("Failed to decode base64 JWT payload"),null)}catch(S){return pi("Caught error parsing JWT payload as JSON",S),null}}function un(y,f){return yi.apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof N.ZR&&ei(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function ei({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class cr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class xl{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function as(y){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(y){var f;const g=y.auth,w=yield y.getIdToken(),S=yield un(y,Hr(g,{idToken:w}));Ie(null==S?void 0:S.users.length,g,"internal-error");const R=S.users[0];y._notifyReloadListener(R);const j=(null===(f=R.providerUserInfo)||void 0===f?void 0:f.length)?Oc(R.providerUserInfo):[],ee=Rn(y.providerData,j),tt=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==ee?void 0:ee.length)),nt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ee,metadata:new xl(R.createdAt,R.lastLoginAt),isAnonymous:tt};Object.assign(y,nt)})).apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(y){const f=(0,N.m9)(y);yield as(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Rn(y,f){return[...y.filter(w=>!f.some(S=>S.providerId===w.providerId)),...f]}function Oc(y){return y.map(f=>{var{providerId:g}=f,w=ae(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function He(){return(He=(0,u.Z)(function*(y,f){const g=yield xu(y,{},(0,u.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:R}=y.config,j=be(y,S,"/v1/token",`key=${R}`),ee=yield y._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",at.fetch()(j,{method:"POST",headers:ee,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ie(f.idToken,"internal-error"),Ie(void 0!==f.idToken,"internal-error"),Ie(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(y){const f=uo(y);return Ie(f,"internal-error"),Ie(void 0!==f.exp,"internal-error"),Ie(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,u.Z)(function*(){return Ie(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:j}=yield function(y,f){return He.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(S,R,Number(j))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:S,expirationTime:R}=g,j=new Ct;return w&&(Ie("string"==typeof w,"internal-error",{appName:f}),j.refreshToken=w),S&&(Ie("string"==typeof S,"internal-error",{appName:f}),j.accessToken=S),R&&(Ie("number"==typeof R,"internal-error",{appName:f}),j.expirationTime=R),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ct,this.toJSON())}_performRefresh(){return Qn("not implemented")}}function zt(y,f){Ie("string"==typeof y||void 0===y,"internal-error",{appName:f})}class In{constructor(f){var{uid:g,auth:w,stsTokenManager:S}=f,R=ae(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new xl(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.Z)(function*(){const w=yield un(g,g.stsTokenManager.getToken(g.auth,f));return Ie(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function(y){return ba.apply(this,arguments)}(this,f)}reload(){return function(y){return ls.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new In(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,u.Z)(function*(){let S=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield as(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,u.Z)(function*(){const g=yield f.getIdToken();return yield un(f,function(y,f){return Yt.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,S,R,j,ee,Ne,ke,tt;const nt=null!==(w=g.displayName)&&void 0!==w?w:void 0,Mt=null!==(S=g.email)&&void 0!==S?S:void 0,Wn=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Js=null!==(j=g.photoURL)&&void 0!==j?j:void 0,Xs=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,wd=null!==(Ne=g._redirectEventId)&&void 0!==Ne?Ne:void 0,ug=null!==(ke=g.createdAt)&&void 0!==ke?ke:void 0,Pn=null!==(tt=g.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:rr,emailVerified:cg,isAnonymous:hf,providerData:bd,stsTokenManager:ff}=g;Ie(rr&&ff,f,"internal-error");const Ed=Ct.fromJSON(this.name,ff);Ie("string"==typeof rr,f,"internal-error"),zt(nt,f.name),zt(Mt,f.name),Ie("boolean"==typeof cg,f,"internal-error"),Ie("boolean"==typeof hf,f,"internal-error"),zt(Wn,f.name),zt(Js,f.name),zt(Xs,f.name),zt(wd,f.name),zt(ug,f.name),zt(Pn,f.name);const Cd=new In({uid:rr,auth:f,email:Mt,emailVerified:cg,displayName:nt,isAnonymous:hf,photoURL:Js,phoneNumber:Wn,tenantId:Xs,stsTokenManager:Ed,createdAt:ug,lastLoginAt:Pn});return bd&&Array.isArray(bd)&&(Cd.providerData=bd.map(oa=>Object.assign({},oa))),wd&&(Cd._redirectEventId=wd),Cd}static _fromIdTokenResponse(f,g,w=!1){return(0,u.Z)(function*(){const S=new Ct;S.updateFromServerResponse(g);const R=new In({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:w});return yield as(R),R})()}}const mn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,w){var S=this;return(0,u.Z)(function*(){S.storage[g]=w})()}_get(g){var w=this;return(0,u.Z)(function*(){const S=w.storage[g];return void 0===S?null:S})()}_remove(g){var w=this;return(0,u.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function Jn(y,f,g){return`firebase:${y}:${f}:${g}`}class nn{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:S,name:R}=this.auth;this.fullUserKey=Jn(this.userKey,S.apiKey,R),this.fullPersistenceKey=Jn("persistence",S.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?In._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,u.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,u.Z)(function*(){if(!g.length)return new nn(Gt(mn),f,w);const S=(yield Promise.all(g.map(function(){var ke=(0,u.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return ke.apply(this,arguments)}}()))).filter(ke=>ke);let R=S[0]||Gt(mn);const j=Jn(w,f.config.apiKey,f.name);let ee=null;for(const ke of g)try{const tt=yield ke._get(j);if(tt){const nt=In._fromJSON(f,tt);ke!==R&&(ee=nt),R=ke;break}}catch(tt){}const Ne=S.filter(ke=>ke._shouldAllowMigration);return R._shouldAllowMigration&&Ne.length?(R=Ne[0],ee&&(yield R._set(j,ee.toJSON())),yield Promise.all(g.map(function(){var ke=(0,u.Z)(function*(tt){if(tt!==R)try{yield tt._remove(j)}catch(nt){}});return function(tt){return ke.apply(this,arguments)}}())),new nn(R,f,w)):new nn(R,f,w)})()}}function Un(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ns(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Lo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(_i(f))return"Blackberry";if(yr(f))return"Webos";if(Dt(f))return"Safari";if((f.includes("chrome/")||ho(f))&&!f.includes("edge/"))return"Chrome";if(fo(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Lo(y=(0,N.z$)()){return/firefox\//i.test(y)}function Dt(y=(0,N.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ho(y=(0,N.z$)()){return/crios\//i.test(y)}function Ns(y=(0,N.z$)()){return/iemobile/i.test(y)}function fo(y=(0,N.z$)()){return/android/i.test(y)}function _i(y=(0,N.z$)()){return/blackberry/i.test(y)}function yr(y=(0,N.z$)()){return/webos/i.test(y)}function us(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)}function Vo(y=(0,N.z$)()){return us(y)||fo(y)||yr(y)||_i(y)||/windows phone/i.test(y)||Ns(y)}function wi(y,f=[]){let g;switch(y){case"Browser":g=Un((0,N.z$)());break;case"Worker":g=`${Un((0,N.z$)())}-${y}`;break;default:g=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${w}`}class zi{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cs(this),this.idTokenSubscription=new cs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ln,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=Gt(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,R;if(!w._deleted&&(w.persistenceManager=yield nn.create(w,f),!w._deleted)){if(null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(j){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,u.Z)(function*(){var w;let S=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,j=null==S?void 0:S._redirectEventId,ee=yield g.tryRedirectSignIn(f);(!R||R===j)&&(null==ee?void 0:ee.user)&&(S=ee.user)}return S?S._redirectEventId?(Ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,u.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(S){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,u.Z)(function*(){try{yield as(f)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){const w=f?(0,N.m9)(f):null;return w&&Ie(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return f&&Ie(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Gt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,u.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&Gt(f)||g._popupRedirectResolver;Ie(w,g,"argument-error"),g.redirectPersistenceManager=yield nn.create(g,[Gt(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,u.Z)(function*(){var w,S;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,u.Z)(function*(){if(f===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,S){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),j=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(j,this,"internal-error"),j.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,w,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){const g={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(g["X-Firebase-gmpid"]=f.app.options.appId),g})()}}function qn(y){return(0,N.m9)(y)}class cs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ir(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Ip(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Bo{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Qn("not implemented")}_getIdTokenResponse(f){return Qn("not implemented")}_linkToIdToken(f,g){return Qn("not implemented")}_getReauthenticationResolver(f){return Qn("not implemented")}}function bh(y,f){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,u.Z)(function*(y,f){return Et(y,"POST","/v1/accounts:resetPassword",Kt(y,f))})).apply(this,arguments)}function Eh(y,f){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,u.Z)(function*(y,f){return Et(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Tp(y,f){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(y,f){return Et(y,"POST","/v1/accounts:update",Kt(y,f))})).apply(this,arguments)}function Pc(){return(Pc=(0,u.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithPassword",Kt(y,f))})).apply(this,arguments)}function Tu(y,f){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,u.Z)(function*(y,f){return Et(y,"POST","/v1/accounts:sendOobCode",Kt(y,f))})).apply(this,arguments)}function Mp(y,f){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,u.Z)(function*(y,f){return Tu(y,f)})).apply(this,arguments)}function Rp(y,f){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,u.Z)(function*(y,f){return Tu(y,f)})).apply(this,arguments)}function Sl(y,f){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(y,f){return Tu(y,f)})).apply(this,arguments)}function Mu(y,f){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(y,f){return Tu(y,f)})).apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,f))})).apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,f))})).apply(this,arguments)}class jo extends Bo{constructor(f,g,w,S=null){super("password",w),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new jo(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new jo(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function(y,f){return Pc.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,f){return qi.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ut(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return Eh(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(y,f){return Ps.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:Ut(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ls(y,f){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithIdp",Kt(y,f))})).apply(this,arguments)}class dr extends Bo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new dr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ut("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:S}=g,R=ae(g,["providerId","signInMethod"]);if(!w||!S)return null;const j=new dr(w,S);return j.idToken=R.idToken||void 0,j.accessToken=R.accessToken||void 0,j.secret=R.secret,j.nonce=R.nonce,j.pendingToken=R.pendingToken||null,j}_getIdTokenResponse(f){return Ls(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Ls(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Ls(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,N.xO)(g)}return f}}function ds(y,f){return Da.apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(y,f){return Et(y,"POST","/v1/accounts:sendVerificationCode",Kt(y,f))})).apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,f))})).apply(this,arguments)}function ku(){return(ku=(0,u.Z)(function*(y,f){const g=yield U(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,f));if(g.temporaryProof)throw Qe(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Tl={USER_NOT_FOUND:"user-not-found"};function xa(){return(xa=(0,u.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Tl)})).apply(this,arguments)}class po extends Bo{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new po({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new po({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(y,f){return Tn.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(y,f){return ku.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(y,f){return xa.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:R}=f;return w||g||S||R?new po({verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:R}):null}}class Vs{constructor(f){var g,w,S,R,j,ee;const Ne=(0,N.zd)((0,N.pd)(f)),ke=null!==(g=Ne.apiKey)&&void 0!==g?g:null,tt=null!==(w=Ne.oobCode)&&void 0!==w?w:null,nt=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ne.mode)&&void 0!==S?S:null);Ie(ke&&tt&&nt,"argument-error"),this.apiKey=ke,this.operation=nt,this.code=tt,this.continueUrl=null!==(R=Ne.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(j=Ne.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ee=Ne.tenantId)&&void 0!==ee?ee:null}static parseLink(f){const g=function(y){const f=(0,N.zd)((0,N.pd)(y)).link,g=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||g||f||y}(f);try{return new Vs(g)}catch(w){return null}}}let go=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return jo._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const S=Vs.parseLink(w);return Ie(S,"argument-error"),jo._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Tr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ei extends Tr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class On extends Ei{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Ie("providerId"in g&&"signInMethod"in g,"argument-error"),dr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ie(f.idToken||f.accessToken,"argument-error"),dr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return On.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return On.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:R,nonce:j,providerId:ee}=f;if(!w&&!S&&!g&&!R||!ee)return null;try{return new On(ee)._credential({idToken:g,accessToken:w,nonce:j,pendingToken:R})}catch(Ne){return null}}}let Ml=(()=>{class y extends Ei{constructor(){super("facebook.com")}static credential(g){return dr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),mo=(()=>{class y extends Ei{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return dr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:S}=g;if(!w&&!S)return null;try{return y.credential(w,S)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),yo=(()=>{class y extends Ei{constructor(){super("github.com")}static credential(g){return dr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class fs extends Bo{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Ls(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Ls(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Ls(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:S,pendingToken:R}=g;return w&&S&&R&&w===S?new fs(w,R):null}static _create(f,g){return new fs(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _o extends Tr{constructor(f){Ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return _o.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return _o.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=fs.fromJSON(f);return Ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return fs._create(w,g)}catch(S){return null}}}let Mr=(()=>{class y extends Ei{constructor(){super("twitter.com")}static credential(g,w){return dr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=g;if(!w||!S)return null;try{return y.credential(w,S)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Sa(y,f){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signUp",Kt(y,f))})).apply(this,arguments)}class Xe{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,S=!1){return(0,u.Z)(function*(){const R=yield In._fromIdTokenResponse(f,w,S),j=Rl(w);return new Xe({user:R,providerId:j,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const S=Rl(w);return new Xe({user:f,providerId:S,_tokenResponse:w,operationType:g})})()}}function Rl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Go(){return(Go=(0,u.Z)(function*(y){var f;const g=qn(y);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Xe({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Sa(g,{returnSecureToken:!0}),S=yield Xe._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ta extends N.ZR{constructor(f,g,w,S){var R;super(g.code,g.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Ta.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,S){return new Ta(f,g,w,S)}}function kl(y,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Ta._fromErrorAndOperation(y,R,f,w):R})}function Ol(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Ae(){return(Ae=(0,u.Z)(function*(y,f){const g=(0,N.m9)(y);yield yn(!0,g,f);const{providerUserInfo:w}=yield lr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=Ol(w||[]);return g.providerData=g.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Nt(y,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(y,f,g=!1){const w=yield un(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return Xe._forOperation(y,"link",w)})).apply(this,arguments)}function yn(y,f,g){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(y,f,g){yield as(f);const S=!1===y?"provider-already-linked":"no-such-provider";Ie(Ol(f.providerData).has(g)===y,f.auth,S)})).apply(this,arguments)}function gs(y,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(y,f,g=!1){const{auth:w}=y,S="reauthenticate";try{const R=yield un(y,kl(w,S,f,y),g);Ie(R.idToken,w,"internal-error");const j=uo(R.idToken);Ie(j,w,"internal-error");const{sub:ee}=j;return Ie(y.uid===ee,w,"user-mismatch"),Xe._forOperation(y,S,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Ut(w,"user-mismatch"),R}})).apply(this,arguments)}function Fl(y,f){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(y,f,g=!1){const w="signIn",S=yield kl(y,w,f),R=yield Xe._fromIdTokenResponse(y,w,S);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Fu(y,f){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,u.Z)(function*(y,f){return Fl(qn(y),f)})).apply(this,arguments)}function Ra(y,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,u.Z)(function*(y,f){const g=(0,N.m9)(y);return yield yn(!1,g,f.providerId),Nt(g,f)})).apply(this,arguments)}function Xn(y,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(y,f){return gs((0,N.m9)(y),f)})).apply(this,arguments)}function ka(y,f){return Us.apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithCustomToken",Kt(y,f))})).apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(y,f){const g=qn(y),w=yield ka(g,{token:f,returnSecureToken:!0}),S=yield Xe._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Fa{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Na._fromServerResponse(f,g):Ut(f,"internal-error")}}class Na extends Fa{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Na(g)}}function Nl(y,f,g){var w;Ie((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),Ie(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ie(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Ie(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Ho(){return(Ho=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y),S={requestType:"PASSWORD_RESET",email:f};g&&Nl(w,S,g),yield Rp(w,S)})).apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(y,f,g){yield bh((0,N.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(y,f){yield Tp((0,N.m9)(y),{oobCode:f})})).apply(this,arguments)}function Vl(y,f){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(y,f){const g=(0,N.m9)(y),w=yield bh(g,{oobCode:f}),S=w.requestType;switch(Ie(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(w.mfaInfo,g,"internal-error");default:Ie(w.email,g,"internal-error")}let R=null;return w.mfaInfo&&(R=Fa._fromServerResponse(qn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(y,f){const{data:g}=yield Vl((0,N.m9)(y),f);return g.email})).apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(y,f,g){const w=qn(y),S=yield Sa(w,{returnSecureToken:!0,email:f,password:g}),R=yield Xe._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y),S={requestType:"EMAIL_SIGNIN",email:f};Ie(g.handleCodeInApp,w,"argument-error"),g&&Nl(w,S,g),yield Sl(w,S)})).apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y),S=go.credentialWithLink(f,g||ct());return Ie(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Fu(w,S)})).apply(this,arguments)}function xh(y,f){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,u.Z)(function*(y,f){return Et(y,"POST","/v1/accounts:createAuthUri",Kt(y,f))})).apply(this,arguments)}function Sh(){return(Sh=(0,u.Z)(function*(y,f){const w={identifier:f,continueUri:mt()?ct():"http://localhost"},{signinMethods:S}=yield xh((0,N.m9)(y),w);return S||[]})).apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(y,f){const g=(0,N.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Nl(g.auth,S,f);const{email:R}=yield Mp(g.auth,S);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&Nl(w.auth,R,g);const{email:j}=yield Mu(w.auth,R);j!==y.email&&(yield y.reload())})).apply(this,arguments)}function qc(y,f){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,u.Z)(function*(y,f){return Et(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,N.m9)(y),R={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},j=yield un(w,qc(w.auth,R));w.displayName=j.displayName||null,w.photoURL=j.photoUrl||null;const ee=w.providerData.find(({providerId:Ne})=>"password"===Ne);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(j)})).apply(this,arguments)}function Ih(y,f,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(y,f,g){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const j=yield un(y,Eh(w,R));yield y._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class bo{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class jl extends bo{constructor(f,g,w,S){super(f,g,w),this.username=S}}class Th extends bo{constructor(f,g){super(f,"facebook.com",g)}}class yy extends jl{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ms extends bo{constructor(f,g){super(f,"google.com",g)}}class vn extends jl{constructor(f,g,w){super(f,"twitter.com",g,w)}}function Je(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var f,g;if(!y)return null;const{providerId:w}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const j=null===(g=null===(f=uo(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(j)return new bo(R,"anonymous"!==j&&"custom"!==j?j:null)}if(!w)return null;switch(w){case"facebook.com":return new Th(R,S);case"github.com":return new yy(R,S);case"google.com":return new ms(R,S);case"twitter.com":return new vn(R,S,y.screenName||null);case"custom":case"anonymous":return new bo(R,null);default:return new bo(R,w,S)}}(g)}class ys{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new ys("enroll",f)}static _fromMfaPendingCredential(f){return new ys("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ys._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return ys._fromIdtoken(f.multiFactorSession.idToken)}return null}}class qo{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=qn(f),S=g.customData._serverResponse,R=(S.mfaInfo||[]).map(ee=>Fa._fromServerResponse(w,ee));Ie(S.mfaPendingCredential,w,"internal-error");const j=ys._fromMfaPendingCredential(S.mfaPendingCredential);return new qo(j,R,function(){var ee=(0,u.Z)(function*(Ne){const ke=yield Ne._process(w,j);delete S.mfaInfo,delete S.mfaPendingCredential;const tt=Object.assign(Object.assign({},S),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(g.operationType){case"signIn":const nt=yield Xe._fromIdTokenResponse(w,g.operationType,tt);return yield w._updateCurrentUser(nt.user),nt;case"reauthenticate":return Ie(g.user,w,"internal-error"),Xe._forOperation(g.user,g.operationType,tt);default:Ut(w,"internal-error")}});return function(Ne){return ee.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.Z)(function*(){return g.signInResolver(f)})()}}function Mh(y,f){return Et(y,"POST","/v2/accounts/mfaEnrollment:start",Kt(y,f))}class $a{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Fa._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new $a(f)}getSession(){var f=this;return(0,u.Z)(function*(){return ys._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var w=this;return(0,u.Z)(function*(){const S=f,R=yield w.getSession(),j=yield un(w.user,S._process(w.user.auth,R,g));return yield w.user._updateTokensIfNecessary(j),w.user.reload()})()}unenroll(f){var g=this;return(0,u.Z)(function*(){const w="string"==typeof f?f:f.uid,S=yield g.user.getIdToken(),R=yield un(g.user,function(y,f){return Et(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(y,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:j})=>j!==w),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(j){if("auth/user-token-expired"!==j.code)throw j}})()}}const Hs=new WeakMap,fr="__sak";class kh{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(fr,"1"),this.storage.removeItem(fr),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wo=(()=>{class y extends kh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,N.z$)();return Dt(y)||us(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Vo(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),R=this.localCache[w];S!==R&&g(w,R,S)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ee,Ne,ke)=>{this.notifyListeners(ee,ke)});const S=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(S);if(g.newValue!==ee)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!w)return}const R=()=>{const ee=this.storage.getItem(S);!w&&this.localCache[S]===ee||this.notifyListeners(S,ee)},j=this.storage.getItem(S);(0,N.w1)()&&10===document.documentMode&&j!==g.newValue&&g.newValue!==g.oldValue?setTimeout(R,10):R()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var S=()=>super._set,R=this;return(0,u.Z)(function*(){yield S().call(R,g,w),R.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,S=this;return(0,u.Z)(function*(){const R=yield w().call(S,g);return S.localCache[g]=JSON.stringify(R),R})()}_remove(g){var w=()=>super._remove,S=this;return(0,u.Z)(function*(){yield w().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),jn=(()=>{class y extends kh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Zc=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(R=>R.isListeningto(g));if(w)return w;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,u.Z)(function*(){const S=g,{eventId:R,eventType:j,data:ee}=S.data,Ne=w.handlersMap[j];if(!(null==Ne?void 0:Ne.size))return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:j});const ke=Array.from(Ne).map(function(){var nt=(0,u.Z)(function*(Mt){return Mt(S.origin,ee)});return function(Mt){return nt.apply(this,arguments)}}()),tt=yield function(y){return Promise.all(y.map(function(){var f=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(ke);S.ports[0].postMessage({status:"done",eventId:R,eventType:j,response:tt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function $s(y="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return y+g}class Wa{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var S=this;return(0,u.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let j,ee;return new Promise((Ne,ke)=>{const tt=$s("",20);R.port1.start();const nt=setTimeout(()=>{ke(new Error("unsupported_event"))},w);ee={messageChannel:R,onMessage(Mt){const Wn=Mt;if(Wn.data.eventId===tt)switch(Wn.data.status){case"ack":clearTimeout(nt),j=setTimeout(()=>{ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Ne(Wn.data.response);break;default:clearTimeout(nt),clearTimeout(j),ke(new Error("invalid_response"))}}},S.handlers.add(ee),R.port1.addEventListener("message",ee.onMessage),S.target.postMessage({eventType:f,eventId:tt,data:g},[R.port2])}).finally(()=>{ee&&S.removeMessageHandler(ee)})})()}}function pn(){return window}function Ko(){return void 0!==pn().WorkerGlobalScope&&"function"==typeof pn().importScripts}function _s(){return(_s=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Hl="firebaseLocalStorageDb",Ki="firebaseLocalStorage",_y="fbase_key";class $l{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function wn(y,f){return y.transaction([Ki],f?"readwrite":"readonly").objectStore(Ki)}function Fh(){const y=indexedDB.open(Hl,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Ki,{keyPath:_y})}catch(S){g(S)}}),y.addEventListener("success",(0,u.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Ki)?f(w):(w.close(),yield function(){const y=indexedDB.deleteDatabase(Hl);return new $l(y).toPromise()}(),f(yield Fh()))}))})}function Nh(y,f,g){return ju.apply(this,arguments)}function ju(){return(ju=(0,u.Z)(function*(y,f,g){const w=wn(y,!0).put({[_y]:f,value:g});return new $l(w).toPromise()})).apply(this,arguments)}function Gu(){return(Gu=(0,u.Z)(function*(y,f){const g=wn(y,!1).get(f),w=yield new $l(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Yc(y,f){const g=wn(y,!0).delete(f);return new $l(g).toPromise()}const Qo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Fh()),g.db})()}_withRetries(g){var w=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const R=yield w._openDb();return yield g(R)}catch(R){if(S++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Ko()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Zc._getInstance(Ko()?self:null),g.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(S,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(S,R){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var w,S;if(g.activeServiceWorker=yield function(){return _s.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Wa(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Fh();return yield Nh(g,fr,"1"),yield Yc(g,fr),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(R=>Nh(R,g,w)),S.localCache[g]=w,S.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,u.Z)(function*(){const S=yield w._withRetries(R=>function(y,f){return Gu.apply(this,arguments)}(R,g));return w.localCache[g]=S,S})()}_remove(g){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(S=>Yc(S,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const w=yield g._withRetries(j=>{const ee=wn(j,!1).getAll();return new $l(ee).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:j,value:ee}of w)R.add(j),JSON.stringify(g.localCache[j])!==JSON.stringify(ee)&&(g.notifyListeners(j,ee),S.push(j));for(const j of Object.keys(g.localCache))g.localCache[j]&&!R.has(j)&&(g.notifyListeners(j,null),S.push(j));return S})()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ka(y,f){return Et(y,"POST","/v2/accounts/mfaSignIn:start",Kt(y,f))}function ri(){return(ri=(0,u.Z)(function*(y){return(yield Et(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hu(y){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=S=>{const R=En("internal-error");R.customData=S,g(R)},w.type="text/javascript",w.charset="UTF-8",function(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}function $r(y){return`__${y}${Math.floor(1e6*Math.random())}`}const zl=1e12;class ql{constructor(f){this.auth=f,this.counter=zl,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new Wl(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||zl;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||zl))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,u.Z)(function*(){var w;return null===(w=g._widgets.get(f||zl))||void 0===w||w.execute(),""})()}}class Wl{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;Ie(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zl=$r("rcb"),vr=new Wt(3e4,6e4);class Yl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pn().grecaptcha}load(f,g=""){return Ie((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(pn().grecaptcha):new Promise((w,S)=>{const R=pn().setTimeout(()=>{S(En(f,"network-request-failed"))},vr.get());pn()[Zl]=()=>{pn().clearTimeout(R),delete pn()[Zl];const ee=pn().grecaptcha;if(!ee)return void S(En(f,"internal-error"));const Ne=ee.render;ee.render=(ke,tt)=>{const nt=Ne(ke,tt);return this.counter++,nt},this.hostLanguage=g,w(ee)},Hu(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Zl,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),S(En(f,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!pn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bp{load(f){return(0,u.Z)(function*(){return new ql(f)})()}clearedOneInstance(){}}const Lh="recaptcha",Xc={theme:"light",type:"image"};class Si{constructor(f,g=Object.assign({},Xc),w){this.parameters=g,this.type=Lh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(w),this.isInvisible="invisible"===this.parameters.size,Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;Ie(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bp:new Yl,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(R=>{const j=ee=>{!ee||(f.tokenChangeListeners.delete(j),R(ee))};f.tokenChangeListeners.add(j),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=pn()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){Ie(mt()&&!Ko(),f.auth,"internal-error"),yield function(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(y){return ri.apply(this,arguments)}(f.auth);Ie(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qa{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=po._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function zr(){return(zr=(0,u.Z)(function*(y,f,g){const w=qn(y),S=yield Yi(w,f,(0,N.m9)(g));return new Qa(S,R=>Fu(w,R))})).apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y);yield yn(!1,w,"phone");const S=yield Yi(w.auth,f,(0,N.m9)(g));return new Qa(S,R=>Ra(w,R))})).apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y),S=yield Yi(w.auth,f,(0,N.m9)(g));return new Qa(S,R=>Xn(w,R))})).apply(this,arguments)}function Yi(y,f,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(y,f,g){var w;const S=yield g.verify();try{let R;if(Ie("string"==typeof S,y,"argument-error"),Ie(g.type===Lh,y,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const j=R.session;if("phoneNumber"in R)return Ie("enroll"===j.type,y,"internal-error"),(yield Mh(y,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Ie("signin"===j.type,y,"internal-error");const ee=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return Ie(ee,y,"missing-multi-factor-info"),(yield Ka(y,{mfaPendingCredential:j.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield ds(y,{phoneNumber:R.phoneNumber,recaptchaToken:S});return j}}finally{g._reset()}})).apply(this,arguments)}function Ql(){return(Ql=(0,u.Z)(function*(y,f){yield Nt((0,N.m9)(y),f)})).apply(this,arguments)}let D=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=qn(g)}verifyPhoneNumber(g,w){return Yi(this.auth,g,(0,N.m9)(w))}static credential(g,w){return po._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:S}=g;return w&&S?po._fromTokenResponse(w,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function x(y,f){return f?Gt(f):(Ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class O extends Bo{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ls(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Ls(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Ls(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function V(y){return Fl(y.auth,new O(y),y.bypassAuthState)}function Y(y){const{auth:f,user:g}=y;return Ie(g,f,"internal-error"),gs(g,new O(y),y.bypassAuthState)}function ie(y){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(y){const{auth:f,user:g}=y;return Ie(g,f,"internal-error"),Nt(g,new O(y),y.bypassAuthState)})).apply(this,arguments)}class Ye{constructor(f,g,w,S,R=!1){this.auth=f,this.resolver=w,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.Z)(function*(w,S){f.pendingPromise={resolve:w,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(w,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:R,tenantId:j,error:ee,type:Ne}=f;if(ee)return void g.reject(ee);const ke={auth:g.auth,requestUri:w,sessionId:S,tenantId:j||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ne)(ke))}catch(tt){g.reject(tt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return V;case"linkViaPopup":case"linkViaRedirect":return ie;case"reauthViaPopup":case"reauthViaRedirect":return Y;default:Ut(this.auth,"internal-error")}}resolve(f){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const We=new Wt(2e3,1e4);function Jt(){return(Jt=(0,u.Z)(function*(y,f,g){const w=qn(y);gi(y,f,Tr);const S=x(w,g);return new Ws(w,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y);gi(w.auth,f,Tr);const S=x(w.auth,g);return new Ws(w.auth,"reauthViaPopup",f,S,w).executeNotNull()})).apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y);gi(w.auth,f,Tr);const S=x(w.auth,g);return new Ws(w.auth,"linkViaPopup",f,S,w).executeNotNull()})).apply(this,arguments)}let Ws=(()=>{class y extends Ye{constructor(g,w,S,R,j){super(g,w,R,j),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const w=yield g.execute();return Ie(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,u.Z)(function*(){Bn(1===g.filter.length,"Popup operations only handle one event");const w=$s();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(En(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,We.get())};g()}}return y.currentPopupAction=null,y})();const Wr=new Map;class Qi extends Ye{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.Z)(function*(){let w=Wr.get(g.auth._key());if(!w){try{const R=(yield function(y,f){return ea.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(R)}catch(S){w=()=>Promise.reject(S)}Wr.set(g.auth._key(),w)}return g.bypassAuthState||Wr.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const S=yield w.auth._redirectUserForId(f.eventId);if(S)return w.user=S,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function ea(){return(ea=(0,u.Z)(function*(y,f){const g=ws(f),w=Xa(y);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(g));return yield w._remove(g),S})).apply(this,arguments)}function Zs(y,f){return qu.apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(y,f){return Xa(y)._set(ws(f),"true")})).apply(this,arguments)}function Xa(y){return Gt(y._redirectPersistence)}function ws(y){return Jn("pendingRedirect",y.config.apiKey,y.name)}function Wu(){return(Wu=(0,u.Z)(function*(y,f,g){const w=qn(y);gi(y,f,Tr);const S=x(w,g);return yield Zs(S,w),S._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function Co(){return(Co=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y);gi(w.auth,f,Tr);const S=x(w.auth,g);yield Zs(S,w.auth);const R=yield Bh(w);return S._openRedirect(w.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y);gi(w.auth,f,Tr);const S=x(w.auth,g);yield yn(!1,w,f.providerId),yield Zs(S,w.auth);const R=yield Bh(w);return S._openRedirect(w.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(y,f){return yield qn(y)._initializationPromise,tl(y,f,!1)})).apply(this,arguments)}function tl(y,f){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,u.Z)(function*(y,f,g=!1){const w=qn(y),S=x(w,f),j=yield new Qi(w,S,g).execute();return j&&!g&&(delete j.user._redirectEventId,yield w._persistUserIfCurrent(j.user),yield w._setRedirectUser(null,f)),j})).apply(this,arguments)}function Bh(y){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,u.Z)(function*(y){const f=$s(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class id{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ku(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!Ku(f)){const S=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(En(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zr(f))}saveEventToCache(f){this.cachedEventUids.add(Zr(f)),this.lastProcessedEventTime=Date.now()}}function Zr(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Ku({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Gp(y){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,u.Z)(function*(y,f={}){return Et(y,"GET","/v1/projects",f)})).apply(this,arguments)}const wy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sd=/^https?/;function Ji(){return(Ji=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Gp(y);for(const g of f)try{if(nl(g))return}catch(w){}Ut(y,"unauthorized-domain")})).apply(this,arguments)}function nl(y){const f=ct(),{protocol:g,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const j=new URL(y);return""===j.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&j.hostname===w}if(!sd.test(g))return!1;if(wy.test(y))return w===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Hp=new Wt(3e4,6e4);function ad(){const y=pn().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let ld=null;function by(y){return ld=ld||function(y){return new Promise((f,g)=>{var w,S,R;function j(){ad(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ad(),g(En(y,"network-request-failed"))},timeout:Hp.get()})}if(null===(S=null===(w=pn().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(R=pn().gapi)||void 0===R?void 0:R.load)){const ee=$r("iframefcb");return pn()[ee]=()=>{gapi.load?j():g(En(y,"network-request-failed"))},Hu(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Ne=>g(Ne))}j()}}).catch(f=>{throw ld=null,f})}(y),ld}const Ey=new Wt(5e3,15e3),ud={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rl(y){const f=y.config;Ie(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Ke(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:y.name,v:ce.SDK_VERSION},S=Dy.get(y.config.apiHost);S&&(w.eid=S);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${g}?${(0,N.xO)(w).slice(1)}`}function Yu(){return Yu=(0,u.Z)(function*(y){const f=yield by(y),g=pn().gapi;return Ie(g,y,"internal-error"),f.open({where:document.body,url:rl(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ud,dontclear:!0},w=>new Promise(function(){var S=(0,u.Z)(function*(R,j){yield w.restyle({setHideOnLeave:!1});const ee=En(y,"network-request-failed"),Ne=pn().setTimeout(()=>{j(ee)},Ey.get());function ke(){pn().clearTimeout(Ne),R(w)}w.ping(ke).then(ke,()=>{j(ee)})});return function(R,j){return S.apply(this,arguments)}}()))}),Yu.apply(this,arguments)}const na={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ra(y,f,g,w,S,R){Ie(y.config.authDomain,y,"auth-domain-config-required"),Ie(y.config.apiKey,y,"invalid-api-key");const j={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:ce.SDK_VERSION,eventId:S};if(f instanceof Tr){f.setDefaultLanguage(y.languageCode),j.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(j.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ne,ke]of Object.entries(R||{}))j[Ne]=ke}if(f instanceof Ei){const Ne=f.getScopes().filter(ke=>""!==ke);Ne.length>0&&(j.scopes=Ne.join(","))}y.tenantId&&(j.tid=y.tenantId);const ee=j;for(const Ne of Object.keys(ee))void 0===ee[Ne]&&delete ee[Ne];return`${function({config:y}){return y.emulator?Ke(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(ee).slice(1)}`}const Xl="webStorageSupport";class Yp extends class{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return Qn("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Yp(f)}_finalizeEnroll(f,g,w){return function(y,f){return Et(y,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(y,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(y,f){return Et(y,"POST","/v2/accounts/mfaSignIn:finalize",Kt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xy=(()=>{class y{constructor(){}static assertion(g){return Yp._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Qp="@firebase/auth";class $h{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{var S;f((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function il(){return window}function qh(){return qh=(0,u.Z)(function*(y,f,g){var w;const{BuildInfo:S}=il();Bn(f.sessionId,"AuthEvent did not contain a session ID");const R=yield Iy(f.sessionId),j={};return us()?j.ibi=S.packageName:fo()?j.apn=S.packageName:Ut(y,"operation-not-supported-in-this-environment"),S.displayName&&(j.appDisplayName=S.displayName),j.sessionId=R,ra(y,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,j)}),qh.apply(this,arguments)}function fd(){return fd=(0,u.Z)(function*(y){const{BuildInfo:f}=il(),g={};us()?g.iosBundleId=f.packageName:fo()?g.androidPackageName=f.packageName:Ut(y,"operation-not-supported-in-this-environment"),yield Gp(y,g)}),fd.apply(this,arguments)}function Wh(){return Wh=(0,u.Z)(function*(y,f,g){const{cordova:w}=il();let S=()=>{};try{yield new Promise((R,j)=>{let ee=null;function Ne(){var nt;R();const Mt=null===(nt=w.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof Mt&&Mt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function ke(){ee||(ee=window.setTimeout(()=>{j(En(y,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===(null==document?void 0:document.visibilityState)&&ke()}f.addPassiveListener(Ne),document.addEventListener("resume",ke,!1),fo()&&document.addEventListener("visibilitychange",tt,!1),S=()=>{f.removePassiveListener(Ne),document.removeEventListener("resume",ke,!1),document.removeEventListener("visibilitychange",tt,!1),ee&&window.clearTimeout(ee)}})}finally{S()}}),Wh.apply(this,arguments)}function Iy(y){return tg.apply(this,arguments)}function tg(){return tg=(0,u.Z)(function*(y){const f=Vw(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")}),tg.apply(this,arguments)}function Vw(y){if(Bn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}y="Browser",(0,ce._registerComponent)(new fe.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),{apiKey:S,authDomain:R}=w.options;return(j=>{Ie(S&&!S.includes(":"),"invalid-api-key",{appName:j.name}),Ie(!(null==R?void 0:R.includes(":")),"argument-error",{appName:j.name});const ee={apiKey:S,authDomain:R,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wi(y)},Ne=new zi(j,ee);return function(y,f){const g=(null==f?void 0:f.persistence)||[],w=(Array.isArray(g)?g:[g]).map(Gt);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(Ne,g),Ne})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new fe.wA("auth-internal",f=>{const g=qn(f.getProvider("auth").getImmediate());return new $h(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Qp,"0.19.4",void 0),(0,ce.registerVersion)(Qp,"0.19.4","esm2017");class kr extends id{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function Xu(y){return Nn.apply(this,arguments)}function Nn(){return Nn=(0,u.Z)(function*(y){const f=yield Qh()._get(ec(y));return f&&(yield Qh()._remove(ec(y))),f}),Nn.apply(this,arguments)}function Yh(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*f.length);y.push(f.charAt(w))}return y.join("")}function Qh(){return Gt(Wo)}function ec(y){return Jn("authEvent",y.config.apiKey,y.name)}function ia(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...g]=y.split("?");return(0,N.zd)(g.join("?"))}function Xh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:En("no-auth-event")}}function pd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function tf(y=(0,N.z$)()){return!("file:"!==pd()&&"ionic:"!==pd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ig(){try{const y=self.localStorage,f=$s();if(y)return y.setItem(f,"1"),y.removeItem(f),!function(y=(0,N.z$)()){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return rf()&&(0,N.hl)()}return!1}function rf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function md(){return("http:"===pd()||"https:"===pd()||(0,N.ru)()||tf())&&!((0,N.b$)()||(0,N.UG)())&&ig()&&!rf()}function yd(){return tf()&&"undefined"!=typeof document}function sf(){return sf=(0,u.Z)(function*(){return!!yd()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})}),sf.apply(this,arguments)}const si={LOCAL:"local",NONE:"none",SESSION:"session"},tc=Ie,af="persistence";function nc(y){return _d.apply(this,arguments)}function _d(){return _d=(0,u.Z)(function*(y){yield y._initializationPromise;const f=Mi(),g=Jn(af,y.config.apiKey,y.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(g,y._getPersistence())}),_d.apply(this,arguments)}function Mi(){return"undefined"!=typeof window?window:null}const Bw=Ie;class ol{constructor(){this.browserResolver=Gt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jn,this._completeRedirectFn=tl}_openPopup(f,g,w,S){var R=this;return(0,u.Z)(function*(){var j;Bn(null===(j=R.eventManagers[f._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ee=ra(f,g,w,ct(),S);return function(y,f,g,w=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),j=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Ne=Object.assign(Object.assign({},na),{width:w.toString(),height:S.toString(),top:R,left:j}),ke=(0,N.z$)().toLowerCase();g&&(ee=ho(ke)?"_blank":g),Lo(ke)&&(f=f||"http://localhost",Ne.scrollbars="yes");const tt=Object.entries(Ne).reduce((Mt,[Wn,Js])=>`${Mt}${Wn}=${Js},`,"");if(function(y=(0,N.z$)()){var f;return us(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(ke)&&"_self"!==ee)return function(y,f){const g=document.createElement("a");g.href=y,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",ee),new jh(null);const nt=window.open(f||"",ee,tt);Ie(nt,y,"popup-blocked");try{nt.focus()}catch(Mt){}return new jh(nt)}(f,ee,$s())})()}_openRedirect(f,g,w,S){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(f),y=ra(f,g,w,ct(),S),pn().location.href=y,new Promise(()=>{});var y})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:R}=this.eventManagers[g];return S?Promise.resolve(S):(Bn(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,u.Z)(function*(){const w=yield function(y){return Yu.apply(this,arguments)}(f),S=new id(f);return w.register("authEvent",R=>(Ie(null==R?void 0:R.authEvent,f,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=w,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Xl,{type:Xl},S=>{var R;const j=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[Xl];void 0!==j&&g(!!j),Ut(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return Ji.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Vo()||Dt()||us()}}),this.cordovaResolver=Gt(class{constructor(){this._redirectPersistence=jn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tl}_initialize(f){var g=this;return(0,u.Z)(function*(){const w=f._key();let S=g.eventManagers.get(w);return S||(S=new kr(f),g.eventManagers.set(w,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){Ut(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,S){var R=this;return(0,u.Z)(function*(){!function(y){var f,g,w,S,R,j,ee,Ne,ke,tt;const nt=il();Ie("function"==typeof(null===(f=null==nt?void 0:nt.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(void 0!==(null===(g=null==nt?void 0:nt.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie("function"==typeof(null===(R=null===(S=null===(w=null==nt?void 0:nt.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(Ne=null===(ee=null===(j=null==nt?void 0:nt.cordova)||void 0===j?void 0:j.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Ne?void 0:Ne.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(tt=null===(ke=null==nt?void 0:nt.cordova)||void 0===ke?void 0:ke.InAppBrowser)||void 0===tt?void 0:tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const j=yield R._initialize(f);yield j.initialized(),j.resetRedirect(),Wr.clear(),yield R._originValidation(f);const ee=function(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Yh(),postBody:null,tenantId:y.tenantId,error:En(y,"no-auth-event")}}(f,w,S);yield function(y,f){return Qh()._set(ec(y),f)}(f,ee);const Ne=yield function(y,f,g){return qh.apply(this,arguments)}(f,ee,g),ke=yield function(y){const{cordova:f}=il();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let S=null;w?f.plugins.browsertab.openUrl(y):S=f.InAppBrowser.open(y,function(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(Ne);return function(y,f,g){return Wh.apply(this,arguments)}(f,j,ke)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return fd.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:S,BuildInfo:R}=il(),j=setTimeout((0,u.Z)(function*(){yield Xu(f),g.onEvent(Xh())}),500),ee=function(){var tt=(0,u.Z)(function*(nt){clearTimeout(j);const Mt=yield Xu(f);let Wn=null;Mt&&(null==nt?void 0:nt.url)&&(Wn=function(y,f){var g,w;const S=function(y){const f=ia(y),g=f.link?decodeURIComponent(f.link):void 0,w=ia(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ia(S).link||S||w||g||y}(f);if(S.includes("/__/auth/callback")){const R=ia(S),j=R.firebaseError?function(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(R.firebaseError)):null,ee=null===(w=null===(g=null==j?void 0:j.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ne=ee?En(ee):null;return Ne?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Mt,nt.url)),g.onEvent(Wn||Xh())});return function(Mt){return tt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ee);const Ne=S,ke=`${R.packageName.toLowerCase()}://`;il().handleOpenURL=function(){var tt=(0,u.Z)(function*(nt){if(nt.toLowerCase().startsWith(ke)&&ee({url:nt}),"function"==typeof Ne)try{Ne(nt)}catch(Mt){console.error(Mt)}});return function(nt){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=jn,this._completeRedirectFn=tl}_initialize(f){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,S){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,g,w,S)})()}_openRedirect(f,g,w,S){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,g,w,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return yd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bw(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return sf.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function lf(y){return y.unwrap()}function Qs(y){return rc(y)}function rc(y){const{_tokenResponse:f}=y instanceof N.ZR?y.customData:y;if(!f)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return D.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=mo;break;case"facebook.com":w=Ml;break;case"github.com":w=yo;break;case"twitter.com":w=Mr;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:j,pendingToken:ee,nonce:Ne}=f;return R||j||S||ee?ee?g.startsWith("saml.")?fs._create(g,ee):dr._fromParams({providerId:g,signInMethod:g,pendingToken:ee,idToken:S,accessToken:R}):new On(g).credential({idToken:S,accessToken:R,rawNonce:Ne}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Kr(y,f){return f.catch(g=>{throw g instanceof N.ZR&&function(y,f){var g;const w=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new og(y,function(y,f){var g;const w=(0,N.m9)(y),S=f;return Ie(f.customData.operationType,w,"argument-error"),Ie(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),qo._fromError(w,S)}(y,f));else if(w){const S=rc(f),R=f;S&&(R.credential=S,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Qs(g),additionalUserInfo:Je(g),user:Es.getOrCreate(S)}})}function vd(y,f){return al.apply(this,arguments)}function al(){return al=(0,u.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>Kr(y,g.confirm(w))}}),al.apply(this,arguments)}class og{constructor(f,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Kr(lf(this.auth),this.resolver.resolveSignIn(f))}}class Es{constructor(f){this._delegate=f,this.multiFactor=function(y){const f=(0,N.m9)(y);return Hs.has(f)||Hs.set(f,$a._fromUser(f)),Hs.get(f)}(f)}static getOrCreate(f){return Es.USER_MAP.has(f)||Es.USER_MAP.set(f,new Es(f)),Es.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,u.Z)(function*(){return Kr(g.auth,Ra(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,u.Z)(function*(){return vd(w.auth,function(y,f,g){return vs.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,u.Z)(function*(){return Kr(g.auth,function(y,f,g){return ii.apply(this,arguments)}(g._delegate,f,ol))})()}linkWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield nc(qn(g.auth)),function(y,f,g){return function(y,f,g){return ta.apply(this,arguments)}(y,f,g)}(g._delegate,f,ol)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,u.Z)(function*(){return Kr(g.auth,Xn(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return vd(this.auth,function(y,f,g){return Xo.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Kr(this.auth,function(y,f,g){return Rr.apply(this,arguments)}(this._delegate,f,ol))}reauthenticateWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield nc(qn(g.auth)),function(y,f,g){return function(y,f,g){return Co.apply(this,arguments)}(y,f,g)}(g._delegate,f,ol)})()}sendEmailVerification(f){return function(y,f){return Gs.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,u.Z)(function*(){return yield function(y,f){return Ae.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(y,f){return Ih((0,N.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function(y,f){return Ih((0,N.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(y,f){return Ql.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(y,f){return fn.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(y,f,g){return ja.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Es.USER_MAP=new WeakMap;const nu=Ie;let ic=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;nu(S,"invalid-api-key",{appName:g.name});let R=[mn];if("undefined"!=typeof window){R=function(y,f){const g=Mi();if(!(null==g?void 0:g.sessionStorage))return[];const w=Jn(af,y,f);switch(g.sessionStorage.getItem(w)){case si.NONE:return[mn];case si.LOCAL:return[Qo,jn];case si.SESSION:return[jn];default:return[]}}(S,g.name);for(const ee of[Qo,Wo,jn])R.includes(ee)||R.push(ee)}nu(S,"invalid-api-key",{appName:g.name});const j="undefined"!=typeof window?ol:void 0;this._delegate=w.initialize({options:{persistence:R,popupRedirectResolver:j}}),this._delegate._updateErrorMap(Ar),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function(y,f,g){const w=qn(y);Ie(w._canInitEmulator,w,"emulator-config-failed"),Ie(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),R=Ir(f),{host:j,port:ee}=function(y){const f=Ir(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const R=S[1];return{host:R,port:Ip(w.substr(R.length+1))}}{const[R,j]=w.split(":");return{host:R,port:Ip(j)}}}(f);w.config.emulator={url:`${R}//${j}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:j,port:ee,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function(y,f){return Ll.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Vl(this._delegate,g)}confirmPasswordReset(g,w){return function(y,f,g){return $o.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var S=this;return(0,u.Z)(function*(){return Kr(S._delegate,function(y,f,g){return Ba.apply(this,arguments)}(S._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,f){return Sh.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,f){const g=Vs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){nu(md(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function(y,f){return bs.apply(this,arguments)}(g._delegate,ol);return w?Kr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,f){qn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,w,S){const{next:R,error:j,complete:ee}=cf(g,w,S);return this._delegate.onAuthStateChanged(R,j,ee)}onIdTokenChanged(g,w,S){const{next:R,error:j,complete:ee}=cf(g,w,S);return this._delegate.onIdTokenChanged(R,j,ee)}sendSignInLinkToEmail(g,w){return function(y,f,g){return cn.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function(y,f,g){return Ho.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,u.Z)(function*(){let S;switch(function(y,f){tc(Object.values(si).includes(f),y,"invalid-persistence-type"),(0,N.b$)()?tc(f!==si.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?tc(f===si.NONE,y,"unsupported-persistence-type"):rf()?tc(f===si.NONE||f===si.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):tc(f===si.NONE||ig(),y,"unsupported-persistence-type")}(w._delegate,g),g){case si.SESSION:S=jn;break;case si.LOCAL:S=(yield Gt(Qo)._isAvailable())?Qo:Wo;break;case si.NONE:S=mn;break;default:return Ut("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Kr(this._delegate,function(y){return Go.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Kr(this._delegate,Fu(this._delegate,g))}signInWithCustomToken(g){return Kr(this._delegate,function(y,f){return Oa.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Kr(this._delegate,function(y,f,g){return Fu((0,N.m9)(y),go.credential(f,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Kr(this._delegate,function(y,f,g){return Ua.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return vd(this._delegate,function(y,f,g){return zr.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,u.Z)(function*(){return nu(md(),w._delegate,"operation-not-supported-in-this-environment"),Kr(w._delegate,function(y,f,g){return Jt.apply(this,arguments)}(w._delegate,g,ol))})()}signInWithRedirect(g){var w=this;return(0,u.Z)(function*(){return nu(md(),w._delegate,"operation-not-supported-in-this-environment"),yield nc(w._delegate),function(y,f,g){return function(y,f,g){return Wu.apply(this,arguments)}(y,f,g)}(w._delegate,g,ol)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,f){return Va.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=si,y})();function cf(y,f,g){let w=y;"function"!=typeof y&&({next:w,error:f,complete:g}=y);const S=w;return{next:j=>S(j&&Es.getOrCreate(j)),error:f,complete:g}}class ag{constructor(){this.providerId="phone",this._delegate=new D(lf(J.Z.auth()))}static credential(f,g){return D.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}ag.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,ag.PROVIDER_ID=D.PROVIDER_ID;const ll=Ie;class df{constructor(f,g,w=J.Z.app()){var S;ll(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Si(f,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new fe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new ic(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:go,FacebookAuthProvider:Ml,GithubAuthProvider:yo,GoogleAuthProvider:mo,OAuthProvider:On,SAMLAuthProvider:_o,PhoneAuthProvider:ag,PhoneMultiFactorGenerator:xy,RecaptchaVerifier:df,TwitterAuthProvider:Mr,Auth:ic,AuthCredential:Bo,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.4")}(J.Z)},2940:function(st,Ce){!function(F){"use strict";function u(le){return Array.prototype.slice.call(le)}function J(le){return new Promise(function(K,ue){le.onsuccess=function(){K(le.result)},le.onerror=function(){ue(le.error)}})}function N(le,K,ue){var De,_e=new Promise(function($e,Me){J(De=le[K].apply(le,ue)).then($e,Me)});return _e.request=De,_e}function ce(le,K,ue){var De=N(le,K,ue);return De.then(function(_e){if(_e)return new H(_e,De.request)})}function se(le,K,ue){ue.forEach(function(De){Object.defineProperty(le.prototype,De,{get:function(){return this[K][De]},set:function(_e){this[K][De]=_e}})})}function me(le,K,ue,De){De.forEach(function(_e){_e in ue.prototype&&(le.prototype[_e]=function(){return N(this[K],_e,arguments)})})}function ne(le,K,ue,De){De.forEach(function(_e){_e in ue.prototype&&(le.prototype[_e]=function(){return this[K][_e].apply(this[K],arguments)})})}function ae(le,K,ue,De){De.forEach(function(_e){_e in ue.prototype&&(le.prototype[_e]=function(){return ce(this[K],_e,arguments)})})}function de(le){this._index=le}function H(le,K){this._cursor=le,this._request=K}function G(le){this._store=le}function X(le){this._tx=le,this.complete=new Promise(function(K,ue){le.oncomplete=function(){K()},le.onerror=function(){ue(le.error)},le.onabort=function(){ue(le.error)}})}function Ue(le,K,ue){this._db=le,this.oldVersion=K,this.transaction=new X(ue)}function xe(le){this._db=le}se(de,"_index",["name","keyPath","multiEntry","unique"]),me(de,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ae(de,"_index",IDBIndex,["openCursor","openKeyCursor"]),se(H,"_cursor",["direction","key","primaryKey","value"]),me(H,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(le){le in IDBCursor.prototype&&(H.prototype[le]=function(){var K=this,ue=arguments;return Promise.resolve().then(function(){return K._cursor[le].apply(K._cursor,ue),J(K._request).then(function(De){if(De)return new H(De,K._request)})})})}),G.prototype.createIndex=function(){return new de(this._store.createIndex.apply(this._store,arguments))},G.prototype.index=function(){return new de(this._store.index.apply(this._store,arguments))},se(G,"_store",["name","keyPath","indexNames","autoIncrement"]),me(G,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ae(G,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ne(G,"_store",IDBObjectStore,["deleteIndex"]),X.prototype.objectStore=function(){return new G(this._tx.objectStore.apply(this._tx,arguments))},se(X,"_tx",["objectStoreNames","mode"]),ne(X,"_tx",IDBTransaction,["abort"]),Ue.prototype.createObjectStore=function(){return new G(this._db.createObjectStore.apply(this._db,arguments))},se(Ue,"_db",["name","version","objectStoreNames"]),ne(Ue,"_db",IDBDatabase,["deleteObjectStore","close"]),xe.prototype.transaction=function(){return new X(this._db.transaction.apply(this._db,arguments))},se(xe,"_db",["name","version","objectStoreNames"]),ne(xe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(le){[G,de].forEach(function(K){le in K.prototype&&(K.prototype[le.replace("open","iterate")]=function(){var ue=u(arguments),De=ue[ue.length-1],_e=this._store||this._index,$e=_e[le].apply(_e,ue.slice(0,-1));$e.onsuccess=function(){De($e.result)}})})}),[de,G].forEach(function(le){le.prototype.getAll||(le.prototype.getAll=function(K,ue){var De=this,_e=[];return new Promise(function($e){De.iterateCursor(K,function(Me){Me?(_e.push(Me.value),void 0===ue||_e.length!=ue?Me.continue():$e(_e)):$e(_e)})})})}),F.openDb=function(le,K,ue){var De=N(indexedDB,"open",[le,K]),_e=De.request;return _e&&(_e.onupgradeneeded=function($e){ue&&ue(new Ue(_e.result,$e.oldVersion,_e.transaction))}),De.then(function($e){return new xe($e)})},F.deleteDb=function(le){return N(indexedDB,"deleteDatabase",[le])},Object.defineProperty(F,"__esModule",{value:!0})}(Ce)},8306:(st,Ce,F)=>{"use strict";F.d(Ce,{y:()=>H});var u=F(930),J=F(727),N=F(8822),ce=F(4671);var ne=F(2416),ae=F(576),de=F(2806);let H=(()=>{class xe{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const le=new xe;return le.source=this,le.operator=Be,le}subscribe(Be,le,K){const ue=function(xe){return xe&&xe instanceof u.Lv||function(xe){return xe&&(0,ae.m)(xe.next)&&(0,ae.m)(xe.error)&&(0,ae.m)(xe.complete)}(xe)&&(0,J.Nn)(xe)}(Be)?Be:new u.Hp(Be,le,K);return(0,de.x)(()=>{const{operator:De,source:_e}=this;ue.add(De?De.call(ue,_e):_e?this._subscribe(ue):this._trySubscribe(ue))}),ue}_trySubscribe(Be){try{return this._subscribe(Be)}catch(le){Be.error(le)}}forEach(Be,le){return new(le=G(le))((K,ue)=>{let De;De=this.subscribe(_e=>{try{Be(_e)}catch($e){ue($e),null==De||De.unsubscribe()}},ue,K)})}_subscribe(Be){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(Be)}[N.L](){return this}pipe(...Be){return function(xe){return 0===xe.length?ce.y:1===xe.length?xe[0]:function(Be){return xe.reduce((le,K)=>K(le),Be)}}(Be)(this)}toPromise(Be){return new(Be=G(Be))((le,K)=>{let ue;this.subscribe(De=>ue=De,De=>K(De),()=>le(ue))})}}return xe.create=je=>new xe(je),xe})();function G(xe){var je;return null!==(je=null!=xe?xe:ne.v.Promise)&&void 0!==je?je:Promise}},7579:(st,Ce,F)=>{"use strict";F.d(Ce,{x:()=>ne});var u=F(8306),J=F(727);const ce=(0,F(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),me=F(2806);let ne=(()=>{class de extends u.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const X=new ae(this,this);return X.operator=G,X}_throwIfClosed(){if(this.closed)throw new ce}next(G){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const X=this.observers.slice();for(const Ue of X)Ue.next(G)}})}error(G){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:X}=this;for(;X.length;)X.shift().error(G)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:X,isStopped:Ue,observers:xe}=this;return X||Ue?J.Lc:(xe.push(G),new J.w0(()=>(0,se.P)(xe,G)))}_checkFinalizedStatuses(G){const{hasError:X,thrownError:Ue,isStopped:xe}=this;X?G.error(Ue):xe&&G.complete()}asObservable(){const G=new u.y;return G.source=this,G}}return de.create=(H,G)=>new ae(H,G),de})();class ae extends ne{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,X;null===(X=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===X||X.call(G,H)}error(H){var G,X;null===(X=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===X||X.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,X;return null!==(X=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==X?X:J.Lc}}},930:(st,Ce,F)=>{"use strict";F.d(Ce,{Hp:()=>Ue,Lv:()=>X});var u=F(576),J=F(727),N=F(2416),ce=F(7849),se=F(5032);const me=de("C",void 0,void 0);function de(K,ue,De){return{kind:K,value:ue,error:De}}var H=F(3410),G=F(2806);class X extends J.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,J.Nn)(ue)&&ue.add(this)):this.destination=le}static create(ue,De,_e){return new Ue(ue,De,_e)}next(ue){this.isStopped?Be(de("N",ue,void 0),this):this._next(ue)}error(ue){this.isStopped?Be(de("E",void 0,ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?Be(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ue extends X{constructor(ue,De,_e){let $e;if(super(),(0,u.m)(ue))$e=ue;else if(ue){let Me;({next:$e,error:De,complete:_e}=ue),this&&N.v.useDeprecatedNextContext?(Me=Object.create(ue),Me.unsubscribe=()=>this.unsubscribe()):Me=ue,$e=null==$e?void 0:$e.bind(Me),De=null==De?void 0:De.bind(Me),_e=null==_e?void 0:_e.bind(Me)}this.destination={next:$e?xe($e):se.Z,error:xe(null!=De?De:je),complete:_e?xe(_e):se.Z}}}function xe(K,ue){return(...De)=>{try{K(...De)}catch(_e){N.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(_e):(0,ce.h)(_e)}}}function je(K){throw K}function Be(K,ue){const{onStoppedNotification:De}=N.v;De&&H.z.setTimeout(()=>De(K,ue))}const le={closed:!0,next:se.Z,error:je,complete:se.Z}},727:(st,Ce,F)=>{"use strict";F.d(Ce,{Lc:()=>me,w0:()=>se,Nn:()=>ne});var u=F(576);const N=(0,F(3888).d)(de=>function(G){de(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((X,Ue)=>`${Ue+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ce=F(8737);class se{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const xe of G)xe.remove(this);else G.remove(this);const{initialTeardown:X}=this;if((0,u.m)(X))try{X()}catch(xe){H=xe instanceof N?xe.errors:[xe]}const{_teardowns:Ue}=this;if(Ue){this._teardowns=null;for(const xe of Ue)try{ae(xe)}catch(je){H=null!=H?H:[],je instanceof N?H=[...H,...je.errors]:H.push(je)}}if(H)throw new N(H)}}add(H){var G;if(H&&H!==this)if(this.closed)ae(H);else{if(H instanceof se){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(G=this._teardowns)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,ce.P)(G,H)}remove(H){const{_teardowns:G}=this;G&&(0,ce.P)(G,H),H instanceof se&&H._removeParent(this)}}se.EMPTY=(()=>{const de=new se;return de.closed=!0,de})();const me=se.EMPTY;function ne(de){return de instanceof se||de&&"closed"in de&&(0,u.m)(de.remove)&&(0,u.m)(de.add)&&(0,u.m)(de.unsubscribe)}function ae(de){(0,u.m)(de)?de():de.unsubscribe()}},2416:(st,Ce,F)=>{"use strict";F.d(Ce,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ce,F)=>{"use strict";F.d(Ce,{E:()=>J});const J=new(F(8306).y)(se=>se.complete())},8996:(st,Ce,F)=>{"use strict";F.d(Ce,{D:()=>$e});var u=F(8421),J=F(5363),N=F(9468),me=F(8306),ae=F(2202),de=F(576),H=F(9672);function X(Me,ze){if(!Me)throw new Error("Iterable cannot be null");return new me.y(Ze=>{(0,H.f)(Ze,ze,()=>{const dt=Me[Symbol.asyncIterator]();(0,H.f)(Ze,ze,()=>{dt.next().then(te=>{te.done?Ze.complete():Ze.next(te.value)})},0,!0)})})}var Ue=F(3670),xe=F(8239),je=F(1144),Be=F(6495),le=F(2206),K=F(4532),ue=F(3260);function $e(Me,ze){return ze?function(Me,ze){if(null!=Me){if((0,Ue.c)(Me))return function(Me,ze){return(0,u.Xf)(Me).pipe((0,N.R)(ze),(0,J.Q)(ze))}(Me,ze);if((0,je.z)(Me))return function(Me,ze){return new me.y(Ze=>{let dt=0;return ze.schedule(function(){dt===Me.length?Ze.complete():(Ze.next(Me[dt++]),Ze.closed||this.schedule())})})}(Me,ze);if((0,xe.t)(Me))return function(Me,ze){return(0,u.Xf)(Me).pipe((0,N.R)(ze),(0,J.Q)(ze))}(Me,ze);if((0,le.D)(Me))return X(Me,ze);if((0,Be.T)(Me))return function(Me,ze){return new me.y(Ze=>{let dt;return(0,H.f)(Ze,ze,()=>{dt=Me[ae.h](),(0,H.f)(Ze,ze,()=>{let te,he;try{({value:te,done:he}=dt.next())}catch(ve){return void Ze.error(ve)}he?Ze.complete():Ze.next(te)},0,!0)}),()=>(0,de.m)(null==dt?void 0:dt.return)&&dt.return()})}(Me,ze);if((0,ue.L)(Me))return function(Me,ze){return X((0,ue.Q)(Me),ze)}(Me,ze)}throw(0,K.z)(Me)}(Me,ze):(0,u.Xf)(Me)}},8421:(st,Ce,F)=>{"use strict";F.d(Ce,{Xf:()=>Ue});var u=F(5987),J=F(1144),N=F(8239),ce=F(8306),se=F(3670),me=F(2206),ne=F(4532),ae=F(6495),de=F(3260),H=F(576),G=F(7849),X=F(8822);function Ue(_e){if(_e instanceof ce.y)return _e;if(null!=_e){if((0,se.c)(_e))return function(_e){return new ce.y($e=>{const Me=_e[X.L]();if((0,H.m)(Me.subscribe))return Me.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,J.z)(_e))return function(_e){return new ce.y($e=>{for(let Me=0;Me<_e.length&&!$e.closed;Me++)$e.next(_e[Me]);$e.complete()})}(_e);if((0,N.t)(_e))return function(_e){return new ce.y($e=>{_e.then(Me=>{$e.closed||($e.next(Me),$e.complete())},Me=>$e.error(Me)).then(null,G.h)})}(_e);if((0,me.D)(_e))return K(_e);if((0,ae.T)(_e))return function(_e){return new ce.y($e=>{for(const Me of _e)if($e.next(Me),$e.closed)return;$e.complete()})}(_e);if((0,de.L)(_e))return function(_e){return K((0,de.Q)(_e))}(_e)}throw(0,ne.z)(_e)}function K(_e){return new ce.y($e=>{(function(_e,$e){var Me,ze,Ze,dt;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Me=(0,u.KL)(_e);!(ze=yield Me.next()).done;)if($e.next(ze.value),$e.closed)return}catch(te){Ze={error:te}}finally{try{ze&&!ze.done&&(dt=Me.return)&&(yield dt.call(Me))}finally{if(Ze)throw Ze.error}}$e.complete()})})(_e,$e).catch(Me=>$e.error(Me))})}},6451:(st,Ce,F)=>{"use strict";F.d(Ce,{T:()=>me});var u=F(8189),J=F(8421),N=F(515),ce=F(3269),se=F(8996);function me(...ne){const ae=(0,ce.yG)(ne),de=(0,ce._6)(ne,1/0),H=ne;return H.length?1===H.length?(0,J.Xf)(H[0]):(0,u.J)(de)((0,se.D)(H,ae)):N.E}},5403:(st,Ce,F)=>{"use strict";F.d(Ce,{Q:()=>J});var u=F(930);class J extends u.Lv{constructor(ce,se,me,ne,ae){super(ce),this.onFinalize=ae,this._next=se?function(de){try{se(de)}catch(H){ce.error(H)}}:super._next,this._error=ne?function(de){try{ne(de)}catch(H){ce.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(de){ce.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;const{closed:se}=this;super.unsubscribe(),!se&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}},4004:(st,Ce,F)=>{"use strict";F.d(Ce,{U:()=>N});var u=F(4482),J=F(5403);function N(ce,se){return(0,u.e)((me,ne)=>{let ae=0;me.subscribe(new J.Q(ne,de=>{ne.next(ce.call(se,de,ae++))}))})}},8189:(st,Ce,F)=>{"use strict";F.d(Ce,{J:()=>N});var u=F(5577),J=F(4671);function N(ce=1/0){return(0,u.z)(J.y,ce)}},5577:(st,Ce,F)=>{"use strict";F.d(Ce,{z:()=>ae});var u=F(4004),J=F(8421),N=F(4482),se=(F(9672),F(5403)),ne=F(576);function ae(de,H,G=1/0){return(0,ne.m)(H)?ae((X,Ue)=>(0,u.U)((xe,je)=>H(X,xe,Ue,je))((0,J.Xf)(de(X,Ue))),G):("number"==typeof H&&(G=H),(0,N.e)((X,Ue)=>function(de,H,G,X,Ue,xe,je,Be){const le=[];let K=0,ue=0,De=!1;const _e=()=>{De&&!le.length&&!K&&H.complete()},$e=ze=>K<X?Me(ze):le.push(ze),Me=ze=>{K++;let Ze=!1;(0,J.Xf)(G(ze,ue++)).subscribe(new se.Q(H,dt=>{H.next(dt)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(K--;le.length&&K<X;){const dt=le.shift();Me(dt)}_e()}catch(dt){H.error(dt)}}))};return de.subscribe(new se.Q(H,$e,()=>{De=!0,_e()})),()=>{}}(X,Ue,de,G)))}},5363:(st,Ce,F)=>{"use strict";F.d(Ce,{Q:()=>ce});var u=F(9672),J=F(4482),N=F(5403);function ce(se,me=0){return(0,J.e)((ne,ae)=>{ne.subscribe(new N.Q(ae,de=>(0,u.f)(ae,se,()=>ae.next(de),me),()=>(0,u.f)(ae,se,()=>ae.complete(),me),de=>(0,u.f)(ae,se,()=>ae.error(de),me)))})}},3099:(st,Ce,F)=>{"use strict";F.d(Ce,{B:()=>me});var u=F(8996),J=F(5698),N=F(7579),ce=F(930),se=F(4482);function me(ae={}){const{connector:de=(()=>new N.x),resetOnError:H=!0,resetOnComplete:G=!0,resetOnRefCountZero:X=!0}=ae;return Ue=>{let xe=null,je=null,Be=null,le=0,K=!1,ue=!1;const De=()=>{null==je||je.unsubscribe(),je=null},_e=()=>{De(),xe=Be=null,K=ue=!1},$e=()=>{const Me=xe;_e(),null==Me||Me.unsubscribe()};return(0,se.e)((Me,ze)=>{le++,!ue&&!K&&De();const Ze=Be=null!=Be?Be:de();ze.add(()=>{le--,0===le&&!ue&&!K&&(je=ne($e,X))}),Ze.subscribe(ze),xe||(xe=new ce.Hp({next:dt=>Ze.next(dt),error:dt=>{ue=!0,De(),je=ne(_e,H,dt),Ze.error(dt)},complete:()=>{K=!0,De(),je=ne(_e,G),Ze.complete()}}),(0,u.D)(Me).subscribe(xe))})(Ue)}}function ne(ae,de,...H){return!0===de?(ae(),null):!1===de?null:de(...H).pipe((0,J.q)(1)).subscribe(()=>ae())}},9468:(st,Ce,F)=>{"use strict";F.d(Ce,{R:()=>J});var u=F(4482);function J(N,ce=0){return(0,u.e)((se,me)=>{me.add(N.schedule(()=>se.subscribe(me),ce))})}},5698:(st,Ce,F)=>{"use strict";F.d(Ce,{q:()=>ce});var u=F(515),J=F(4482),N=F(5403);function ce(se){return se<=0?()=>u.E:(0,J.e)((me,ne)=>{let ae=0;me.subscribe(new N.Q(ne,de=>{++ae<=se&&(ne.next(de),se<=ae&&ne.complete())}))})}},8505:(st,Ce,F)=>{"use strict";F.d(Ce,{b:()=>se});var u=F(576),J=F(4482),N=F(5403),ce=F(4671);function se(me,ne,ae){const de=(0,u.m)(me)||ne||ae?{next:me,error:ne,complete:ae}:me;return de?(0,J.e)((H,G)=>{var X;null===(X=de.subscribe)||void 0===X||X.call(de);let Ue=!0;H.subscribe(new N.Q(G,xe=>{var je;null===(je=de.next)||void 0===je||je.call(de,xe),G.next(xe)},()=>{var xe;Ue=!1,null===(xe=de.complete)||void 0===xe||xe.call(de),G.complete()},xe=>{var je;Ue=!1,null===(je=de.error)||void 0===je||je.call(de,xe),G.error(xe)},()=>{var xe,je;Ue&&(null===(xe=de.unsubscribe)||void 0===xe||xe.call(de)),null===(je=de.finalize)||void 0===je||je.call(de)}))}):ce.y}},4408:(st,Ce,F)=>{"use strict";F.d(Ce,{o:()=>se});var u=F(727);class J extends u.w0{constructor(ne,ae){super()}schedule(ne,ae=0){return this}}const N={setInterval(...me){const{delegate:ne}=N;return((null==ne?void 0:ne.setInterval)||setInterval)(...me)},clearInterval(me){const{delegate:ne}=N;return((null==ne?void 0:ne.clearInterval)||clearInterval)(me)},delegate:void 0};var ce=F(8737);class se extends J{constructor(ne,ae){super(ne,ae),this.scheduler=ne,this.work=ae,this.pending=!1}schedule(ne,ae=0){if(this.closed)return this;this.state=ne;const de=this.id,H=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(H,de,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(H,this.id,ae),this}requestAsyncId(ne,ae,de=0){return N.setInterval(ne.flush.bind(ne,this),de)}recycleAsyncId(ne,ae,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ae;N.clearInterval(ae)}execute(ne,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ne,ae);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ae){let H,de=!1;try{this.work(ne)}catch(G){de=!0,H=G||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ne,scheduler:ae}=this,{actions:de}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(de,this),null!=ne&&(this.id=this.recycleAsyncId(ae,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ce,F)=>{"use strict";F.d(Ce,{v:()=>N});var u=F(6063);class J{constructor(se,me=J.now){this.schedulerActionCtor=se,this.now=me}schedule(se,me=0,ne){return new this.schedulerActionCtor(this,se).schedule(ne,me)}}J.now=u.l.now;class N extends J{constructor(se,me=J.now){super(se,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:me}=this;if(this._active)return void me.push(se);let ne;this._active=!0;do{if(ne=se.execute(se.state,se.delay))break}while(se=me.shift());if(this._active=!1,ne){for(;se=me.shift();)se.unsubscribe();throw ne}}}},4986:(st,Ce,F)=>{"use strict";F.d(Ce,{z:()=>N,P:()=>ce});var u=F(4408);const N=new(F(7565).v)(u.o),ce=N},6063:(st,Ce,F)=>{"use strict";F.d(Ce,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(st,Ce,F)=>{"use strict";F.d(Ce,{z:()=>u});const u={setTimeout(...J){const{delegate:N}=u;return((null==N?void 0:N.setTimeout)||setTimeout)(...J)},clearTimeout(J){const{delegate:N}=u;return((null==N?void 0:N.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(st,Ce,F)=>{"use strict";F.d(Ce,{h:()=>J});const J="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(st,Ce,F)=>{"use strict";F.d(Ce,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,Ce,F)=>{"use strict";F.d(Ce,{jO:()=>ce,yG:()=>se,_6:()=>me});var u=F(576),J=F(3532);function N(ne){return ne[ne.length-1]}function ce(ne){return(0,u.m)(N(ne))?ne.pop():void 0}function se(ne){return(0,J.K)(N(ne))?ne.pop():void 0}function me(ne,ae){return"number"==typeof N(ne)?ne.pop():ae}},8737:(st,Ce,F)=>{"use strict";function u(J,N){if(J){const ce=J.indexOf(N);0<=ce&&J.splice(ce,1)}}F.d(Ce,{P:()=>u})},3888:(st,Ce,F)=>{"use strict";function u(J){const ce=J(se=>{Error.call(se),se.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}F.d(Ce,{d:()=>u})},2806:(st,Ce,F)=>{"use strict";F.d(Ce,{x:()=>N,O:()=>ce});var u=F(2416);let J=null;function N(se){if(u.v.useDeprecatedSynchronousErrorHandling){const me=!J;if(me&&(J={errorThrown:!1,error:null}),se(),me){const{errorThrown:ne,error:ae}=J;if(J=null,ne)throw ae}}else se()}function ce(se){u.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=se)}},9672:(st,Ce,F)=>{"use strict";function u(J,N,ce,se=0,me=!1){const ne=N.schedule(function(){ce(),me?J.add(this.schedule(null,se)):this.unsubscribe()},se);if(J.add(ne),!me)return ne}F.d(Ce,{f:()=>u})},4671:(st,Ce,F)=>{"use strict";function u(J){return J}F.d(Ce,{y:()=>u})},1144:(st,Ce,F)=>{"use strict";F.d(Ce,{z:()=>u});const u=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(st,Ce,F)=>{"use strict";F.d(Ce,{D:()=>J});var u=F(576);function J(N){return Symbol.asyncIterator&&(0,u.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(st,Ce,F)=>{"use strict";function u(J){return"function"==typeof J}F.d(Ce,{m:()=>u})},3670:(st,Ce,F)=>{"use strict";F.d(Ce,{c:()=>N});var u=F(8822),J=F(576);function N(ce){return(0,J.m)(ce[u.L])}},6495:(st,Ce,F)=>{"use strict";F.d(Ce,{T:()=>N});var u=F(2202),J=F(576);function N(ce){return(0,J.m)(null==ce?void 0:ce[u.h])}},8239:(st,Ce,F)=>{"use strict";F.d(Ce,{t:()=>J});var u=F(576);function J(N){return(0,u.m)(null==N?void 0:N.then)}},3260:(st,Ce,F)=>{"use strict";F.d(Ce,{Q:()=>N,L:()=>ce});var u=F(5987),J=F(576);function N(se){return(0,u.FC)(this,arguments,function*(){const ne=se.getReader();try{for(;;){const{value:ae,done:de}=yield(0,u.qq)(ne.read());if(de)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ae)}}finally{ne.releaseLock()}})}function ce(se){return(0,J.m)(null==se?void 0:se.getReader)}},3532:(st,Ce,F)=>{"use strict";F.d(Ce,{K:()=>J});var u=F(576);function J(N){return N&&(0,u.m)(N.schedule)}},4482:(st,Ce,F)=>{"use strict";F.d(Ce,{A:()=>J,e:()=>N});var u=F(576);function J(ce){return(0,u.m)(null==ce?void 0:ce.lift)}function N(ce){return se=>{if(J(se))return se.lift(function(me){try{return ce(me,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ce,F)=>{"use strict";function u(){}F.d(Ce,{Z:()=>u})},7849:(st,Ce,F)=>{"use strict";F.d(Ce,{h:()=>N});var u=F(2416),J=F(3410);function N(ce){J.z.setTimeout(()=>{const{onUnhandledError:se}=u.v;if(!se)throw ce;se(ce)})}},4532:(st,Ce,F)=>{"use strict";function u(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ce,{z:()=>u})},5987:(st,Ce,F)=>{"use strict";function ae(te,he,ve,Ee){return new(ve||(ve=Promise))(function(fe,At){function $t(wt){try{St(Ee.next(wt))}catch(Tt){At(Tt)}}function zn(wt){try{St(Ee.throw(wt))}catch(Tt){At(Tt)}}function St(wt){wt.done?fe(wt.value):function(fe){return fe instanceof ve?fe:new ve(function(At){At(fe)})}(wt.value).then($t,zn)}St((Ee=Ee.apply(te,he||[])).next())})}function le(te){return this instanceof le?(this.v=te,this):new le(te)}function K(te,he,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Ee=ve.apply(te,he||[]),fe=[];return Pe={},At("next"),At("throw"),At("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function At(an){Ee[an]&&(Pe[an]=function(Ar){return new Promise(function(Ur,ln){fe.push([an,Ar,Ur,ln])>1||$t(an,Ar)})})}function $t(an,Ar){try{!function(an){an.value instanceof le?Promise.resolve(an.value.v).then(St,wt):Tt(fe[0][2],an)}(Ee[an](Ar))}catch(Ur){Tt(fe[0][3],Ur)}}function St(an){$t("next",an)}function wt(an){$t("throw",an)}function Tt(an,Ar){an(Ar),fe.shift(),fe.length&&$t(fe[0][0],fe[0][1])}}function De(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,he=te[Symbol.asyncIterator];return he?he.call(te):(te=function(te){var he="function"==typeof Symbol&&Symbol.iterator,ve=he&&te[he],Ee=0;if(ve)return ve.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Ee>=te.length&&(te=void 0),{value:te&&te[Ee++],done:!te}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ve={},Ee("next"),Ee("throw"),Ee("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Ee(fe){ve[fe]=te[fe]&&function(At){return new Promise(function($t,zn){!function(fe,At,$t,zn){Promise.resolve(zn).then(function(St){fe({value:St,done:$t})},At)}($t,zn,(At=te[fe](At)).done,At.value)})}}}F.d(Ce,{mG:()=>ae,qq:()=>le,FC:()=>K,KL:()=>De})},5e3:(st,Ce,F)=>{"use strict";F.d(Ce,{deG:()=>Uu,tb:()=>nE,AFp:()=>tE,ip1:()=>pv,CZH:()=>Qd,hGG:()=>zS,z2F:()=>wm,sBO:()=>kS,Sil:()=>hm,_Vd:()=>Jg,EJc:()=>mv,SBq:()=>Xg,qLn:()=>tu,vpe:()=>yl,tBr:()=>xn,XFs:()=>gt,OlP:()=>wn,zs3:()=>to,ZZ4:()=>Xf,aQg:()=>ep,soG:()=>$f,YKP:()=>jA,h0i:()=>Vf,PXZ:()=>hE,R0b:()=>Ds,FiY:()=>ii,Lbi:()=>vl,g9A:()=>Qr,Qsj:()=>rO,FYo:()=>PA,JOm:()=>Qs,q3G:()=>Gn,tp0:()=>qr,Rgc:()=>jf,dDg:()=>gm,q4F:()=>M0,GfV:()=>VA,s_b:()=>rm,ifc:()=>Ke,eFA:()=>ym,G48:()=>Em,Gpc:()=>G,f3M:()=>Ye,X6Q:()=>bm,_c5:()=>GS,VLi:()=>cE,c2e:()=>gv,zSh:()=>g_,wAp:()=>_t,vHH:()=>je,EiD:()=>zh,mCW:()=>na,qzn:()=>nl,JVY:()=>ad,pB0:()=>Ey,eBb:()=>ld,L6k:()=>$p,LAX:()=>by,cg1:()=>Q_,kL8:()=>sA,yhl:()=>Hp,dqk:()=>Et,sIi:()=>Ld,CqO:()=>Qb,QGY:()=>fu,F4k:()=>Yb,RDi:()=>Dh,AaK:()=>ae,z3N:()=>Ji,qOj:()=>C_,TTD:()=>Ps,_Bn:()=>OA,xp6:()=>Ri,uIk:()=>x_,ekj:()=>$_,Suo:()=>sS,Xpm:()=>Cn,lG2:()=>uo,Yz7:()=>ln,cJS:()=>Sn,oAB:()=>wa,Yjl:()=>Au,Y36:()=>Hd,_UZ:()=>Zb,GkF:()=>Kb,BQk:()=>P_,ynx:()=>N_,qZA:()=>F_,TgZ:()=>So,EpF:()=>Ug,n5z:()=>Zo,Ikx:()=>Y_,LFG:()=>ie,$8M:()=>Yo,$Z:()=>O_,NdJ:()=>L_,CRH:()=>$0,oxw:()=>Xb,Hsn:()=>Ex,F$t:()=>bx,Q6J:()=>Vg,iGM:()=>H0,CHM:()=>ps,LSH:()=>hd,Udp:()=>u0,YNc:()=>Pb,_uU:()=>zx,Oqu:()=>q_,hij:()=>Hg,Gf:()=>iS});var u=F(7579),J=F(727),N=F(8306),ce=F(6451),se=F(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ae(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ae).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=me({__forward_ref__:me});function G(s){return s.__forward_ref__=G,s.toString=function(){return ae(this())},s}function X(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===G}class je extends Error{constructor(o,l){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,l)),this.code=o}}function K(s){return"string"==typeof s?s:null==s?"":String(s)}function ue(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():K(s)}function Me(s,o){const l=o?` in ${o}`:"";throw new je("201",`No provider for ${ue(s)} found${l}`)}function wt(s,o){null==s&&function(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function ln(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Sn(s){return{providers:s.providers||[],imports:s.imports||[]}}function pi(s){return Ut(s,Hi)||Ut(s,Qn)}function Ut(s,o){return s.hasOwnProperty(o)?s[o]:null}function gi(s){return s&&(s.hasOwnProperty(Ie)||s.hasOwnProperty(Bn))?s[Ie]:null}const Hi=me({\u0275prov:me}),Ie=me({\u0275inj:me}),Qn=me({ngInjectableDef:me}),Bn=me({ngInjectorDef:me});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let Gt;function jr(s){const o=Gt;return Gt=s,o}function ct(s,o,l){const c=pi(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&gt.Optional?null:void 0!==o?o:void Me(ae(s),"Injector")}function Ft(s){return{toString:s}.toString()}var Vt=(()=>((Vt=Vt||{})[Vt.OnPush=0]="OnPush",Vt[Vt.Default=1]="Default",Vt))(),Ke=(()=>{return(s=Ke||(Ke={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ke;var s})();const at="undefined"!=typeof globalThis&&globalThis,Du="undefined"!=typeof window&&window,Os="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et=at||"undefined"!=typeof global&&global||Du||Os,z={},U=[],q=me({\u0275cmp:me}),be=me({\u0275dir:me}),re=me({\u0275pipe:me}),Qe=me({\u0275mod:me}),ht=me({\u0275fac:me}),Yt=me({__NG_ELEMENT_ID__:me});let lr=0;function Cn(s){return Ft(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||U,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ke.Emulated,id:"c",styles:s.styles||U,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return c.id+=lr++,c.inputs=Dl(s.inputs,l),c.outputs=Dl(s.outputs),m&&m.forEach(b=>b(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(Bt):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(ur):null,c})}function Bt(s){return un(s)||function(s){return s[be]||null}(s)}function ur(s){return function(s){return s[re]||null}(s)}const lo={};function wa(s){return Ft(()=>{const o={type:s.type,bootstrap:s.bootstrap||U,declarations:s.declarations||U,imports:s.imports||U,exports:s.exports||U,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(lo[s.id]=s.type),o})}function Dl(s,o){if(null==s)return z;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=c,o&&(o[h]=m)}return l}const uo=Cn;function Au(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function un(s){return s[q]||null}function cr(s,o){const l=s[Qe]||null;if(!l&&!0===o)throw new Error(`Type ${ae(s)} does not have '\u0275mod' property.`);return l}function wi(s){return Array.isArray(s)&&"object"==typeof s[1]}function zi(s){return Array.isArray(s)&&!0===s[1]}function qn(s){return 0!=(8&s.flags)}function cs(s){return 2==(2&s.flags)}function Iu(s){return 1==(1&s.flags)}function Ir(s){return null!==s.template}function wh(s){return 0!=(512&s[2])}function qi(s,o){return s.hasOwnProperty(ht)?s[ht]:null}class Ru{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ps(){return jo}function jo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Il),Ls}function Ls(){const s=dr(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===z)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Il(s,o,l,c){const h=dr(s)||function(s,o){return s[Uc]=o}(s,{previous:z,current:null}),m=h.current||(h.current={}),v=h.previous,b=this.declaredInputs[l],C=v[b];m[b]=new Ru(C&&C.currentValue,o,v===z),s[c]=o}Ps.ngInherit=!0;const Uc="__ngSimpleChanges__";function dr(s){return s[Uc]||null}let Tl;function Dh(s){Tl=s}function Xt(s){return!!s.listen}const Ou={createRenderer:(s,o)=>void 0!==Tl?Tl:"undefined"!=typeof document?document:void 0};function kn(s){for(;Array.isArray(s);)s=s[0];return s}function Ei(s,o){return kn(o[s])}function On(s,o){return kn(o[s.index])}function mo(s,o){return s.data[o]}function Qt(s,o){const l=o[s];return wi(l)?l:l[0]}function fs(s){return 4==(4&s[2])}function Aa(s){return 128==(128&s[2])}function Mr(s,o){return null==o?null:s[o]}function Sa(s){s[18]=0}function Bs(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const Xe={lFrame:Pu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kl(){return Xe.bindingsEnabled}function Ae(){return Xe.lFrame.lView}function Nt(){return Xe.lFrame.tView}function ps(s){return Xe.lFrame.contextLView=s,s[8]}function yn(){let s=Ma();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ma(){return Xe.lFrame.currentTNode}function hr(s,o){const l=Xe.lFrame;l.currentTNode=s,l.isParent=o}function Fl(){return Xe.lFrame.isParent}function vo(){Xe.lFrame.isParent=!1}function Ra(){return Xe.isInCheckNoChangesMode}function wo(s){Xe.isInCheckNoChangesMode=s}function Us(){return Xe.lFrame.bindingIndex++}function Na(s,o){const l=Xe.lFrame;l.bindingIndex=l.bindingRootIndex=s,Pa(o)}function Pa(s){Xe.lFrame.currentDirectiveIndex=s}function Pl(){return Xe.lFrame.currentQueryIndex}function $o(s){Xe.lFrame.currentQueryIndex=s}function Hc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ll(s,o,l){if(l&gt.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&gt.Host||(h=Hc(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const c=Xe.lFrame=La();return c.currentTNode=o,c.lView=s,!0}function Vl(s){const o=La(),l=s[1];Xe.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function La(){const s=Xe.lFrame,o=null===s?null:s.child;return null===o?Pu(s):o}function Pu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Va(){const s=Xe.lFrame;return Xe.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const $c=Va;function Ba(){const s=Va();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function cn(){return Xe.lFrame.selectedIndex}function js(s){Xe.lFrame.selectedIndex=s}function _n(){const s=Xe.lFrame;return mo(s.tView,s.selectedIndex)}function Gs(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:k}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),b&&((s.contentHooks||(s.contentHooks=[])).push(l,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,b)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),T&&((s.viewHooks||(s.viewHooks=[])).push(l,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,T)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function Bl(s,o,l){Vu(s,o,3,l)}function ja(s,o,l,c){(3&s[2])===l&&Vu(s,o,l,c)}function qc(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Vu(s,o,l,c){const m=null!=c?c:-1,v=o.length-1;let b=0;for(let C=void 0!==c?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=c&&b>=c)break}else o[C]<0&&(s[18]+=65536),(b<m||-1==m)&&(Wc(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Wc(s,o,l,c){const h=l[c]<0,m=l[c+1],b=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(b)}finally{}}}else try{m.call(b)}finally{}}class Ga{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function ms(s,o,l){const c=Xt(s);let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const v=l[h++],b=l[h++],C=l[h++];c?s.setAttribute(o,b,C,v):o.setAttributeNS(v,b,C)}else{const v=m,b=l[++h];Je(v)?c&&s.setProperty(o,v,b):c?s.setAttribute(o,v,b):o.setAttribute(v,b),h++}}return h}function vn(s){return 3===s||4===s||6===s}function Je(s){return 64===s.charCodeAt(0)}function Fn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||er(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function er(s,o,l,c,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const b=s[m++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=m-1;break}}}for(;m<s.length;){const b=s[m];if("number"==typeof b)break;if(b===l){if(null===c)return void(null!==h&&(s[m+1]=h));if(c===s[m+1])return void(s[m+2]=h)}m++,null!==c&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==c&&s.splice(m++,0,c),null!==h&&s.splice(m++,0,h)}function Di(s){return-1!==s}function xi(s){return 32767&s}function Dn(s,o){let l=function(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let tr=!0;function yt(s){const o=tr;return tr=s,o}let Mh=0;function Ha(s,o){const l=Hs(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,$a(c.data,s),$a(o,null),$a(c.blueprint,null));const h=za(s,o),m=s.injectorIndex;if(Di(h)){const v=xi(h),b=Dn(h,o),C=b[1].data;for(let T=0;T<8;T++)o[m+T]=b[v+T]|C[v+T]}return o[m+8]=h,m}function $a(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Hs(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function za(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(c=2===v?m.declTNode:1===v?h[6]:null,null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function fr(s,o,l){!function(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(Yt)&&(c=l[Yt]),null==c&&(c=l[Yt]=Mh++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Zi(s,o,l){if(l&gt.Optional)return s;Me(o,"NodeInjector")}function Bu(s,o,l,c){if(l&gt.Optional&&void 0===c&&(c=null),0==(l&(gt.Self|gt.Host))){const h=s[9],m=jr(void 0);try{return h?h.get(o,c,l&gt.Optional):ct(o,c,l&gt.Optional)}finally{jr(m)}}return Zi(c,o,l)}function Gl(s,o,l,c=gt.Default,h){if(null!==s){const m=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Yt)?s[Yt]:void 0;return"number"==typeof o?o>=0?255&o:Wo:o}(l);if("function"==typeof m){if(!Ll(o,s,c))return c&gt.Host?Zi(h,l,c):Bu(o,l,c,h);try{const v=m(c);if(null!=v||c&gt.Optional)return v;Me(l)}finally{$c()}}else if("number"==typeof m){let v=null,b=Hs(s,o),C=-1,T=c&gt.Host?o[16][6]:null;for((-1===b||c&gt.SkipSelf)&&(C=-1===b?za(s,o):o[b+8],-1!==C&&Wa(c,!1)?(v=o[1],b=xi(C),o=Dn(C,o)):b=-1);-1!==b;){const k=o[1];if($s(m,b,k.data)){const P=Oh(b,o,l,v,c,T);if(P!==qa)return P}C=o[b+8],-1!==C&&Wa(c,o[1].data[b+8]===T)&&$s(m,b,o)?(v=k,b=xi(C),o=Dn(C,o)):b=-1}}}return Bu(o,l,c,h)}const qa={};function Wo(){return new pn(yn(),Ae())}function Oh(s,o,l,c,h,m){const v=o[1],b=v.data[s+8],k=jn(b,v,l,null==c?cs(b)&&tr:c!=v&&0!=(3&b.type),h&gt.Host&&m===b);return null!==k?dn(o,v,k,b):qa}function jn(s,o,l,c,h){const m=s.providerIndexes,v=o.data,b=1048575&m,C=s.directiveStart,k=m>>20,$=h?b+k:s.directiveEnd;for(let Q=c?b:b+k;Q<$;Q++){const ye=v[Q];if(Q<C&&l===ye||Q>=C&&ye.type===l)return Q}if(h){const Q=v[C];if(Q&&Ir(Q)&&Q.type===l)return C}return null}function dn(s,o,l,c){let h=s[l];const m=o.data;if(function(s){return s instanceof Ga}(h)){const v=h;v.resolving&&function(s,o){throw new je("200",`Circular dependency in DI detected for ${s}`)}(ue(m[l]));const b=yt(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?jr(v.injectImpl):null;Ll(s,c,gt.Default);try{h=s[l]=v.factory(void 0,m,s,c),o.firstCreatePass&&l>=c.directiveStart&&function(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(c){const v=jo(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==C&&jr(C),yt(b),v.resolving=!1,$c()}}return h}function $s(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Wa(s,o){return!(s&gt.Self||s&gt.Host&&o)}class pn{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return Gl(this._tNode,this._lView,o,c,l)}}function Zo(s){return Ft(()=>{const o=s.prototype.constructor,l=o[ht]||Ko(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const m=h[ht]||Ko(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ko(s){return Ue(s)?()=>{const o=Ko(X(s));return o&&o()}:qi(s)}function Yo(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const m=l[h];if(vn(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(yn(),s)}const zs="__parameters__";function Ki(s,o,l){return Ft(()=>{const c=function(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...m){if(this instanceof h)return c.apply(this,m),this;const v=new h(...m);return b.annotation=v,b;function b(C,T,k){const P=C.hasOwnProperty(zs)?C[zs]:Object.defineProperty(C,zs,{value:[]})[zs];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class wn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ln({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Uu=new wn("AnalyzeForEntryComponents");function ri(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),ri(c,o)):o!==s&&o.push(c)}return o}function Ai(s,o){s.forEach(l=>Array.isArray(l)?Ai(l,o):o(l))}function Hu(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function $r(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ya(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}function vr(s,o,l){let c=Yl(s,o);return c>=0?s[1|c]=l:(c=~c,function(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function Kl(s,o){const l=Yl(s,o);if(l>=0)return s[1|l]}function Yl(s,o){return function(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const m=c+(h-c>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:c=m+1}return~(h<<l)}(s,o,1)}const Jo={},Xo="__NG_DI_FLAG__",Yi="ngTempTokenPath",ed=/\n/gm,D="__source",x=me({provide:String,useValue:me});let O;function V(s){const o=O;return O=s,o}function Y(s,o=gt.Default){if(void 0===O)throw new Error("inject() must be called from an injection context");return null===O?ct(s,void 0,o):O.get(s,o&gt.Optional?null:void 0,o)}function ie(s,o=gt.Default){return(Gt||Y)(X(s),o)}const Ye=ie;function We(s){const o=[];for(let l=0;l<s.length;l++){const c=X(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,m=gt.Default;for(let v=0;v<c.length;v++){const b=c[v],C=Jt(b);"number"==typeof C?-1===C?h=b.token:m|=C:h=b}o.push(ie(h,m))}else o.push(ie(c))}return o}function Ot(s,o){return s[Xo]=o,s.prototype[Xo]=o,s}function Jt(s){return s[Xo]}const xn=Ot(Ki("Inject",s=>({token:s})),-1),ii=Ot(Ki("Optional"),8),qr=Ot(Ki("SkipSelf"),4);let ta;function bs(s){var o;return(null===(o=function(){if(void 0===ta&&(ta=null,Et.trustedTypes))try{ta=Et.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ta}())||void 0===o?void 0:o.createHTML(s))||s}class Ks{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gp extends Ks{getTypeName(){return"HTML"}}class Uh extends Ks{getTypeName(){return"Style"}}class wy extends Ks{getTypeName(){return"Script"}}class sd extends Ks{getTypeName(){return"URL"}}class od extends Ks{getTypeName(){return"ResourceURL"}}function Ji(s){return s instanceof Ks?s.changingThisBreaksApplicationSecurity:s}function nl(s,o){const l=Hp(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Hp(s){return s instanceof Ks&&s.getTypeName()||null}function ad(s){return new Gp(s)}function $p(s){return new Uh(s)}function ld(s){return new wy(s)}function by(s){return new sd(s)}function Ey(s){return new od(s)}class Cy{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(bs(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class ud{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=bs(o),l;const c=this.inertDocument.createElement("body");return c.innerHTML=bs(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const rl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function na(s){return(s=String(s)).match(rl)||s.match(Yu)?s:"unsafe:"+s}function Ys(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Qu(...s){const o={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(o[c]=!0);return o}const Zp=Ys("area,br,col,hr,img,wbr"),jh=Ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cd=Ys("rp,rt"),ra=Qu(Zp,Qu(jh,Ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qu(cd,Ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qu(cd,jh)),Hh=Ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xl=Ys("srcset"),dd=Qu(Hh,Xl,Ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yp=Ys("script,style,template");class xy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!ra.hasOwnProperty(l))return this.sanitizedSomething=!0,!Yp.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=o.attributes;for(let h=0;h<c.length;h++){const m=c.item(h),v=m.name,b=v.toLowerCase();if(!dd.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=m.value;Hh[b]&&(C=na(C)),Xl[b]&&(s=C,C=(s=String(s)).split(",").map(o=>na(o.trim())).join(", ")),this.buf.push(" ",v,'="',$h(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();ra.hasOwnProperty(l)&&!Zp.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push($h(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Qp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jp=/([^\#-~ |!])/g;function $h(s){return s.replace(/&/g,"&amp;").replace(Qp,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Jp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eu;function zh(s,o){let l=null;try{eu=eu||function(s){const o=new ud(s);return function(){try{return!!(new window.DOMParser).parseFromString(bs(""),"text/html")}catch(s){return!1}}()?new Cy(o):o}(s);let c=o?String(o):"";l=eu.getInertBodyElement(c);let h=5,m=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=m,m=l.innerHTML,l=eu.getInertBodyElement(c)}while(c!==m);return bs((new xy).sanitizeChildren(Xp(l)||l))}finally{if(l){const c=Xp(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Xp(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function hd(s){const o=function(){const s=Ae();return s&&s[12]}();return o?o.sanitize(Gn.URL,s)||"":nl(s,"URL")?Ji(s):na(K(s))}const Xu="__ngContext__";function Nn(s,o){s[Xu]=o}function Yh(s){const o=function(s){return s[Xu]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function ef(s){return s.ngOriginalError}function gd(s,...o){s.error(...o)}class tu{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),c=(s=o)&&s.ngErrorLogger||gd;var s;c(this._console,"ERROR",o),l&&c(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&ef(o);for(;l&&ef(l);)l=ef(l);return l||null}}const af=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et))();function Mi(s){return s instanceof Function?s():s}var Qs=(()=>((Qs=Qs||{})[Qs.Important=1]="Important",Qs[Qs.DashCase=2]="DashCase",Qs))();function rc(s,o){return undefined(s,o)}function al(s){const o=s[3];return zi(o)?o[3]:o}function nu(s){return cf(s[13])}function ic(s){return cf(s[4])}function cf(s){for(;null!==s&&!zi(s);)s=s[4];return s}function ll(s,o,l,c,h){if(null!=c){let m,v=!1;zi(c)?m=c:wi(c)&&(v=!0,c=c[0]);const b=kn(c);0===s&&null!==l?null==h?wd(o,l,b):Xs(o,l,b,h||null,!0):1===s&&null!==l?Xs(o,l,b,h||null,!0):2===s?function(s,o,l){const c=rr(s,o);c&&function(s,o,l,c){Xt(s)?s.removeChild(o,l,c):o.removeChild(l)}(s,c,o,l)}(o,b,v):3===s&&o.destroyNode(b),null!=m&&function(s,o,l,c,h){const m=l[7];m!==kn(l)&&ll(o,s,c,m,h);for(let b=10;b<l.length;b++){const C=l[b];gf(C[1],C,s,o,c,m)}}(o,s,m,l,h)}}function y(s,o,l){return Xt(s)?s.createElement(o,l):null===l?s.createElement(o):s.createElementNS(l,o)}function ee(s,o){const l=s[9],c=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Bs(h,-1)),l.splice(c,1)}function Ne(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&ee(h,c),o>0&&(s[l-1][4]=c[4]);const m=$r(s,10+o);!function(s,o){gf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=m[19];null!==v&&v.detachView(m[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function ke(s,o){if(!(256&o[2])){const l=o[11];Xt(l)&&l.destroyNode&&gf(s,o,l,3,null,null),function(s){let o=s[13];if(!o)return tt(s[1],s);for(;o;){let l=null;if(wi(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)wi(o)&&tt(o[1],o),o=o[3];null===o&&(o=s),wi(o)&&tt(o[1],o),l=o&&o[4]}o=l}}(o)}}function tt(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof Ga)){const m=l[c+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const b=h[m[v]],C=m[v+1];try{C.call(b)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function(s,o){const l=s.cleanup,c=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],b="function"==typeof v?v(o):kn(o[v]),C=c[h=l[m+2]],T=l[m+3];"boolean"==typeof T?b.removeEventListener(l[m],C,T):T>=0?c[h=T]():c[h=-T].unsubscribe(),m+=2}else{const v=c[h=l[m+1]];l[m].call(v)}if(null!==c){for(let m=h+1;m<c.length;m++)c[m]();o[7]=null}}(s,o),1===o[1].type&&Xt(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&zi(o[3])){l!==o[3]&&ee(l,o);const c=o[19];null!==c&&c.detachView(s)}}}function Wn(s,o,l){return function(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===Ke.None||h===Ke.Emulated)return null}return On(c,l)}(s,o.parent,l)}function Xs(s,o,l,c,h){Xt(s)?s.insertBefore(o,l,c,h):o.insertBefore(l,c,h)}function wd(s,o,l){Xt(s)?s.appendChild(o,l):o.appendChild(l)}function ug(s,o,l,c,h){null!==c?Xs(s,o,l,c,h):wd(s,o,l)}function rr(s,o){return Xt(s)?s.parentNode(o):o.parentNode}function hf(s,o,l){return ff(s,o,l)}let ff=function(s,o,l){return 40&s.type?On(s,l):null};function oa(s,o,l,c){const h=Wn(s,c,o),m=o[11],b=hf(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)ug(m,h,l[C],b,!1);else ug(m,h,l,b,!1)}function dg(s,o){if(null!==o){const l=o.type;if(3&l)return On(o,s);if(4&l)return pf(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return dg(s,c);{const h=s[o.index];return zi(h)?pf(-1,h):kn(h)}}if(32&l)return rc(o,s)()||kn(s[o.index]);{const c=Uw(s,o);return null!==c?Array.isArray(c)?c[0]:dg(al(s[16]),c):dg(s,o.next)}}return null}function Uw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function pf(s,o){const l=10+s+1;if(l<o.length){const c=o[l],h=c[1].firstChild;if(null!==h)return dg(c,h)}return o[7]}function Vy(s,o,l,c,h,m,v){for(;null!=l;){const b=c[l.index],C=l.type;if(v&&0===o&&(b&&Nn(kn(b),c),l.flags|=4),64!=(64&l.flags))if(8&C)Vy(s,o,l.child,c,h,m,!1),ll(o,s,h,b,m);else if(32&C){const T=rc(l,c);let k;for(;k=T();)ll(o,s,h,k,m);ll(o,s,h,b,m)}else 16&C?By(s,o,c,l,h,m):ll(o,s,h,b,m);l=v?l.projectionNext:l.next}}function gf(s,o,l,c,h,m){Vy(l,c,s.firstChild,o,h,m,!1)}function By(s,o,l,c,h,m){const v=l[16],C=v[6].projection[c.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)ll(o,s,h,C[T],m);else Vy(s,o,C,v[3],h,m,!0)}function mf(s,o,l){Xt(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Uy(s,o,l){Xt(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function fg(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===c||s.charCodeAt(h+m)<=32)return h}l=h+1}}const jy="ng-template";function sc(s,o,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==fg(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function pg(s){return 4===s.type&&s.value!==jy}function jw(s,o,l){return o===(4!==s.type||l?s.value:jy)}function yD(s,o,l){let c=4;const h=s.attrs||[],m=function(s){for(let o=0;o<s.length;o++)if(vn(s[o]))return o;return s.length}(h);let v=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!jw(s,C,l)||""===C&&1===o.length){if(Mn(c))return!1;v=!0}}else{const T=8&c?C:o[++b];if(8&c&&null!==s.attrs){if(!sc(s.attrs,T,l)){if(Mn(c))return!1;v=!0}continue}const P=yf(8&c?"class":C,h,pg(s),l);if(-1===P){if(Mn(c))return!1;v=!0;continue}if(""!==T){let $;$=P>m?"":h[P+1].toLowerCase();const Q=8&c?$:null;if(Q&&-1!==fg(Q,T,0)||2&c&&T!==$){if(Mn(c))return!1;v=!0}}}}else{if(!v&&!Mn(c)&&!Mn(C))return!1;if(v&&Mn(C))continue;v=!1,c=C|1&c}}return Mn(c)||v}function Mn(s){return 0==(1&s)}function yf(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function ru(s,o,l=!1){for(let c=0;c<o.length;c++)if(yD(s,o[c],l))return!0;return!1}function Gy(s,o){e:for(let l=0;l<o.length;l++){const c=o[l];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function Hy(s,o){return s?":not("+o.trim()+")":o}function vD(s){let o=s[0],l=1,c=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&c){const b=s[++l];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!Mn(v)&&(o+=Hy(m,h),h=""),c=v,m=m||!Mn(c);l++}return""!==h&&(o+=Hy(m,h)),o}const bt={};function Ri(s){Hw(Nt(),Ae(),cn()+s,Ra())}function Hw(s,o,l,c){if(!c)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Bl(o,m,l)}else{const m=s.preOrderHooks;null!==m&&ja(o,m,0,l)}js(l)}function xd(s,o){return s<<17|o<<2}function ki(s){return s>>17&32767}function zy(s){return 2|s}function ul(s){return(131068&s)>>2}function qy(s,o){return-131069&s|o<<2}function Wy(s){return 1|s}function vf(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],m=l[c+1];if(-1!==m){const v=s.data[m];$o(h),v.contentQueries(2,o[m],m)}}}function ou(s,o,l,c,h,m,v,b,C,T){const k=o.blueprint.slice();return k[0]=h,k[2]=140|c,Sa(k),k[3]=k[15]=s,k[8]=l,k[10]=v||s&&s[10],k[11]=b||s&&s[11],k[12]=C||s&&s[12]||null,k[9]=T||s&&s[9]||null,k[6]=m,k[16]=2==o.type?s[16]:k,k}function ac(s,o,l,c,h){let m=s.data[o];if(null===m)m=function(s,o,l,c,h){const m=Ma(),v=Fl(),C=s.data[o]=function(s,o,l,c,h,m){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,l,c,h),Xe.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=c,m.attrs=h;const v=function(){const s=Xe.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return hr(m,!0),m}function Id(s,o,l,c){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function wf(s,o,l){Vl(o);try{const c=s.viewQuery;null!==c&&dc(1,c,l);const h=s.template;null!==h&&Yw(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&vf(s,o),s.staticViewQueries&&dc(2,s.viewQuery,l);const m=s.components;null!==m&&function(s,o){for(let l=0;l<o.length;l++)BD(s,o[l])}(o,m)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Ba()}}function Td(s,o,l,c){const h=o[2];if(256==(256&h))return;Vl(o);const m=Ra();try{Sa(o),function(s){Xe.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Yw(s,o,l,2,c);const v=3==(3&h);if(!m)if(v){const T=s.preOrderCheckHooks;null!==T&&Bl(o,T,null)}else{const T=s.preOrderHooks;null!==T&&ja(o,T,0,null),qc(o,0)}if(function(s){for(let o=nu(s);null!==o;o=ic(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const h=l[c],m=h[3];0==(1024&h[2])&&Bs(m,1),h[2]|=1024}}}(o),function(s){for(let o=nu(s);null!==o;o=ic(o))for(let l=10;l<o.length;l++){const c=o[l],h=c[1];Aa(c)&&Td(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&vf(s,o),!m)if(v){const T=s.contentCheckHooks;null!==T&&Bl(o,T)}else{const T=s.contentHooks;null!==T&&ja(o,T,1),qc(o,1)}!function(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)js(~h);else{const m=h,v=l[++c],b=l[++c];Na(v,m),b(2,o[m])}}}finally{js(-1)}}(s,o);const b=s.components;null!==b&&function(s,o){for(let l=0;l<o.length;l++)VD(s,o[l])}(o,b);const C=s.viewQuery;if(null!==C&&dc(2,C,c),!m)if(v){const T=s.viewCheckHooks;null!==T&&Bl(o,T)}else{const T=s.viewHooks;null!==T&&ja(o,T,2),qc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Bs(o[3],-1))}finally{Ba()}}function wg(s,o,l,c){const h=o[10],m=!Ra(),v=fs(o);try{m&&!v&&h.begin&&h.begin(),v&&wf(s,o,c),Td(s,o,l,c)}finally{m&&!v&&h.end&&h.end()}}function Yw(s,o,l,c,h){const m=cn(),v=2&c;try{js(-1),v&&o.length>20&&Hw(s,o,20,Ra()),l(c,h)}finally{js(m)}}function Qw(s,o,l){if(qn(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function n_(s,o,l){!kl()||(function(s,o,l,c){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||Ha(l,o),Nn(c,o);const v=l.initialInputs;for(let b=h;b<m;b++){const C=s.data[b],T=Ir(C);T&&PD(o,l,C);const k=dn(o,s,b,l);Nn(k,o),null!==v&&Sg(0,b-h,k,C,0,v),T&&(Qt(l.index,o)[8]=k)}}(s,o,l,On(l,o)),128==(128&l.flags)&&function(s,o,l){const c=l.directiveStart,h=l.directiveEnd,v=l.index,b=Xe.lFrame.currentDirectiveIndex;try{js(v);for(let C=c;C<h;C++){const T=s.data[C],k=o[C];Pa(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Md(T,k)}}finally{js(-1),Pa(b)}}(s,o,l))}function r_(s,o,l=On){const c=o.localNames;if(null!==c){let h=o.index+1;for(let m=0;m<c.length;m+=2){const v=c[m+1],b=-1===v?l(o,s):s[v];s[h++]=b}}}function Jw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=bf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function bf(s,o,l,c,h,m,v,b,C,T){const k=20+c,P=k+h,$=function(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:bt);return l}(k,P),Q="function"==typeof T?T():T;return $[1]={type:s,blueprint:$,template:l,queries:null,viewQuery:b,declTNode:o,data:$.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:Q,incompleteFirstPass:!1}}function s_(s,o,l,c){const h=Ig(o);null===l?h.push(c):(h.push(l),s.firstCreatePass&&fb(s).push(c,h.length-1))}function eb(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,h):l[c]=[o,h]}return l}function Cs(s,o,l,c,h,m,v,b){const C=On(o,l);let k,T=o.inputs;!b&&null!=T&&(k=T[c])?(pb(s,l,k,c,h),cs(o)&&function(s,o){const l=Qt(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,Xt(m)?m.setProperty(C,c,h):Je(c)||(C.setProperty?C.setProperty(c,h):C[c]=h))}function uc(s,o,l,c){let h=!1;if(kl()){const m=function(s,o,l){const c=s.directiveRegistry;let h=null;if(c)for(let m=0;m<c.length;m++){const v=c[m];ru(l,v.selectors,!1)&&(h||(h=[]),fr(Ha(l,o),s,v.type),Ir(v)?(a_(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===c?null:{"":-1};if(null!==m){h=!0,xg(l,s.data.length,m.length);for(let k=0;k<m.length;k++){const P=m[k];P.providersResolver&&P.providersResolver(P)}let b=!1,C=!1,T=Id(s,o,m.length,null);for(let k=0;k<m.length;k++){const P=m[k];l.mergedAttrs=Fn(l.mergedAttrs,P.hostAttrs),ab(s,l,o,T,P),ND(T,P,v),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const $=P.type.prototype;!b&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),b=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),T++}!function(s,o){const c=o.directiveEnd,h=s.data,m=o.attrs,v=[];let b=null,C=null;for(let T=o.directiveStart;T<c;T++){const k=h[T],P=k.inputs,$=null===m||pg(o)?null:LD(P,m);v.push($),b=eb(P,T,b),C=eb(k.outputs,T,C)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=b,o.outputs=C}(s,l)}v&&function(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new je("301",`Export of name '${o[h+1]}' not found!`);c.push(o[h],m)}}}(l,c,v)}return l.mergedAttrs=Fn(l.mergedAttrs,l.attrs),h}function sb(s,o,l,c,h,m){const v=m.hostBindings;if(v){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const C=~o.index;(function(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(b)!=C&&b.push(C),b.push(c,h,v)}}function Md(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function a_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function ND(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;Ir(o)&&(l[""]=s)}}function xg(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function ab(s,o,l,c,h){s.data[c]=h;const m=h.factory||(h.factory=qi(h.type)),v=new Ga(m,Ir(h),null);s.blueprint[c]=v,l[c]=v,sb(s,o,0,c,Id(s,l,h.hostVars,bt),h)}function PD(s,o,l){const c=On(o,s),h=Jw(l),m=s[10],v=Ao(s,ou(s,h,null,l.onPush?64:16,c,o,m,m.createRenderer(c,l),null,null));s[o.index]=v}function ua(s,o,l,c,h,m){const v=On(s,o);!function(s,o,l,c,h,m,v){if(null==m)Xt(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const b=null==v?K(m):v(m,c||"",h);Xt(s)?s.setAttribute(o,h,b,l):l?o.setAttributeNS(l,h,b):o.setAttribute(h,b)}}(o[11],v,m,s.value,l,c,h)}function Sg(s,o,l,c,h,m){const v=m[o];if(null!==v){const b=c.setInput;for(let C=0;C<v.length;){const T=v[C++],k=v[C++],P=v[C++];null!==b?c.setInput(l,P,T,k):l[k]=P}}}function LD(s,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return l}function ub(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function VD(s,o){const l=Qt(o,s);if(Aa(l)){const c=l[1];80&l[2]?Td(c,l,c.template,l[8]):l[5]>0&&l_(l)}}function l_(s){for(let c=nu(s);null!==c;c=ic(c))for(let h=10;h<c.length;h++){const m=c[h];if(1024&m[2]){const v=m[1];Td(v,m,v.template,m[8])}else m[5]>0&&l_(m)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=Qt(l[c],s);Aa(h)&&h[5]>0&&l_(h)}}function BD(s,o){const l=Qt(o,s),c=l[1];(function(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),wf(c,l,l[8])}function Ao(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function c_(s){for(;s;){s[2]|=64;const o=al(s);if(wh(s)&&!o)return s;s=o}return null}function h_(s,o,l){const c=o[10];c.begin&&c.begin();try{Td(s,o,s.template,l)}catch(h){throw p_(o,h),h}finally{c.end&&c.end()}}function hb(s){!function(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],c=Yh(l),h=c[1];wg(h,c,h.template,l)}}(s[8])}function dc(s,o,l){$o(0),o(s,l)}const Cf=(()=>Promise.resolve(null))();function Ig(s){return s[7]||(s[7]=[])}function fb(s){return s.cleanup||(s.cleanup=[])}function p_(s,o){const l=s[9],c=l?l.get(tu,null):null;c&&c.handleError(o)}function pb(s,o,l,c,h){for(let m=0;m<l.length;){const v=l[m++],b=l[m++],C=o[v],T=s.data[v];null!==T.setInput?T.setInput(C,h,c,b):C[b]=h}}function fl(s,o,l){const c=Ei(o,s);!function(s,o,l){Xt(s)?s.setValue(o,l):o.textContent=l}(s[11],c,l)}function Rd(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?m=b:1==m?h=de(h,b):2==m&&(c=de(c,b+": "+o[++v]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}const kd=new wn("INJECTOR",-1);class Df{get(o,l=Jo){if(l===Jo){const c=new Error(`NullInjectorError: No provider for ${ae(o)}!`);throw c.name="NullInjectorError",c}return l}}const g_=new wn("Set Injector scope."),xf={},GD={};let m_;function Af(){return void 0===m_&&(m_=new Df),m_}function y_(s,o=null,l=null,c){const h=__(s,o,l,c);return h._resolveInjectorDefTypes(),h}function __(s,o=null,l=null,c){return new Sf(s,l,o||Af(),c)}class Sf{constructor(o,l,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&Ai(l,b=>this.processProvider(b,o,l)),Ai([o],b=>this.processInjectorType(b,[],m)),this.records.set(kd,Od(void 0,this));const v=this.records.get(g_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ae(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Jo,c=gt.Default){this.assertNotDestroyed();const h=V(this),m=jr(void 0);try{if(!(c&gt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=("function"==typeof(s=o)||"object"==typeof s&&s instanceof wn)&&pi(o);b=C&&this.injectableDefInScope(C)?Od(Tg(o),xf):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&gt.Self?Af():this.parent).get(o,l=c&gt.Optional&&l===Jo?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Yi]=v[Yi]||[]).unshift(ae(o)),h)throw v;return function(s,o,l,c){const h=s[Yi];throw o[D]&&h.unshift(o[D]),s.message=function(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ae(o);if(Array.isArray(o))h=o.map(ae).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];m.push(v+":"+("string"==typeof b?JSON.stringify(b):ae(b)))}h=`{${m.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(ed,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[Yi]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{jr(m),V(h)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(ae(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,l,c){if(!(o=X(o)))return!1;let h=gi(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,b=-1!==c.indexOf(v);if(void 0!==m&&(h=gi(m)),null==h)return!1;if(null!=h.imports&&!b){let k;c.push(v);try{Ai(h.imports,P=>{this.processInjectorType(P,l,c)&&(void 0===k&&(k=[]),k.push(P))})}finally{}if(void 0!==k)for(let P=0;P<k.length;P++){const{ngModule:$,providers:Q}=k[P];Ai(Q,ye=>this.processProvider(ye,$,Q||U))}}this.injectorDefTypes.add(v);const C=qi(v)||(()=>new v);this.records.set(v,Od(C,xf));const T=h.providers;if(null!=T&&!b){const k=o;Ai(T,P=>this.processProvider(P,k,T))}return void 0!==m&&void 0!==o.providers}processProvider(o,l,c){let h=uu(o=X(o))?o:X(o&&o.provide);const m=(s=o,_b(s)?Od(void 0,s.useValue):Od(yb(s),xf));var s;if(uu(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=Od(void 0,xf,!0),v.factory=()=>We(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,l){return l.value===xf&&(l.value=GD,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(s=l.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const l=X(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Tg(s){const o=pi(s),l=null!==o?o.factory:qi(s);if(null!==l)return l;if(s instanceof wn)throw new Error(`Token ${ae(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=Ya(o,"?");throw new Error(`Can't resolve all parameters for ${ae(s)}: (${c.join(", ")}).`)}const l=function(s){const o=s&&(s[Hi]||s[Qn]);if(o){const l=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Error("unreachable")}function yb(s,o,l){let c;if(uu(s)){const h=X(s);return qi(h)||Tg(h)}if(_b(s))c=()=>X(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...We(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>ie(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return qi(h)||Tg(h);c=()=>new h(...We(s.deps))}return c}function Od(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function _b(s){return null!==s&&"object"==typeof s&&x in s}function uu(s){return"function"==typeof s}let to=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return y_({name:""},c,l,"");{const m=null!==(h=l.name)&&void 0!==h?h:"";return y_({name:m},l.parent,l.providers,m)}}}return s.THROW_IF_NOT_FOUND=Jo,s.NULL=new Df,s.\u0275prov=ln({token:s,providedIn:"any",factory:()=>ie(kd)}),s.__NG_ELEMENT_ID__=-1,s})();function tx(s,o){Gs(Yh(s)[1],yn())}function C_(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if(Ir(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");h=o.\u0275dir}if(h){if(l){c.push(h);const v=s;v.inputs=Tf(s.inputs),v.declaredInputs=Tf(s.declaredInputs),v.outputs=Tf(s.outputs);const b=h.hostBindings;b&&sx(s,b);const C=h.viewQuery,T=h.contentQueries;if(C&&rx(s,C),T&&ix(s,T),ne(s.inputs,h.inputs),ne(s.declaredInputs,h.declaredInputs),ne(s.outputs,h.outputs),Ir(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const b=m[v];b&&b.ngInherit&&b(s),b===C_&&(l=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Fn(h.hostAttrs,l=Fn(l,h.hostAttrs))}}(c)}function Tf(s){return s===z?{}:s===U?[]:s}function rx(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function ix(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,m)=>{o(c,h,m),l(c,h,m)}:o}function sx(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}let kg=null;function Pd(){if(!kg){const s=Et.Symbol;if(s&&s.iterator)kg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(kg=c)}}}return kg}function Ld(s){return!!Cr(s)&&(Array.isArray(s)||!(s instanceof Map)&&Pd()in s)}function Cr(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Or(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function x_(s,o,l,c){const h=Ae();return Or(h,Us(),o)&&(Nt(),ua(_n(),h,s,o,l,c)),x_}function Pb(s,o,l,c,h,m,v,b){const C=Ae(),T=Nt(),k=s+20,P=T.firstCreatePass?function(s,o,l,c,h,m,v,b,C){const T=o.consts,k=ac(o,s,4,v||null,Mr(T,b));uc(o,l,k,Mr(T,C)),Gs(o,k);const P=k.tViews=bf(2,k,c,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,k),P.queries=o.queries.embeddedTView(k)),k}(k,T,C,o,l,c,h,m,v):T.data[k];hr(P,!1);const $=C[11].createComment("");oa(T,C,$,P),Nn($,C),Ao(C,C[k]=ub($,C,$,P)),Iu(P)&&n_(T,C,P),null!=v&&r_(C,P,b)}function Hd(s,o=gt.Default){const l=Ae();return null===l?ie(s,o):Gl(yn(),l,X(s),o)}function O_(){throw new Error("invalid")}function Vg(s,o,l){const c=Ae();return Or(c,Us(),o)&&Cs(Nt(),_n(),c,s,o,c[11],l,!1),Vg}function Bg(s,o,l,c,h){const v=h?"class":"style";pb(s,l,o.inputs[v],v,c)}function So(s,o,l,c){const h=Ae(),m=Nt(),v=20+s,b=h[11],C=h[v]=y(b,o,Xe.lFrame.currentNamespace),T=m.firstCreatePass?function(s,o,l,c,h,m,v){const b=o.consts,T=ac(o,s,2,h,Mr(b,m));return uc(o,l,T,Mr(b,v)),null!==T.attrs&&Rd(T,T.attrs,!1),null!==T.mergedAttrs&&Rd(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(v,m,h,0,o,l,c):m.data[v];hr(T,!0);const k=T.mergedAttrs;null!==k&&ms(b,C,k);const P=T.classes;null!==P&&Uy(b,C,P);const $=T.styles;null!==$&&mf(b,C,$),64!=(64&T.flags)&&oa(m,h,C,T),0===Xe.lFrame.elementDepthCount&&Nn(C,h),Xe.lFrame.elementDepthCount++,Iu(T)&&(n_(m,h,T),Qw(m,T,h)),null!==c&&r_(h,T)}function F_(){let s=yn();Fl()?vo():(s=s.parent,hr(s,!1));const o=s;Xe.lFrame.elementDepthCount--;const l=Nt();l.firstCreatePass&&(Gs(l,s),qn(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&Bg(l,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&Bg(l,o,Ae(),o.stylesWithoutHost,!1)}function Zb(s,o,l,c){So(s,o,l,c),F_()}function N_(s,o,l){const c=Ae(),h=Nt(),m=s+20,v=h.firstCreatePass?function(s,o,l,c,h){const m=o.consts,v=Mr(m,c),b=ac(o,s,8,"ng-container",v);return null!==v&&Rd(b,v,!0),uc(o,l,b,Mr(m,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(m,h,c,o,l):h.data[m];hr(v,!0);const b=c[m]=c[11].createComment("");oa(h,c,b,v),Nn(b,c),Iu(v)&&(n_(h,c,v),Qw(h,v,c)),null!=l&&r_(c,v)}function P_(){let s=yn();const o=Nt();Fl()?vo():(s=s.parent,hr(s,!1)),o.firstCreatePass&&(Gs(o,s),qn(s)&&o.queries.elementEnd(s))}function Kb(s,o,l){N_(s,o,l),P_()}function Ug(){return Ae()}function fu(s){return!!s&&"function"==typeof s.then}function Yb(s){return!!s&&"function"==typeof s.subscribe}const Qb=Yb;function L_(s,o,l,c){const h=Ae(),m=Nt(),v=yn();return function(s,o,l,c,h,m,v,b){const C=Iu(c),k=s.firstCreatePass&&fb(s),P=o[8],$=Ig(o);let Q=!0;if(3&c.type||b){const Ge=On(c,o),et=b?b(Ge):Ge,Se=$.length,ft=b?jt=>b(kn(jt[c.index])):c.index;if(Xt(l)){let jt=null;if(!b&&C&&(jt=function(s,o,l,c){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===c){const b=o[7],C=h[m+2];return b.length>C?b[C]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,c.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=m,jt.__ngLastListenerFn__=m,Q=!1;else{m=B_(c,o,P,m,!1);const sn=l.listen(et,h,m);$.push(m,sn),k&&k.push(h,ft,Se,Se+1)}}else m=B_(c,o,P,m,!0),et.addEventListener(h,m,v),$.push(m),k&&k.push(h,ft,Se,v)}else m=B_(c,o,P,m,!1);const ye=c.outputs;let Le;if(Q&&null!==ye&&(Le=ye[h])){const Ge=Le.length;if(Ge)for(let et=0;et<Ge;et+=2){const xs=o[Le[et]][Le[et+1]].subscribe(m),yu=$.length;$.push(m,xs),k&&k.push(h,c.index,yu,-(yu+1))}}}(m,h,h[11],v,s,o,!!l,c),L_}function Vn(s,o,l,c){try{return!1!==l(c)}catch(h){return p_(s,h),!1}}function B_(s,o,l,c,h){return function m(v){if(v===Function)return c;const b=2&s.flags?Qt(s.index,o):o;0==(32&o[2])&&c_(b);let C=Vn(o,0,c,v),T=m.__ngNextListenerFn__;for(;T;)C=Vn(o,0,T,v)&&C,T=T.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Xb(s=1){return function(s){return(Xe.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,Xe.lFrame.contextLView))[8]}(s)}function qR(s,o){let l=null;const c=function(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===c?ru(s,m,!0):Gy(c,m))return h}else l=h}return l}function bx(s){const o=Ae()[16][6];if(!o.projection){const c=o.projection=Ya(s?s.length:1,null),h=c.slice();let m=o.child;for(;null!==m;){const v=s?qR(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:c[v]=m,h[v]=m),m=m.next}}}function Ex(s,o=0,l){const c=Ae(),h=Nt(),m=ac(h,20+s,16,null,l||null);null===m.projection&&(m.projection=o),vo(),64!=(64&m.flags)&&function(s,o,l){By(o[11],0,o,l,Wn(s,l,o),hf(l.parent||o[6],l,o))}(h,c,m)}function G_(s,o,l,c,h){const m=s[l+1],v=null===o;let b=c?ki(m):ul(m),C=!1;for(;0!==b&&(!1===C||v);){const k=s[b+1];Sx(s[b],o)&&(C=!0,s[b+1]=c?Wy(k):zy(k)),b=c?ki(k):ul(k)}C&&(s[l+1]=c?zy(m):Wy(m))}function Sx(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Yl(s,o)>=0}function u0(s,o,l){return Io(s,o,l,!1),u0}function $_(s,o){return Io(s,o,null,!0),$_}function Io(s,o,l,c){const h=Ae(),m=Nt(),v=function(s){const o=Xe.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);m.firstUpdatePass&&function(s,o,l,c){const h=s.data;if(null===h[l+1]){const m=h[cn()],v=function(s,o){return o>=s.expandoStartIndex}(s,l);(function(s,o){return 0!=(s.flags&(o?16:32))})(m,c)&&null===o&&!v&&(o=!1),o=function(s,o,l,c){const h=function(s){const o=Xe.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=jg(l=z_(null,s,o,l,c),o.attrs,c),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=z_(h,s,o,l,c),null===m){let C=function(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==ul(c))return s[ki(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=z_(null,s,o,C[1],c),C=jg(C,o.attrs,c),function(s,o,l,c){s[ki(l?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else m=function(s,o,l){let c;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)c=jg(c,s[m].hostAttrs,l);return jg(c,o.attrs,l)}(s,o,c)}return void 0!==m&&(c?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,c),function(s,o,l,c,h,m){let v=m?o.classBindings:o.styleBindings,b=ki(v),C=ul(v);s[c]=l;let k,T=!1;if(Array.isArray(l)){const P=l;k=P[1],(null===k||Yl(P,k)>0)&&(T=!0)}else k=l;if(h)if(0!==C){const $=ki(s[b+1]);s[c+1]=xd($,b),0!==$&&(s[$+1]=qy(s[$+1],c)),s[b+1]=function(s,o){return 131071&s|o<<17}(s[b+1],c)}else s[c+1]=xd(b,0),0!==b&&(s[b+1]=qy(s[b+1],c)),b=c;else s[c+1]=xd(C,0),0===b?b=c:s[C+1]=qy(s[C+1],c),C=c;T&&(s[c+1]=zy(s[c+1])),G_(s,k,c,!0),G_(s,k,c,!1),function(s,o,l,c,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Yl(m,o)>=0&&(l[c+1]=Wy(l[c+1]))}(o,k,s,c,m),v=xd(b,C),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,c)}}(m,s,v,c),o!==bt&&Or(h,v,o)&&function(s,o,l,c,h,m,v,b){if(!(3&o.type))return;const C=s.data,T=C[b+1];Gg(function(s){return 1==(1&s)}(T)?f0(C,o,l,h,ul(T),v):void 0)||(Gg(m)||function(s){return 2==(2&s)}(T)&&(m=f0(C,null,l,h,b,v)),function(s,o,l,c,h){const m=Xt(s);if(o)h?m?s.addClass(l,c):l.classList.add(c):m?s.removeClass(l,c):l.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:Qs.DashCase;if(null==h)m?s.removeStyle(l,c,v):l.style.removeProperty(c);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),v|=Qs.Important),m?s.setStyle(l,c,h,v):l.style.setProperty(c,h,b?"important":"")}}}(c,v,Ei(cn(),l),h,m))}(m,m.data[cn()],h,h[11],s,h[v+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ae(Ji(s)))),s}(o,l),c,v)}function z_(s,o,l,c,h){let m=null;const v=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<v&&(m=o[b],c=jg(c,m.hostAttrs,h),m!==s);)b++;return null!==s&&(l.directiveStylingLast=b),c}function jg(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),vr(s,v,!!l||o[++m]))}return void 0===s?null:s}function f0(s,o,l,c,h,m){const v=null===o;let b;for(;h>0;){const C=s[h],T=Array.isArray(C),k=T?C[1]:C,P=null===k;let $=l[h+1];$===bt&&($=P?U:void 0);let Q=P?Kl($,c):k===c?$:void 0;if(T&&!Gg(Q)&&(Q=Kl(C,c)),Gg(Q)&&(b=Q,v))return b;const ye=s[h+1];h=v?ki(ye):ul(ye)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(b=Kl(C,c))}return b}function Gg(s){return void 0!==s}function zx(s,o=""){const l=Ae(),c=Nt(),h=s+20,m=c.firstCreatePass?ac(c,h,1,o,null):c.data[h],v=l[h]=function(s,o){return Xt(s)?s.createText(o):s.createTextNode(o)}(l[11],o);oa(c,l,v,m),hr(m,!1)}function q_(s){return Hg("",s,""),q_}function Hg(s,o,l){const c=Ae(),h=function(s,o,l,c){return Or(s,Us(),l)?o+K(l)+c:bt}(c,s,o,l);return h!==bt&&fl(c,cn(),h),Hg}function Y_(s,o,l){const c=Ae();return Or(c,Us(),o)&&Cs(Nt(),_n(),c,s,o,c[11],l,!0),Y_}const fa=void 0;var JR=["en",[["a","p"],["AM","PM"],fa],[["AM","PM"],fa,fa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fa,"{1} 'at' {0}",fa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Nf={};function Q_(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=zd(o);if(l)return l;const c=o.split("-")[0];if(l=zd(c),l)return l;if("en"===c)return JR;throw new Error(`Missing locale data for the locale "${s}".`)}function sA(s){return Q_(s)[_t.PluralCase]}function zd(s){return s in Nf||(Nf[s]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[s]),Nf[s]}var _t=(()=>((_t=_t||{})[_t.LocaleId=0]="LocaleId",_t[_t.DayPeriodsFormat=1]="DayPeriodsFormat",_t[_t.DayPeriodsStandalone=2]="DayPeriodsStandalone",_t[_t.DaysFormat=3]="DaysFormat",_t[_t.DaysStandalone=4]="DaysStandalone",_t[_t.MonthsFormat=5]="MonthsFormat",_t[_t.MonthsStandalone=6]="MonthsStandalone",_t[_t.Eras=7]="Eras",_t[_t.FirstDayOfWeek=8]="FirstDayOfWeek",_t[_t.WeekendRange=9]="WeekendRange",_t[_t.DateFormat=10]="DateFormat",_t[_t.TimeFormat=11]="TimeFormat",_t[_t.DateTimeFormat=12]="DateTimeFormat",_t[_t.NumberSymbols=13]="NumberSymbols",_t[_t.NumberFormats=14]="NumberFormats",_t[_t.CurrencyCode=15]="CurrencyCode",_t[_t.CurrencySymbol=16]="CurrencySymbol",_t[_t.CurrencyName=17]="CurrencyName",_t[_t.Currencies=18]="Currencies",_t[_t.Directionality=19]="Directionality",_t[_t.PluralCase=20]="PluralCase",_t[_t.ExtraData=21]="ExtraData",_t))();const J_="en-US";let aA=J_;function A0(s,o,l,c,h){if(s=X(s),Array.isArray(s))for(let m=0;m<s.length;m++)A0(s[m],o,l,c,h);else{const m=Nt(),v=Ae();let b=uu(s)?s:X(s.provide),C=yb(s);const T=yn(),k=1048575&T.providerIndexes,P=T.directiveStart,$=T.providerIndexes>>20;if(uu(s)||!s.multi){const Q=new Ga(C,h,Hd),ye=I0(b,o,h?k:k+$,P);-1===ye?(fr(Ha(T,v),m,b),S0(m,s,o.length),o.push(b),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(Q),v.push(Q)):(l[ye]=Q,v[ye]=Q)}else{const Q=I0(b,o,k+$,P),ye=I0(b,o,k,k+$),Le=Q>=0&&l[Q],Ge=ye>=0&&l[ye];if(h&&!Ge||!h&&!Le){fr(Ha(T,v),m,b);const et=function(s,o,l,c,h){const m=new Ga(s,l,Hd);return m.multi=[],m.index=o,m.componentProviders=0,kA(m,h,c&&!l),m}(h?Yk:Kk,l.length,h,c,C);!h&&Ge&&(l[ye].providerFactory=et),S0(m,s,o.length,0),o.push(b),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(et),v.push(et)}else S0(m,s,Q>-1?Q:ye,kA(l[h?ye:Q],C,!h&&c));!h&&c&&Ge&&l[ye].componentProviders++}}}function S0(s,o,l,c){const h=uu(o),m=function(s){return!!s.useClass}(o);if(h||m){const C=(m?X(o.useClass):o).prototype.ngOnDestroy;if(C){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=T.indexOf(l);-1===k?T.push(l,[c,C]):T[k+1].push(c,C)}else T.push(l,C)}}}function kA(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function I0(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function Kk(s,o,l,c){return T0(this.multi,[])}function Yk(s,o,l,c){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=dn(l,l[1],this.providerFactory.index,c);m=b.slice(0,v),T0(h,m);for(let C=v;C<b.length;C++)m.push(b[C])}else m=[],T0(h,m);return m}function T0(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function OA(s,o=[]){return l=>{l.providersResolver=(c,h)=>function(s,o,l){const c=Nt();if(c.firstCreatePass){const h=Ir(s);A0(l,c.data,c.blueprint,h,!0),A0(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class FA{}class eO{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${ae(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Jg=(()=>{class s{}return s.NULL=new eO,s})();function tO(){return Lf(yn(),Ae())}function Lf(s,o){return new Xg(On(s,o))}let Xg=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=tO,s})();function nO(s){return s instanceof Xg?s.nativeElement:s}class PA{}let rO=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function(){const s=Ae(),l=Qt(yn().index,s);return function(s){return s[11]}(wi(l)?l:s)}(),s})(),LA=(()=>{class s{}return s.\u0275prov=ln({token:s,providedIn:"root",factory:()=>null}),s})();class VA{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const M0=new VA("13.1.1"),em={};function tm(s,o,l,c,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&c.push(kn(m)),zi(m))for(let b=10;b<m.length;b++){const C=m[b],T=C[1].firstChild;null!==T&&tm(C[1],C,T,c)}const v=l.type;if(8&v)tm(s,o,l.child,c);else if(32&v){const b=rc(l,o);let C;for(;C=b();)c.push(C)}else if(16&v){const b=Uw(o,l);if(Array.isArray(b))c.push(...b);else{const C=al(o[16]);tm(C[1],C,b,c,!0)}}l=h?l.projectionNext:l.next}return c}class qd{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return tm(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(zi(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(Ne(o,c),$r(l,c))}this._attachedToViewContainer=!1}ke(this._lView[1],this._lView)}onDestroy(o){s_(this._lView[1],this._lView,null,o)}markForCheck(){c_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){h_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,l){wo(!0);try{h_(s,o,l)}finally{wo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,gf(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class oO extends qd{constructor(o){super(o),this._view=o}detectChanges(){hb(this._view)}checkNoChanges(){!function(s){wo(!0);try{hb(s)}finally{wo(!1)}}(this._view)}get context(){return null}}class BA extends Jg{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=un(o);return new nv(l,this.ngModule)}}function tv(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}const UA=new wn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>af});class nv extends FA{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=o.selectors.map(vD).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return tv(this.componentDef.inputs)}get outputs(){return tv(this.componentDef.outputs)}create(o,l,c,h){const m=(h=h||this.ngModule)?function(s,o){return{get:(l,c,h)=>{const m=s.get(l,em,h);return m!==em||c===em?m:o.get(l,c,h)}}}(o,h.injector):o,v=m.get(PA,Ou),b=m.get(LA,null),C=v.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",k=c?function(s,o,l){if(Xt(s))return s.selectRootElement(o,l===Ke.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(C,c,this.componentDef.encapsulation):y(v.createRenderer(null,this.componentDef),T,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(T)),P=this.componentDef.onPush?576:528,$=function(s,o){return{components:[],scheduler:s||af,clean:Cf,playerHandler:o||null,flags:0}}(),Q=bf(0,null,null,1,0,null,null,null,null,null),ye=ou(null,Q,$,P,null,null,v,C,b,m);let Le,Ge;Vl(ye);try{const et=function(s,o,l,c,h,m){const v=l[1];l[20]=s;const C=ac(v,20,2,"#host",null),T=C.mergedAttrs=o.hostAttrs;null!==T&&(Rd(C,T,!0),null!==s&&(ms(h,s,T),null!==C.classes&&Uy(h,s,C.classes),null!==C.styles&&mf(h,s,C.styles)));const k=c.createRenderer(s,o),P=ou(l,Jw(o),null,o.onPush?64:16,l[20],C,c,k,m||null,null);return v.firstCreatePass&&(fr(Ha(C,l),v,o.type),a_(v,C),xg(C,l.length,1)),Ao(l,P),l[20]=P}(k,this.componentDef,ye,v,C);if(k)if(c)ms(C,k,["ng-version",M0.full]);else{const{attrs:Se,classes:ft}=function(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let m=s[c];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++c]):8===h&&l.push(m);else{if(!Mn(h))break;h=m}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Se&&ms(C,k,Se),ft&&ft.length>0&&Uy(C,k,ft.join(" "))}if(Ge=mo(Q,20),void 0!==l){const Se=Ge.projection=[];for(let ft=0;ft<this.ngContentSelectors.length;ft++){const jt=l[ft];Se.push(null!=jt?Array.from(jt):null)}}Le=function(s,o,l,c,h){const m=l[1],v=function(s,o,l){const c=yn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),ab(s,c,o,Id(s,o,1,null),l));const h=dn(o,s,c.directiveStart,c);Nn(h,o);const m=On(c,o);return m&&Nn(m,o),h}(m,l,o);if(c.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=yn();o.contentQueries(1,v,C.directiveStart)}const b=yn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(js(b.index),sb(l[1],b,0,b.directiveStart,b.directiveEnd,o),Md(o,v)),v}(et,this.componentDef,ye,$,[tx]),wf(Q,ye,null)}finally{Ba()}return new cO(this.componentType,Le,Lf(Ge,ye),ye,Ge)}}class cO extends class{}{constructor(o,l,c,h,m){super(),this.location=c,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new oO(h),this.componentType=o}get injector(){return new pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Vf{}class jA{}const Bf=new Map;class R0 extends Vf{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new BA(this);const c=cr(o);this._bootstrapComponents=Mi(c.bootstrap),this._r3Injector=__(o,l,[{provide:Vf,useValue:this},{provide:Jg,useValue:this.componentFactoryResolver}],ae(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=to.THROW_IF_NOT_FOUND,c=gt.Default){return o===to||o===Vf||o===kd?this:this._r3Injector.get(o,l,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class rv extends jA{constructor(o){super(),this.moduleType=o,null!==cr(o)&&function(s){const o=new Set;!function l(c){const h=cr(c,!0),m=h.id;null!==m&&(function(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ae(o)} vs ${ae(o.name)}`)}(m,Bf.get(m),c),Bf.set(m,c));const v=Mi(h.imports);for(const b of v)o.has(b)||(o.add(b),l(b))}(s)}(o)}create(o){return new R0(this.moduleType,o)}}function N0(s){return o=>{setTimeout(s,void 0,o)}}const yl=class extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){var h,m,v;let b=o,C=l||(()=>null),T=c;if(o&&"object"==typeof o){const P=o;b=null===(h=P.next)||void 0===h?void 0:h.bind(P),C=null===(m=P.error)||void 0===m?void 0:m.bind(P),T=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(C=N0(C),b&&(b=N0(b)),T&&(T=N0(T)));const k=super.subscribe({next:b,error:C,complete:T});return o instanceof J.w0&&o.add(k),k}};function XA(){return this._results[Pd()]()}class Zd{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Pd(),c=Zd.prototype;c[l]||(c[l]=XA)}get changes(){return this._changes||(this._changes=new yl)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=ri(o);(this._changesDetected=!function(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],m=o[c];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let jf=(()=>{class s{}return s.__NG_ELEMENT_ID__=L0,s})();const CO=jf,P0=class extends CO{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o){const l=this._declarationTContainer.tViews,c=ou(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(l)),wf(l,c,o),new qd(c)}};function L0(){return Kd(yn(),Ae())}function Kd(s,o){return 4&s.type?new P0(o,s,Lf(s,o)):null}let rm=(()=>{class s{}return s.__NG_ELEMENT_ID__=DO,s})();function DO(){return nS(yn(),Ae())}const xO=rm,eS=class extends xO{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return Lf(this._hostTNode,this._hostLView)}get injector(){return new pn(this._hostTNode,this._hostLView)}get parentInjector(){const o=za(this._hostTNode,this._hostLView);if(Di(o)){const l=Dn(o,this._hostLView),c=xi(o);return new pn(l[1].data[c+8],l)}return new pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=tS(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){const h=o.createEmbeddedView(l||{});return this.insert(h,c),h}createComponent(o,l,c,h,m){const v=o&&!("function"==typeof o);let b;if(v)b=l;else{const P=l||{};b=P.index,c=P.injector,h=P.projectableNodes,m=P.ngModuleRef}const C=v?o:new nv(un(o)),T=c||this.parentInjector;if(!m&&null==C.ngModule&&T){const P=T.get(Vf,null);P&&(m=P)}const k=C.create(T,h,void 0,m);return this.insert(k.hostView,b),k}insert(o,l){const c=o._lView,h=c[1];if(zi(c[3])){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const P=c[3],$=new eS(P,P[6],P[3]);$.detach($.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function(s,o,l,c){const h=10+c,m=l.length;c>0&&(l[h-1][4]=o),c<m-10?(o[4]=l[h],Hu(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,c,v,m);const b=pf(m,v),C=c[11],T=rr(C,v[7]);return null!==T&&function(s,o,l,c,h,m){c[0]=h,c[6]=o,gf(s,c,l,1,h,m)}(h,v[6],C,c,T,b),o.attachToViewContainerRef(),Hu(V0(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=tS(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=Ne(this._lContainer,l);c&&($r(V0(this._lContainer),l),ke(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=Ne(this._lContainer,l);return c&&null!=$r(V0(this._lContainer),l)?new qd(c):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function tS(s){return s[8]}function V0(s){return s[8]||(s[8]=[])}function nS(s,o){let l;const c=o[s.index];if(zi(c))l=c;else{let h;if(8&s.type)h=kn(c);else{const m=o[11];h=m.createComment("");const v=On(s,o);Xs(m,rr(m,v),h,function(s,o){return Xt(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=l=ub(c,o,h,s),Ao(o,l)}return new eS(l,s,o)}class im{constructor(o){this.queryList=o,this.matches=null}clone(){return new im(this.queryList)}setDirty(){this.queryList.setDirty()}}class sv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<c;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new sv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==lS(o,l).matches&&this.queries[l].setDirty()}}class B0{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class Yr{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,m=this.getByIndex(c).embeddedTView(o,h);m&&(m.indexInDeclarationView=c,null!==l?l.push(m):l=[m])}return null!==l?new Yr(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class U0{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new U0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const m=c[h];this.matchTNodeWithReadOption(o,l,IO(l,m)),this.matchTNodeWithReadOption(o,l,jn(l,o,m,!1,!1))}else c===jf?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,jn(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Xg||h===rm||h===jf&&4&l.type)this.addMatch(l.index,-2);else{const m=jn(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function IO(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function rS(s,o,l,c){return-1===l?function(s,o){return 11&s.type?Lf(s,o):4&s.type?Kd(s,o):null}(o,s):-2===l?function(s,o,l){return l===Xg?Lf(o,s):l===jf?Kd(o,s):l===rm?nS(o,s):void 0}(s,o,c):dn(s,s[1],l,o)}function j0(s,o,l,c){const h=o[19].queries[c];if(null===h.matches){const m=s.data,v=l.matches,b=[];for(let C=0;C<v.length;C+=2){const T=v[C];b.push(T<0?null:rS(o,m[T],v[C+1],l.metadata.read))}h.matches=b}return h.matches}function G0(s,o,l,c){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=j0(s,o,h,l);for(let b=0;b<m.length;b+=2){const C=m[b];if(C>0)c.push(v[b/2]);else{const T=m[b+1],k=o[-C];for(let P=10;P<k.length;P++){const $=k[P];$[17]===$[3]&&G0($[1],$,T,c)}if(null!==k[9]){const P=k[9];for(let $=0;$<P.length;$++){const Q=P[$];G0(Q[1],Q,T,c)}}}}}return c}function H0(s){const o=Ae(),l=Nt(),c=Pl();$o(c+1);const h=lS(l,c);if(s.dirty&&fs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?G0(l,o,c,[]):j0(l,o,h,c);s.reset(m,nO),s.notifyOnChanges()}return!0}return!1}function iS(s,o,l){const c=Nt();c.firstCreatePass&&(aS(c,new B0(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),oS(c,Ae(),o)}function sS(s,o,l,c){const h=Nt();if(h.firstCreatePass){const m=yn();aS(h,new B0(o,l,c),m.index),function(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}oS(h,Ae(),l)}function $0(){return s=Ae(),o=Pl(),s[19].queries[o].queryList;var s,o}function oS(s,o,l){const c=new Zd(4==(4&l));s_(s,o,c,c.destroy),null===o[19]&&(o[19]=new sv),o[19].queries.push(new im(c))}function aS(s,o,l){null===s.queries&&(s.queries=new Yr),s.queries.track(new U0(o,l))}function lS(s,o){return s.queries.getByIndex(o)}function lm(...s){}const pv=new wn("Application Initializer");let Qd=(()=>{class s{constructor(l){this.appInits=l,this.resolve=lm,this.reject=lm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(fu(m))l.push(m);else if(Qb(m)){const v=new Promise((b,C)=>{m.subscribe({complete:b,error:C})});l.push(v)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ie(pv,8))},s.\u0275prov=ln({token:s,factory:s.\u0275fac}),s})();const tE=new wn("AppId"),gu={provide:tE,useFactory:function(){return`${cm()}${cm()}${cm()}`},deps:[]};function cm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qr=new wn("Platform Initializer"),vl=new wn("Platform ID"),nE=new wn("appBootstrapListener");let gv=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ln({token:s,factory:s.\u0275fac}),s})();const $f=new wn("LocaleId"),mv=new wn("DefaultCurrencyCode");class rE{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let hm=(()=>{class s{compileModuleSync(l){return new rv(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),m=Mi(cr(l).declarations).reduce((v,b)=>{const C=un(b);return C&&v.push(new nv(C)),v},[]);return new rE(c,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ln({token:s,factory:s.\u0275fac}),s})();const iE=(()=>Promise.resolve(0))();function fm(s){"undefined"==typeof Zone?iE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ds{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let s=Et.requestAnimationFrame,o=Et.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Et,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,qf(s),s.isCheckStableRunning=!0,pm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),qf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,m,v,b)=>{try{return _v(s),l.invokeTask(h,m,v,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),vv(s)}},onInvoke:(l,c,h,m,v,b,C)=>{try{return _v(s),l.invoke(h,m,v,b,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),vv(s)}},onHasTask:(l,c,h,m)=>{l.hasTask(h,m),c===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,qf(s),pm(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,c,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ds.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ds.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,oE,lm,lm);try{return m.runTask(v,l,c)}finally{m.cancelTask(v)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const oE={};function pm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function qf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function _v(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function vv(s){s._nesting--,pm(s)}class lE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}let gm=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ds.assertNotInAngularZone(),fm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fm(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(ie(Ds))},s.\u0275prov=ln({token:s,factory:s.\u0275fac}),s})(),Wf=(()=>{class s{constructor(){this._applications=new Map,mm.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return mm.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ln({token:s,factory:s.\u0275fac}),s})();class uE{addToWindow(o){}findTestabilityInTree(o,l,c){return null}}function cE(s){mm=s}let xr,mm=new uE;const IS=new wn("AllowMultipleToken");class hE{constructor(o,l){this.name=o,this.token=l}}function ym(s,o,l=[]){const c=`Platform: ${o}`,h=new wn(c);return(m=[])=>{let v=vm();if(!v||v.injector.get(IS,!1))if(s)s(l.concat(m).concat({provide:h,useValue:!0}));else{const b=l.concat(m).concat({provide:h,useValue:!0},{provide:g_,useValue:"platform"});!function(s){if(xr&&!xr.destroyed&&!xr.injector.get(IS,!1))throw new je("400","");xr=s.get(pE);const o=s.get(Qr,null);o&&o.forEach(l=>l())}(to.create({providers:b,name:c}))}return function(s){const o=vm();if(!o)throw new je("401","");return o}()}}function vm(){return xr&&!xr.destroyed?xr:null}let pE=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const b=function(s,o){let l;return l="noop"===s?new lE:("zone.js"===s?void 0:s)||new Ds({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:Ds,useValue:b}];return b.run(()=>{const T=to.create({providers:C,parent:this.injector,name:l.moduleType.name}),k=l.create(T),P=k.injector.get(tu,null);if(!P)throw new je("402","");return b.runOutsideAngular(()=>{const $=b.onError.subscribe({next:Q=>{P.handleError(Q)}});k.onDestroy(()=>{gE(this._modules,k),$.unsubscribe()})}),function(s,o,l){try{const c=l();return fu(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(P,b,()=>{const $=k.injector.get(Qd);return $.runInitializers(),$.donePromise.then(()=>(function(s){wt(s,"Expected localeId to be defined"),"string"==typeof s&&(aA=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get($f,J_)||J_),this._moduleDoBootstrap(k),k))})})}bootstrapModule(l,c=[]){const h=TS({},c);return function(s,o,l){const c=new rv(l);return Promise.resolve(c)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const c=l.injector.get(wm);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new je("403","");l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je("404","");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ie(to))},s.\u0275prov=ln({token:s,factory:s.\u0275fac}),s})();function TS(s,o){return Array.isArray(o)?o.reduce(TS,s):Object.assign(Object.assign({},s),o)}let wm=(()=>{class s{constructor(l,c,h,m,v){this._zone=l,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new N.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new N.y(T=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Ds.assertNotInAngularZone(),fm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Ds.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{k.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ce.T)(b,C.pipe((0,se.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new je("405","");let h;h=l instanceof FA?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const m=function(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Vf),b=h.create(to.NULL,[],c||h.selector,m),C=b.location.nativeElement,T=b.injector.get(gm,null),k=T&&b.injector.get(Wf);return T&&k&&k.registerApplication(C,T),b.onDestroy(()=>{this.detachView(b.hostView),gE(this.components,b),k&&k.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new je("101","");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;gE(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(nE,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(ie(Ds),ie(to),ie(tu),ie(Jg),ie(Qd))},s.\u0275prov=ln({token:s,factory:s.\u0275fac}),s})();function gE(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let Zf=!0,Jd=!1;function bm(){return Jd=!0,Zf}function Em(){if(Jd)throw new Error("Cannot enable prod mode after platform setup.");Zf=!1}let kS=(()=>{class s{}return s.__NG_ELEMENT_ID__=OS,s})();function OS(s){return function(s,o,l){if(cs(s)&&!l){const c=Qt(s.index,o);return new qd(c,c)}return 47&s.type?new qd(o[16],o):null}(yn(),Ae(),16==(16&s))}class nh{constructor(){}supports(o){return Ld(o)}create(o){return new EE(o)}}const Am=(s,o)=>o;class EE{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Am}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,m=null;for(;l||c;){const v=!c||l&&l.currentIndex<LS(c,h,m)?l:c,b=LS(v,h,m),C=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const T=b-h,k=C-h;if(T!=k){for(let $=0;$<T;$++){const Q=$<m.length?m[$]:m[$]=0,ye=Q+$;k<=ye&&ye<T&&(m[$]=Q+1)}m[v.previousIndex]=k-T}}b!==C&&o(v,b,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ld(o))throw new Error(`Error trying to diff '${ae(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)m=o[b],v=this._trackByFn(b,m),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,m,v,b)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,b),c=!0),l=l._next}else h=0,function(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Pd()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,b=>{v=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,b,v,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,v,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new eF(l,c),m,h),o}_verifyReinsertion(o,l,c,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new PS),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PS),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class eF{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tF{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class PS{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new tF,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LS(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class CE{constructor(){}supports(o){return o instanceof Map||Cr(o)}create(){return new DE}}class DE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Cr(o)))throw new Error(`Error trying to diff '${ae(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const c=new VS(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class VS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dv(){return new Xf([new nh])}let Xf=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||Dv()),deps:[[s,new qr,new ii]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(s){return s.name||typeof s}(l)}'`)}}return s.\u0275prov=ln({token:s,providedIn:"root",factory:Dv}),s})();function AE(){return new ep([new CE])}let ep=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||AE()),deps:[[s,new qr,new ii]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return s.\u0275prov=ln({token:s,providedIn:"root",factory:AE}),s})();const BS=[new CE],SE=new Xf([new nh]),US=new ep(BS),GS=ym(null,"core",[{provide:vl,useValue:"unknown"},{provide:pE,deps:[to]},{provide:Wf,deps:[]},{provide:gv,deps:[]}]),$S=[{provide:wm,useClass:wm,deps:[Ds,to,tu,Jg,Qd]},{provide:UA,deps:[Ds],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:Qd,useClass:Qd,deps:[[new ii,pv]]},{provide:hm,useClass:hm,deps:[]},gu,{provide:Xf,useFactory:function(){return SE},deps:[]},{provide:ep,useFactory:function(){return US},deps:[]},{provide:$f,useFactory:function(s){return s||"undefined"!=typeof $localize&&$localize.locale||J_},deps:[[new xn($f),new ii,new qr]]},{provide:mv,useValue:"USD"}];let zS=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ie(wm))},s.\u0275mod=wa({type:s}),s.\u0275inj=Sn({providers:$S}),s})()},3942:(st,Ce,F)=>{"use strict";F.d(Ce,{Z:()=>je});var u=F(2090),J=F(4859),N=F(9681),ce=F(1877);class se{constructor(le,K){this._delegate=le,this.firebase=K,(0,N._addComponent)(le,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(le,K=N._DEFAULT_ENTRY_NAME){var ue;this._delegate.checkDestroyed();const De=this._delegate.container.getProvider(le);return!De.isInitialized()&&"EXPLICIT"===(null===(ue=De.getComponent())||void 0===ue?void 0:ue.instantiationMode)&&De.initialize(),De.getImmediate({identifier:K})}_removeServiceInstance(le,K=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(K)}_addComponent(le){(0,N._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,N._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function de(){const Be=function(Be){const le={},K={__esModule:!0,initializeApp:function(Ze,dt={}){const te=N.initializeApp(Ze,dt);if((0,u.r3)(le,te.name))return le[te.name];const he=new Be(te,K);return le[te.name]=he,he},app:De,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function(Ze){const dt=Ze.name,te=dt.replace("-compat","");if(N._registerComponent(Ze)&&"PUBLIC"===Ze.type){const he=(ve=De())=>{if("function"!=typeof ve[te])throw ne.create("invalid-app-argument",{appName:dt});return ve[te]()};void 0!==Ze.serviceProps&&(0,u.ZB)(he,Ze.serviceProps),K[te]=he,Be.prototype[te]=function(...ve){return this._getService.bind(this,dt).apply(this,Ze.multipleInstances?ve:[])}}return"PUBLIC"===Ze.type?K[te]:null},removeApp:function(Ze){delete le[Ze]},useAsService:function(Ze,dt){return"serverAuth"===dt?null:dt},modularAPIs:N}};function De(Ze){if(!(0,u.r3)(le,Ze=Ze||N._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:Ze});return le[Ze]}return K.default=K,Object.defineProperty(K,"apps",{get:function(){return Object.keys(le).map(Ze=>le[Ze])}}),De.App=Be,K}(se);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function(K){(0,u.ZB)(Be,K)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Be}(),G=new ce.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=H;(0,N.registerVersion)("@firebase/app-compat","0.1.12",undefined)},9681:(st,Ce,F)=>{"use strict";F.r(Ce),F.d(Ce,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Po,_DEFAULT_ENTRY_NAME:()=>zn,_addComponent:()=>an,_addOrOverwriteComponent:()=>Ar,_apps:()=>wt,_clearComponents:()=>Sn,_components:()=>Tt,_getProvider:()=>ln,_registerComponent:()=>Ur,_removeServiceInstance:()=>va,deleteApp:()=>Qn,getApp:()=>Hi,getApps:()=>Ie,initializeApp:()=>gi,onLog:()=>Gt,registerVersion:()=>gt,setLogLevel:()=>mi});var u=F(5861),J=F(4859),N=F(1877),ce=F(2090);class se{constructor(mt){this.container=mt}getPlatformInfoString(){return this.container.getProviders().map(Ft=>{if(function(ct){const mt=ct.getComponent();return"VERSION"===(null==mt?void 0:mt.type)}(Ft)){const Vt=Ft.getImmediate();return`${Vt.library}/${Vt.version}`}return null}).filter(Ft=>Ft).join(" ")}}const ne="@firebase/app",de=new N.Yd("@firebase/app"),zn="[DEFAULT]",St={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,Tt=new Map;function an(ct,mt){try{ct.container.addComponent(mt)}catch(Ft){de.debug(`Component ${mt.name} failed to register with FirebaseApp ${ct.name}`,Ft)}}function Ar(ct,mt){ct.container.addOrOverwriteComponent(mt)}function Ur(ct){const mt=ct.name;if(Tt.has(mt))return de.debug(`There were multiple attempts to register component ${mt}.`),!1;Tt.set(mt,ct);for(const Ft of wt.values())an(Ft,ct);return!0}function ln(ct,mt){return ct.container.getProvider(mt)}function va(ct,mt,Ft=zn){ln(ct,mt).clearInstance(Ft)}function Sn(){Tt.clear()}const Ut=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class En{constructor(mt,Ft,Vt){this._isDeleted=!1,this._options=Object.assign({},mt),this._config=Object.assign({},Ft),this._name=Ft.name,this._automaticDataCollectionEnabled=Ft.automaticDataCollectionEnabled,this._container=Vt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this.checkDestroyed(),this._automaticDataCollectionEnabled=mt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(mt){this._isDeleted=mt}checkDestroyed(){if(this.isDeleted)throw Ut.create("app-deleted",{appName:this._name})}}const Po="9.6.1";function gi(ct,mt={}){"object"!=typeof mt&&(mt={name:mt});const Ft=Object.assign({name:zn,automaticDataCollectionEnabled:!1},mt),Vt=Ft.name;if("string"!=typeof Vt||!Vt)throw Ut.create("bad-app-name",{appName:String(Vt)});const Gr=wt.get(Vt);if(Gr){if((0,ce.vZ)(ct,Gr.options)&&(0,ce.vZ)(Ft,Gr.config))return Gr;throw Ut.create("duplicate-app",{appName:Vt})}const Wt=new J.H0(Vt);for(const at of Tt.values())Wt.addComponent(at);const Ke=new En(ct,Ft,Wt);return wt.set(Vt,Ke),Ke}function Hi(ct=zn){const mt=wt.get(ct);if(!mt)throw Ut.create("no-app",{appName:ct});return mt}function Ie(){return Array.from(wt.values())}function Qn(ct){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(ct){const mt=ct.name;wt.has(mt)&&(wt.delete(mt),yield Promise.all(ct.container.getProviders().map(Ft=>Ft.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function gt(ct,mt,Ft){var Vt;let Gr=null!==(Vt=St[ct])&&void 0!==Vt?Vt:ct;Ft&&(Gr+=`-${Ft}`);const Wt=Gr.match(/\s|\//),Ke=mt.match(/\s|\//);if(Wt||Ke){const at=[`Unable to register library "${Gr}" with version "${mt}":`];return Wt&&at.push(`library name "${Gr}" contains illegal characters (whitespace or "/")`),Wt&&Ke&&at.push("and"),Ke&&at.push(`version name "${mt}" contains illegal characters (whitespace or "/")`),void de.warn(at.join(" "))}Ur(new J.wA(`${Gr}-version`,()=>({library:Gr,version:mt}),"VERSION"))}function Gt(ct,mt){if(null!==ct&&"function"!=typeof ct)throw Ut.create("invalid-log-argument");(0,N.Am)(ct,mt)}function mi(ct){(0,N.Ub)(ct)}Ur(new J.wA("platform-logger",mt=>new se(mt),"PRIVATE")),gt(ne,"0.7.11",""),gt(ne,"0.7.11","esm2017"),gt("fire-js","")},4859:(st,Ce,F)=>{"use strict";F.d(Ce,{wA:()=>N,H0:()=>ae});var u=F(5861),J=F(2090);class N{constructor(H,G,X){this.name=H,this.instanceFactory=G,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ce="[DEFAULT]";class se{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const X=new J.BH;if(this.instancesDeferred.set(G,X),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:G});Ue&&X.resolve(Ue)}catch(Ue){}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const X=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Ue=null!==(G=null==H?void 0:H.optional)&&void 0!==G&&G;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(xe){if(Ue)return null;throw xe}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if("EAGER"===H.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(G){}for(const[G,X]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(G);try{const xe=this.getOrInitializeService({instanceIdentifier:Ue});X.resolve(xe)}catch(xe){}}}}clearInstance(H=ce){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,u.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...G.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ce){return this.instances.has(H)}getOptions(H=ce){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,X=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:X,options:G});for(const[xe,je]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(xe)&&je.resolve(Ue);return Ue}onInit(H,G){var X;const Ue=this.normalizeInstanceIdentifier(G),xe=null!==(X=this.onInitCallbacks.get(Ue))&&void 0!==X?X:new Set;xe.add(H),this.onInitCallbacks.set(Ue,xe);const je=this.instances.get(Ue);return je&&H(je,Ue),()=>{xe.delete(H)}}invokeOnInitCallbacks(H,G){const X=this.onInitCallbacks.get(G);if(X)for(const Ue of X)try{Ue(H,G)}catch(xe){}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let X=this.instances.get(H);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(de=H,de===ce?void 0:de),options:G}),this.instances.set(H,X),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(X,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,X)}catch(Ue){}var de;return X||null}normalizeInstanceIdentifier(H=ce){return this.component?this.component.multipleInstances?H:ce:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new se(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ce,F)=>{"use strict";F.d(Ce,{in:()=>J,Yd:()=>ne,Ub:()=>ae,Am:()=>de});const u=[];var J=(()=>{return(H=J||(J={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",J;var H})();const N={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ce=J.INFO,se={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},me=(H,G,...X)=>{if(G<H.logLevel)return;const Ue=(new Date).toISOString(),xe=se[G];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[xe](`[${Ue}]  ${H.name}:`,...X)};class ne{constructor(G){this.name=G,this._logLevel=ce,this._logHandler=me,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in J))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?N[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...G),this._logHandler(this,J.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...G),this._logHandler(this,J.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,J.INFO,...G),this._logHandler(this,J.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,J.WARN,...G),this._logHandler(this,J.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...G),this._logHandler(this,J.ERROR,...G)}}function ae(H){u.forEach(G=>{G.setLogLevel(H)})}function de(H,G){for(const X of u){let Ue=null;G&&G.level&&(Ue=N[G.level]),X.userLogHandler=null===H?null:(xe,je,...Be)=>{const le=Be.map(K=>{if(null==K)return null;if("string"==typeof K)return K;if("number"==typeof K||"boolean"==typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch(ue){return null}}).filter(K=>K).join(" ");je>=(null!=Ue?Ue:xe.logLevel)&&H({level:J[je].toLowerCase(),message:le,args:Be,type:xe.name})}}}},5861:(st,Ce,F)=>{"use strict";function u(N,ce,se,me,ne,ae,de){try{var H=N[ae](de),G=H.value}catch(X){return void se(X)}H.done?ce(G):Promise.resolve(G).then(me,ne)}function J(N){return function(){var ce=this,se=arguments;return new Promise(function(me,ne){var ae=N.apply(ce,se);function de(G){u(ae,me,ne,de,H,"next",G)}function H(G){u(ae,me,ne,de,H,"throw",G)}de(void 0)})}}F.d(Ce,{Z:()=>J})}},st=>{st(st.s=7155)}]);